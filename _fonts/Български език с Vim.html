<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html save_image_to_download="true"><div id="saka-gui-root" style="position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; z-index: 2147483647; opacity: 1; pointer-events: none;"><div><div><style>
@font-face {
  font-family: Roboto; -moz-osx-font-smoothing: grayscale; -webkit-font-smoothing: antialiased;
  font-style: normal; font-weight: normal; src: url(moz-extension://c902aece-7150-4b89-91ae-a32a5fcde038/Roboto-Regular.tff) format('tff');
}
.saka-hint-body {
  all: initial;
position: absolute;
z-index: 2147483647;
opacity: 1;
font-family: Roboto, sans-serif;
font-weight: 900;
padding: 0.15rem 0.25rem;
border: 0px solid;
text-align: center;
text-decoration: none;
text-transform: uppercase;
vertical-align: middle;
font-size: 12px;
color: #3f51F5;
background-color: #ffffff;
border-color: #ffffff;
box-shadow: 0 3px 1px -2px rgba(0,0,0,.2), 0 2px 2px 0 rgba(0,0,0,.14), 0 1px 5px 0 rgba(0,0,0,.12);
border-radius: 4px;
transform: translate3d(0%, -50%, 0)
}
.saka-hint-normal-char {
  
}
.saka-hint-active-char {
  opacity: 0.5
}</style><div style="position: absolute; left: 0px; top: 0px;"></div></div></div></div><head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<title>Български език с Vim</title>
<link rel="stylesheet" type="text/css" href="%D0%91%D1%8A%D0%BB%D0%B3%D0%B0%D1%80%D1%81%D0%BA%D0%B8%20%D0%B5%D0%B7%D0%B8%D0%BA%20%D1%81%20Vim_files/style.css">
</head>

<body>
<table width="80%" align="center"><tbody><tr><td>

<h2>Писане на български (а също на руски, английски и др.) с Vim</h2>

<p class="noindent">За писане с азбуки, различни от латиницата, както и 
на технически, математически и други специални знаци и за други подобни 
цели Vim разполага с т.&nbsp;нар. <em>„клавиатурни таблици“</em> (КТ, англ. keymaps).  Чрез тях на отделни знаци или редици от знаци от клавиатурата се съпоставят знаци от <em>Универсалното кодово множество Уникод</em>
 (Unicode).  По този начин всяка такава таблица определя виртуална 
клавиатура.  Използването на КТ прави писането на ро̀ден или друг език <em>независимо от наличието на инсталиран клавиатурен драйвер за такъв език в операционната система</em>,
 а и от самата операционна система.  КТ са и функционално по-полезни от 
драйверите, защото чрез КТ могат да се определят по-богати виртуални 
клавиатури.  Освен това създаването и евентуално изменянето на КТ е 
напълно достъпно за всеки потребител на редактора: КТ са обикновени 
текстови файлове, а не програми.</p>

<p>За писане на български език, наред с някои допълнителни възможности, 
съм разработил две такива таблици, отговарящи на двете широко използвани
 у нас подреждания на азбуката върху клавиатурата, „БДС“ и фонетично.  
Понастоящем те се разпространяват стандартно с Vim.  Макар и по различен
 начин, двете таблици дават на пишещия еднакви възможности.  И двете 
таблици определят съответствия не само за българската азбука, а и за 
няколкото букви от руската азбука, които не са в българската, както и за
 някои препинателни и др. знаци.  Те осигуряват възможност и за 
поставяне на ударения.  Всяка от двете таблици позволява да се пише на <em>изцяло правилен в граматично отношение български, руски и английски езици</em>.  (Наборът от знаци на стандартната клавиатура <em>не</em> позволява това дори за английския!)</p>

<p>В текстов режим на редактора клавиатурата работи или по обичайния 
начин, възпроизвеждайки това, което е написано на клавишите, или с 
използване на КТ.  Преминаването от едното към другото и обратно става с
 клавишната комбинация <b>Ctrl-^</b>.  Когато клавиатурата е в 
алтернативен режим, т.е. използва се таблица, текстовият курсор е с друг
 цвят.  Ако в използваната таблица на дадена (обикновено къса, от два 
или три знака) редица е съпоставен някакъв „превод“, за да получим 
съответствието тази редица трябва да се изпише с много малко забавяне 
между частите ѝ;  в противен случай получаваме съответствията на 
отделните клавиши, а не на редицата като цяло.</p>

<p>Основната част от определенията и в „БДС“, и във фонетичната КТ 
отговаря точно на съответните разполагания, затова не се нуждае от 
пояснения.  По-долу са показани направените в двете КТ допълнителни 
определения: „бързи редици“ от два или три клавиша и съответно 
извежданите знаци.  Например, за да напишем <b>Ы</b> в БДС трябва да използваме „бързата редица“ <b>CX</b> (латиница), което всъщност отговаря на <b>ЪЙ</b>, тъй като в дадения момент пишем на кирилица.  Също за <b>Ы</b> при фонетично подреждане ще напишем <b>ЪИ</b> (лат. <b>YI</b>).  Ако съответната „бърза редица“ се изпише бавно, получава се именно <b>ЪЙ</b> или <b>ЪИ</b>.</p>

<table align="left"><tbody><tr><td>
<table><tbody><tr><td class="kmt" colspan="99"><u>За подредба БДС</u></td></tr><tr>
<td class="kmr">знак:</td>      <td class="kmc">Ё</td>    <td class="kmc">ё</td>    <td class="kmc">Ы</td>   <td class="kmc">„</td>   <td class="kmc">“</td>   <td class="kmc">”</td>   <td class="kmc">‘</td>    <td class="kmc">’</td>   <td class="kmc">«</td>   <td class="kmc">»</td>   <td class="kmc">–</td>   <td class="kmc">—</td>    <td class="kmc">…</td>   <td class="kmc">•</td>   <td class="kmc">·</td>   <td class="kmc">±</td>   <td class="kmc">°</td>   <td class="kmc">¬</td>   <td class="kmc">¤</td>   <td class="kmc">€</td>   <td class="kmc">‰</td>   <td class="kmc">†</td>   <td class="kmc">‡</td>   <td class="kmc">¶</td>
</tr><tr>
<td class="kmr">клавиши:</td>   <td class="kmk">E::</td>  <td class="kmk">e::</td>  <td class="kmk">CX</td>  <td class="kmk">,,</td>  <td class="kmk">``</td>  <td class="kmk">''</td>  <td class="kmk">`.</td>   <td class="kmk">'.</td>  <td class="kmk">&lt;&lt;</td>  <td class="kmk">&gt;&gt;</td>  <td class="kmk">--</td>  <td class="kmk">---</td>  <td class="kmk">..</td>  <td class="kmk">**</td>  <td class="kmk">,.</td>  <td class="kmk">+-</td>  <td class="kmk">^o</td>  <td class="kmk">~~</td>  <td class="kmk">@@</td>  <td class="kmk">$$</td>  <td class="kmk">%%</td>  <td class="kmk">+|</td>  <td class="kmk">++</td>  <td class="kmk">||</td>
</tr></tbody></table>
</td></tr><tr><td>
<table><tbody><tr><td class="kmt" colspan="99"><u>За фонетична подредба</u></td></tr><tr>
<td class="kmr">знак:</td>      <td class="kmc">Ё</td>    <td class="kmc">ё</td>    <td class="kmc">Ы</td>   <td class="kmc">ы</td>   <td class="kmc">Э</td>   <td class="kmc">э</td>   <td class="kmc">„</td>   <td class="kmc">“</td>   <td class="kmc">”</td>   <td class="kmc">‘</td>   <td class="kmc">’</td>   <td class="kmc">«</td>  <td class="kmc">»</td>   <td class="kmc">§</td>   <td class="kmc">№</td>   <td class="kmc">–</td>   <td class="kmc">—</td>    <td class="kmc">…</td>   <td class="kmc">•</td>   <td class="kmc">·</td>   <td class="kmc">±</td>   <td class="kmc">°</td>   <td class="kmc">¬</td>   <td class="kmc">¤</td>   <td class="kmc">€</td>   <td class="kmc">‰</td>   <td class="kmc">†</td>   <td class="kmc">‡</td>   <td class="kmc">¶</td>
</tr><tr>
<td class="kmr">клавиши:</td>   <td class="kmk">E::</td>  <td class="kmk">e::</td>  <td class="kmk">YI</td>  <td class="kmk">yi</td>  <td class="kmk">YE</td>  <td class="kmk">ye</td>  <td class="kmk">,,</td>  <td class="kmk">``</td>  <td class="kmk">''</td>  <td class="kmk">`.</td>  <td class="kmk">'.</td>  <td class="kmk">&lt;&lt;</td> <td class="kmk">&gt;&gt;</td>  <td class="kmk">!!</td>  <td class="kmk">##</td>  <td class="kmk">--</td>  <td class="kmk">---</td>  <td class="kmk">..</td>  <td class="kmk">**</td>  <td class="kmk">,.</td>  <td class="kmk">+-</td>  <td class="kmk">^o</td>  <td class="kmk">~~</td>  <td class="kmk">@@</td>  <td class="kmk">$$</td>  <td class="kmk">%%</td>  <td class="kmk">+|</td>  <td class="kmk">++</td>  <td class="kmk">||</td>
</tr></tbody></table>
</td></tr></tbody></table>

<p><u>Забележки</u>.</p>

<ul>
<li>В руската азбука има точно три букви, всяка като главна и малка,  които нашата азбука няма: <b>Ё&nbsp;ё</b>, <b>Ы&nbsp;ы</b> и <b>Э&nbsp;э</b>.  В подредбата „БДС“, кой знае защо, са предвидени <b>Ё</b>, <b>ё</b> и <b>Ы</b>, а другите три отсъстват.  Клавиатурната таблица за Vim поправя този пропуск.</li>

<li>Подредбата „БДС“ включва и използваните у нас и другаде в Европа, но не в <em>Обединените Щати</em> (което е <em>правилният</em> превод на United States) <b>§</b> и <b>№</b>.
  Никое от изброените не присъства във фонетичното подреждане – то 
съдържа само българската азбука.  Съответната на фонетичното подреждане 
КТ за Vim задава свои, „нестандартни“ съответствия за тези букви и 
знаци.</li>

<li>Останалите знаци са за поставяне на кавички, тирета, многоточие, 
обозначения за валута и&nbsp;пр.  Например кавичките в българския език 
се пишат „така“, а в някои случаи се използват т.нар. <em>горни запетаи</em> (’…’).  Следва да различаваме тире (<code>–</code>) от чертица или малко тире (<code>-</code>); второто е представено непосредствено на клавиатурата, а първото, чрез коя да е от двете КТ, задаваме с <code>--</code>.  Кавичките в руския език са <code>«</code> и <code>»</code>).  В английския граматически правилните двойки кавички са <code>‘&nbsp;’</code> и <code>“&nbsp;”</code> (обърнете внимание, че никой от тези четири знака <em>не присъства непосредствено на клавиатурата</em> и че <code>"</code>
 не е знак за кавички в никой език).  Също в английския се използва и 
дългото тире, което, както е ясно от по-горе, във Vim можем да напишем с
 <code>---</code>.  Споменатите знаци се използват и в някои други езици.</li>
</ul>

<p>Която и от двете КТ за български език да използваме, ударение можем да поставим с помощта на „бързата редица“ <code>^`</code>,
 която набираме непосредствено след (в текста, не във времето) 
съответната гласна.  За пълнота присъства и ударението в руския език 
(дясно) – то се поставя с помощта на редицата <code>^'</code>.</p>

<p>Конфигурационният файл <a href="http://www.math.bas.bg/bantchev/vim/vimrc"><tt>vimrc</tt></a> задава фонетичната таблица като подразбираща се.  Можем да изберем „БДС“ за такава, като преместим коментарния знак <code>"</code> в този файл от <code>…bds</code> на <code>…phonetic</code>.  С помощта на командите<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>:set keymap=bulgarian-bds</code>&nbsp;&nbsp;и<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>:set keymap=bulgarian-phonetic</code>,<br>
можем да избираме коя таблица да ползваме и по време на работа с редактора.</p>

<p>Включените допълнително, наред с азбуката, знаци в двете КТ са всички от т.нар. <a href="http://en.wikipedia.org/wiki/Cp1251">„кодова страница <em>cp1251</em>“</a>,
 която у нас е засега най-широко използваното представяне на кирилица.  
(Предполага се в бъдеще все повече да се използват не кодови страници, а
 споменатото универсално кодово множество – Уникод, което вмества всички
 „страници“, азбуки, математическа и техническа писменост и др.)  
Буквите с ударения обаче за съжаление не са в <em>cp1251</em>.</p>

<p>
(Горното не означава, че вместо ударената гласна <b>ѝ</b> можем да използваме съгласната <b>й</b> – нелепа, безотговорна и много неграмотна практика, за съжаление напоследък широко разпространена.  Ако не можем да използваме <b>ѝ</b>, заради несъвместимост с <em>cp1251</em> или друга причина, много по-приемливо е да поставим на негово място просто <b>и</b>.)
</p>

<p>Представеният в <em>cp1251</em> текст би трябвало да се „разбира“ без
 трудности от всяка четяща текст програма у нас.  Немалко програми 
разбират и Уникод, но тъй като (засега) той не се <em>подразбира</em>, 
за правилното прочитане на такъв текст от друга програма може да са 
нужни някои допълнителни действия.  Vim може да бъде настроен така че да
 разпознава сам дали прочитаният от него текст е <em>cp1251</em> или <em>utf-8</em> (вид представяне на Уникод) и записва файла по същия начин както е прочетен.  Точно това е направено в конфигурационния файл <a href="http://www.math.bas.bg/bantchev/vim/vimrc"><tt>vimrc</tt></a>.  От друга страна, Vim е настроен и (независимо от представянето на файла) да използва <em>utf-8</em> като свое <em>вътрешно представяне</em> – така че можем да пишем без ограничения на включваните знаци.  Ако обаче се опитаме да запишем текст в <em>cp1251</em> или друга кодова страница, в която този текст не е представим, Vim съобщава за това и не извършва записа.</p>

<p>Представянето (кодирането) на файл може да се зададе изрично напр. с<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>:set fenc=utf-8</code>&nbsp;&nbsp;или<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code>:set fenc=cp1251</code><br>
(<code>fenc</code> е съкр. от <em>file encoding</em>).
</p>

<p class="sign"><a href="http://www.math.bas.bg/bantchev">—Б.Б.</a></p>
</td></tr></tbody></table>



</body></html>