/* All source code is (c) Mibbit.com. Unauthorized use/reverse engineering/copying is prohibited. */
var p,aa="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};function ba(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var ca=ba(this);
function da(a,b){if(b){var c=ca;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&aa(c,a,{configurable:!0,writable:!0,value:b})}}da("Array.prototype.fill",function(a){return a?a:function(b,c,d){var e=this.length||0;0>c&&(c=Math.max(0,e+c));if(null==d||d>e)d=e;d=Number(d);0>d&&(d=Math.max(0,e+d));for(c=Number(c||0);c<d;c++)this[c]=b;return this}});var JSON=JSON||{},q,ea;
(function(){function a(l){return 10>l?"0"+l:l}function b(l){e.lastIndex=0;return e.test(l)?'"'+l.replace(e,function(m){var n=k[m];return"string"===typeof n?n:"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+l+'"'}function c(l,m){var n=f,r=m[l];r&&"object"===typeof r&&"function"===typeof r.toJSON&&(r=r.toJSON(l));"function"===typeof g&&(r=g.call(m,l,r));switch(typeof r){case "string":return b(r);case "number":return isFinite(r)?String(r):"null";case "boolean":case "null":return String(r);
case "object":if(!r)return"null";f+=h;var u=[];if("[object Array]"===Object.prototype.toString.apply(r)){var v=r.length;for(l=0;l<v;l+=1)u[l]=c(l,r)||"null";m=0===u.length?"[]":f?"[\n"+f+u.join(",\n"+f)+"\n"+n+"]":"["+u.join(",")+"]";f=n;return m}if(g&&"object"===typeof g)for(v=g.length,l=0;l<v;l+=1){var z=g[l];"string"===typeof z&&(m=c(z,r))&&u.push(b(z)+(f?": ":":")+m)}else for(z in r)Object.hasOwnProperty.call(r,z)&&(m=c(z,r))&&u.push(b(z)+(f?": ":":")+m);m=0===u.length?"{}":f?"{\n"+f+u.join(",\n"+
f)+"\n"+n+"}":"{"+u.join(",")+"}";f=n;return m}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
e=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,h,k={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},g;"function"!==typeof q&&(q=function(l){h=f="";g=void 0;return c("",{"":l})});"function"!==typeof ea&&(ea=function(l){d.lastIndex=0;d.test(l)&&(l=l.replace(d,function(m){return"\\u"+("0000"+m.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(l.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return l=eval("("+l+")");throw new SyntaxError("JSON.parse");})})();
function fa(a){this.s=a;this.document=a.ownerDocument;this.ac=null;this.pe=[];this.fc=document.createElement("div");t({display:"none",position:"absolute",top:"0%",left:"0%",width:"100%",height:"100%",backgroundColor:"black",zIndex:"1001"},this.fc.style);t({MozOpacity:"0.6",opacity:".66",filter:"alpha(opacity=66)"},this.fc.style);this.s.appendChild(this.fc);this.Ja=document.createElement("div");t({display:"none",position:"absolute",top:"25%",left:"25%",width:"50%",height:"50%",padding:"8px",border:"14px solid #000",
backgroundColor:"white"},this.Ja.style);t({borderRadius:"12px",MozBorderRadius:"12px",WebKitBorderRadius:"12px"},this.Ja.style);t({zIndex:"1002",overflow:"auto"},this.Ja.style);this.s.appendChild(this.Ja)}
fa.prototype.alert=function(a,b,c,d){var e=document.createElement("div");t({border:"1px solid #ccc",background:"#eee",margin:"2px",padding:"4px",fontSize:"15px",textAlign:"center",color:"#000",fontWeight:"bold"},e.style);e.appendChild(this.document.createTextNode(a));if(b){if(c){e.appendChild(this.document.createElement("br"));var f=this.document.createElement("form");f.style.display="inline";f.onsubmit=function(k){return function(){try{b(h.value)}catch(g){w&&x("ErrorLog","Issue "+g,y)}ha(k);return!1}}(this);
e.appendChild(f);var h=this.document.createElement("input");d&&(h.value=d);h.style.marginRight="4px";h.style.marginLeft="4px";t({type:"text",size:32},h);t({background:"#fff",padding:"2px",fontFamily:"Sans-Serif",fontSize:"13px",color:"#222",border:"1px solid #444",borderRadius:"4px",MozBorderRadius:"4px",WebkitBorderRadius:"4px"},h.style);f.appendChild(h);d=this.document.createElement("div");t({cursor:"pointer",textDecoration:"underline"},d.style);d.onclick=function(k){return function(){try{b(h.value)}catch(g){w&&
x("ErrorLog","Issue "+g,y)}ha(k)}}(this);d.appendChild(this.document.createTextNode("OK"))}else e.appendChild(this.document.createElement("br")),d=this.document.createElement("span"),t({cursor:"pointer",textDecoration:"underline",fontSize:"19px",fontWeight:"bold",color:"#c00"},d.style),d.onclick=function(k){return function(){b(!1);ha(k)}}(this),d.appendChild(this.document.createTextNode("Cancel")),e.appendChild(d),e.appendChild(this.document.createTextNode(" | ")),d=this.document.createElement("span"),
t({cursor:"pointer",textDecoration:"underline",fontSize:"19px",fontWeight:"bold",color:"#0c0"},d.style),d.onclick=function(k){return function(){b(!0);ha(k)}}(this),d.appendChild(this.document.createTextNode("Yes"));e.appendChild(d)}a={msg:a,cb:b};c&&(a.isprompt=!0);a={element:e,closecb:function(){b&&b(!1)},initcb:function(){if(h)try{h.focus()}catch(k){}}};ia(this,a)};function ia(a,b){null==a.ac?a.show(b):a.pe.push(b)}
fa.prototype.show=function(a){this.fc.style.display="block";this.Ja.style.display="block";var b=this.document.createElement("div");b.style.textAlign="right";b.style.height="16px";this.Ja.appendChild(b);var c=this.document.createElement("img");A(c,"https://s3.amazonaws.com/mibbit/gfx/close-win-red.png",12,12);c.onclick=function(d){return function(){a.closecb&&a.closecb();ha(d)}}(this);c.style.margin="2px";c.title="Close window";b.appendChild(c);this.fc.onclick=c.onclick;this.ac=a.element;this.Ja.appendChild(this.ac);
a.initcb&&a.initcb()};function ha(a){if(null!=a.ac){a.fc.style.display="none";for(a.Ja.style.display="none";a.Ja.firstChild;)a.Ja.removeChild(a.Ja.firstChild);a.ac=null;0<a.pe.length&&a.show(a.pe.shift())}}function ja(){for(var a=C;null!=a.ac;)ha(a)}fa.prototype.Jc=function(){return null!=this.ac};
function ka(a,b,c){function d(k,g){var l=h.insertRow(-1),m=l.insertCell(-1);t({textAlign:"right",fontSize:"15px"},m.style);l=l.insertCell(-1);m.appendChild(a.createTextNode(k));k=a.createElement("input");k.type="text";k.Ng=!0;k.size=32;k.value=g;t({border:"1px solid #888",padding:"2px",fontSize:"15px"},k.style);l.appendChild(k)}var e=a.createElement("div");e.style.textAlign="center";var f=a.createElement("h3");f.appendChild(a.createTextNode("Share a link to this channel with friends."));e.appendChild(f);
f=a.createElement("h3");f.appendChild(a.createTextNode("Email, Facebook, Twitter, anywhere."));e.appendChild(f);f=a.createElement("form");f.style.textAlign="center";e.appendChild(f);f.onsubmit=function(){return!1};var h=a.createElement("table");h.style.margin="auto";h.style.marginTop="24px";h.style.fontSize="15px";f.appendChild(h);f="https://mibbit.com/?channel="+encodeURIComponent(c)+"&server="+encodeURIComponent(b);d("Mibbit link:",f);"#"==c.substring(0,1)&&(c=c.substring(1,c.length));d("IRC:// link:",
"irc://"+b+"/"+encodeURIComponent(c));return e}var D={get:function(a){return D[F.language]&&D[F.language][a]?D[F.language][a]:D.en[a]}};window.DisplayStrings=D;var la={},G,ma,na,oa,pa=0,qa=0;function ra(a,b){G&&(G.style.left=a+"px",G.style.right=a+"px",G.style.top=b+"px");pa=a;qa=b}
function sa(a){if(!wa.oe){if(!G&&a&&!la.Hg){728>document.body.clientWidth-2*F.cgmMargins?(na=60,oa=468):(na=90,oa=728);G=document.createElement("div");G.style.left=pa+"px";G.style.right=pa+"px";G.style.top=qa+"px";G.style.textAlign="center";G.style.overflow="hidden";G.style.width=oa;G.style.height=na;document.body.appendChild(G);var b=document.createElement("iframe");G.appendChild(b);t({border:"0",overflow:"hidden",margin:"0",width:oa+"px",height:na+"px"},b.style);b.setAttribute("framespacing","0");
b.setAttribute("frameborder","no");b.setAttribute("scrolling","no");if(728==oa){b.id="a09d0787";b.name="a09d0787";b.src="http://a.mibbit.com/www/delivery/afr.php?refresh=180&zoneid=2&target=_blank&cb="+Math.random();var c=document.createElement("a");c.href="http://a.mibbit.com/www/delivery/ck.php?n=a9e8eb92&cb="+Math.random();c.target="_blank";var d=document.createElement("img");d.border="0";d.src="http://a.mibbit.com/www/delivery/avw.php?zoneid=2&n=a9e8eb92&cb="+Math.random();b.appendChild(c);c.appendChild(d)}else 468==
oa&&(b.id="ac1aff38",b.name="ac1aff38",b.src="http://a.mibbit.com/www/delivery/afr.php?refresh=180&zoneid=3&target=_blank&cb="+Math.random(),c=document.createElement("a"),c.href="http://a.mibbit.com/www/delivery/ck.php?n=a13e2b62&cb="+Math.random(),c.target="_blank",d=document.createElement("img"),d.border="0",d.src="http://a.mibbit.com/www/delivery/avw.php?zoneid=3&n=a13e2b62&cb="+Math.random(),b.appendChild(c),c.appendChild(d));w&&x("Adverts.create","using an iframe",J)}G&&t({position:"absolute",
zIndex:"200",display:a?"block":"none"},G.style)}}
function xa(a,b,c){this.F=a;this.f=a.ownerDocument;this.cd=b;this.a=c;t({background:this.a.ulistPaneBackground,border:"1px solid "+this.a.ulistPaneBorder,borderRadius:this.a.ulistPaneRounding+"px",MozBorderRadius:this.a.ulistPaneRounding+"px",WebkitBorderRadius:this.a.ulistPaneRounding+"px",padding:this.a.ulistPaneRounding+"px",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none"},this.F.style);this.Sc=[];this.xb="icon";ya(this);this.clear();this.Ag=window.setInterval(function(d){return function(){for(var e in d.c)if(d.c.hasOwnProperty(e)){var f=
d.c[e];za(f);var h=f.Rb.style,k=f.Qa;Aa(f);f.a.userListBoldOnChat&&(h.fontWeight=f.Qa?"bold":"normal");Ba(f,f.description);k!=f.Qa&&Ca(d,e)}}}(this),1E4)}function ya(a){a.xc=[];for(var b=0;b<a.a.userListGroups.length;b++)a.xc.push(new Da(a.F,a.a.userListGroups[b],a.a.userListSort,a.a))}p=xa.prototype;p.clear=function(){Ea(this);for(var a in this.c)this.c.hasOwnProperty(a)&&Fa(this,this.c[a]);this.c={};delete this.$};
p.C=function(){Ea(this);for(var a in this.c)this.c.hasOwnProperty(a)&&(this.c[a].C(),Fa(this,this.c[a]));for(;this.F.firstChild;)this.F.removeChild(this.F.firstChild);ya(this);for(a in this.c)this.c.hasOwnProperty(a)&&Ga(this,this.c[a]);t({background:this.a.ulistPaneBackground,border:"1px solid "+this.a.ulistPaneBorder,borderRadius:this.a.ulistPaneRounding+"px",MozBorderRadius:this.a.ulistPaneRounding+"px",WebkitBorderRadius:this.a.ulistPaneRounding+"px",padding:this.a.ulistPaneRounding+"px"},this.F.style)};
p.size=function(){for(var a=0,b=0;b<this.xc.length;b++)a+=this.xc[b].Pc;return a};function Fa(a,b){a.$?a.Sc.push({type:"remove",bd:b}):b.group.mc(b)}function Ca(a,b){a.$?a.Sc.push({type:"refresh",bd:b}):(Fa(a,a.c[b]),Ga(a,a.c[b]))}function Ga(a,b){if(a.$)a.Sc.push({type:"add",bd:b});else{a:{for(var c=0;c<a.xc.length;c++)if(Ha(b,a.xc[c].Jf)){a=a.xc[c];break a}a=!1}b.group=a;b.group.gd(b)}}
p.gd=function(a){var b={};b.click=function(c){return function(d){Ia(c,d);return!1}}(this);b.eg=function(c){return function(d){c.$&&c.$==d||Ka(d,!0)}}(this);b.dg=function(c){return function(d){c.$&&c.$==d||Ka(d,!1)}}(this);b.Xd=function(c){return function(){"icon"==c.xb?c.xb="flag":"flag"==c.xb?c.xb="time":"time"==c.xb&&(c.xb="icon");var d={};d[c.xb]=!0;for(var e in c.c)c.c.hasOwnProperty(e)&&La(c.c[e],d)}}(this);a=new Ma(a.id,a,this.f,this.a,b);b={};b[this.xb]=!0;La(a,b);"undefined"!=typeof this.c[a.wb]&&
this.mc(a.wb);Ga(this,a);this.c[a.wb]=a};p.mc=function(a){"undefined"!=typeof this.c[a]&&(this.$&&this.$==this.c[a]&&delete this.$,Fa(this,this.c[a]),delete this.c[a])};function Na(a,b,c){"undefined"!=typeof a.c[b]&&(a.c[b].setActive(c),Ca(a,b))}function Oa(a,b){if("undefined"!=typeof a.c[b]){var c=a.c[b];c.Qa=!0;c.Ha=Math.floor((new Date).getTime()/1E3);c.a.userListBoldOnChat&&(c.Rb.style.fontWeight="bold");Ba(c,c.description);Ca(a,b)}}
function Pa(a,b,c,d){"undefined"!=typeof a.c[b]&&(Qa(a.c[b],c,d),Ca(a,b))}function Ra(a,b,c){if("undefined"!=typeof a.c[b]){var d=a.c[b];d.h=c;d.Rb.firstChild.nodeValue=c;a.mc(b);d.wb=c;Ga(a,d);a.c[d.wb]=d}}function Sa(a,b,c){"undefined"!=typeof a.c[b]&&a.c[b].$b(c)}
function Ia(a,b){if(a.$&&a.$==b)(new Date).getTime()-a.rg<a.a.doubleClickTime&&a.a.doubleClickToPM&&a.cd(b.wb,"usermenu0"),Ea(a),a.cd(b.wb,"closed");else{a.rg=(new Date).getTime();Ea(a);a.$=b;var c=a.f.createElement("div");b.F.onmouseout=function(h){return function(k){for(k=k.relatedTarget||k.toElement;null!=k&&k!=document.body;){if(k==b.F)return;k=k.parentNode}h.zb&&window.clearTimeout(h.zb);h.zb=window.setTimeout(function(){Ea(h)},h.a.userListMenuAutoCloseTime)}}(a);b.F.onmouseover=function(h){return function(){h.zb&&
(window.clearTimeout(h.zb),delete h.zb)}}(a);t({background:a.a.userListMenuBackground,borderBottom:"1px solid #444",padding:"2px"},c.style);for(var d=a.cd(b.wb,"getoptions"),e=0;e<d.length;e++){var f=a.f.createElement("div");f.onclick=function(h,k){return function(){h.cd&&h.cd(b.wb,k);Ea(h)}}(a,d[e].id);f.appendChild(a.f.createTextNode(d[e].desc));t({cursor:"pointer",color:a.a.userListMenuColor,overflow:"hidden",whiteSpace:"nowrap",fontSize:a.a.userListMenuFontSize+"px",fontFamily:a.a.userListMenuFontFamily,
textDecoration:"none",paddingLeft:"2px",paddingRight:"2px"},f.style);e!=d.length-1&&(f.style.borderBottom="1px solid #aaa");a.a.userListMenuBackgroundHover&&(f.onmouseover=function(h,k){return function(){h.style.background=k}}(f,a.a.userListMenuBackgroundHover),f.onmouseout=function(h,k){return function(){h.style.background=k}}(f,a.a.userListMenuBackground));c.appendChild(f)}b.F.appendChild(c);window.setTimeout(function(h,k){return function(){var g=k.F.offsetTop+k.F.offsetHeight,l=h.clientHeight;
k.F.offsetTop<h.scrollTop&&(h.scrollTop=k.F.offsetTop);g>h.scrollTop+l&&(h.scrollTop=g-l)}}(a.F,b),50);b.P.style.background=a.a.userListSelected}}function Ea(a){a.$&&(Ka(a.$,!1),a.$.F.removeChild(a.$.F.lastChild),a.$.F.onmouseover=null,a.$.F.onmouseout=null,a.zb&&(window.clearTimeout(a.zb),delete a.zb),delete a.$);for(;0<a.Sc.length;){var b=a.Sc.shift();"add"==b.type?Ga(a,b.bd):"remove"==b.type?Fa(a,b.bd):"refresh"==b.type&&Ca(a,b.bd)}}
function Da(a,b,c,d){this.Jf=b.def;this.title=b.title;this.Uf=b.hideOnEmpty;this.zg=b.startHidden;this.a=d;this.yg=c;this.Pc=0;this.vb=[];this.tb=!0;this.ca=a.ownerDocument.createElement("div");this.ld=a.ownerDocument.createElement("div");""!=this.title&&(this.Id=a.ownerDocument.createElement("div"),t({fontFamily:this.a.userGroupFontFamily,fontSize:this.a.userGroupFontSize+"px",color:this.a.userGroupColor,background:this.a.userGroupBackground,textAlign:"center",cursor:"pointer",userSelect:"none",
MozUserSelect:"none",WebkitUserSelect:"none"},this.Id.style),this.Id.onclick=function(e){return function(){e.tb=!e.tb;e.ca.style.display=e.tb?"block":"none";Ta(e);return!1}}(this),this.ve=a.ownerDocument.createTextNode(this.title),this.Id.appendChild(this.ve),this.ld.appendChild(this.Id));this.ld.appendChild(this.ca);this.update();this.zg&&(this.tb=!1,this.ca.style.display="none");a.appendChild(this.ld)}function Ta(a){a.ve&&(a.ve.nodeValue=a.tb?a.title:a.title+" ("+a.Pc+")")}
Da.prototype.update=function(){Ta(this);this.ld.style.display=0==this.Pc&&this.Uf?"none":"block"};Da.prototype.mc=function(a){this.ca.removeChild(a.F);for(var b=0;b<this.vb.length;b++)if(this.vb[b]==a){this.Pc--;this.vb.splice(b,1);break}this.update()};Da.prototype.gd=function(a){var b=Ua(this.vb,this.yg,a,0,this.vb.length);this.Pc++;b==this.vb.length?(this.ca.appendChild(a.F),this.vb.push(a)):(this.ca.insertBefore(a.F,this.vb[b].F),this.vb.splice(b,0,a));this.update()};
function Ma(a,b,c,d,e){this.a=d;this.ha=e;this.f=c;this.wb=a;this.h=b.nick;this.icon=b.icon;this.description=b.desc;this.pd=b.ci;this.Gc=b.countrycode;"undefined"!=typeof b.localtime&&(this.ke=parseInt(b.localtime)-(new Date).getTime());this.ue=b.timezone;this.Tb={icon:!0,country:!1,time:!1};this.vc=!1;this.active=b.modes.active;this.Ha=-1;-1!=b.idleTime&&(this.Ha=Math.floor((new Date).getTime()/1E3)-b.idleTime);Aa(this);this.mode={owner:b.modes.owner,admin:b.modes.admin,op:b.modes.op,halfop:b.modes.halfop,
voice:b.modes.voice};this.pa={};this.F=this.f.createElement("div");this.P=this.f.createElement("div");this.F.appendChild(this.P);this.C()}function Aa(a){a.Qa=-1==a.Ha?!1:(new Date).getTime()/1E3-a.Ha<a.a.userListChattingTime}function La(a,b){a.Tb=b;a.S&&(a.S.style.display=a.Tb.time?"inline":"none");a.Ta&&(a.Ta.style.display=a.Tb.flag?"inline":"none");a.ma&&(a.ma.style.display=a.Tb.icon?"inline":"none")}function Ka(a,b){a.P.style.background=b?a.a.userListHover:"transparent"}
Ma.prototype.C=function(){for(;this.P.firstChild;)this.P.removeChild(this.P.firstChild);this.P.onmouseover=function(b){return function(){b.ha.eg(b)}}(this);this.P.onmouseout=function(b){return function(){b.ha.dg(b)}}(this);delete this.S;delete this.Ta;delete this.ma;delete this.Sb;delete this.Fa;this.S=this.f.createElement("img");t({marginRight:"2px",verticalAlign:this.a.userListIconAlign,display:this.Tb.time?"inline":"none"},this.S.style);this.S.onclick=function(b){return function(){b.ha.Xd();return!1}}(this);
za(this);this.Ta=this.f.createElement("img");t({marginRight:"2px",verticalAlign:this.a.userListIconAlign,display:this.Tb.flag?"inline":"none"},this.Ta.style);this.Ta.onclick=function(b){return function(){b.ha.Xd();return!1}}(this);this.Gc&&(this.Ta.title=this.Gc);A(this.Ta,this.Gc?"https://s3.amazonaws.com/mibbit/flags/"+this.Gc.toLowerCase()+".png":"https://s3.amazonaws.com/mibbit/gfx/mode_none.png",this.a.userListIconWidth,this.a.userListIconHeight);this.icon&&this.a.userListShowIcons?(this.ma=
this.f.createElement("img"),this.ma.style.marginRight="2px",this.ma.style.display=this.Tb.icon?"inline":"none",this.ma.onclick=function(b){return function(){b.ha.Xd();return!1}}(this),Va(this,this.icon)):delete this.ma;this.P.onclick=function(b){return function(c){c||(c=window.event);c=c.target?c.target:c.srcElement;if(c!=b.S&&c!=b.Ta&&c!=b.ma)return b.ha.click(b),!1}}(this);this.Rb=this.f.createElement("span");t({fontFamily:this.a.userListFontFamily,fontSize:this.a.userListFontSize+"px",cursor:"pointer",
whiteSpace:"nowrap"},this.Rb.style);this.Rb.appendChild(this.f.createTextNode(this.h));this.a.userListShowPrefixChars?(this.Sb=this.f.createElement("span"),t({fontFamily:this.a.userListFontFamily,fontSize:this.a.userListFontSize+"px",color:this.a.userListColorNormal,fontWeight:"bold",cursor:"pointer"},this.Sb.style)):this.a.userListShowSingleMode&&(this.Fa=this.f.createElement("img"),this.Fa.style.verticalAlign=this.a.userListModeIconAlign,A(this.Fa,"https://s3.amazonaws.com/mibbit/gfx/mode_none.png",
this.a.userListModeIconWidth,this.a.userListModeIconHeight));this.ma&&this.P.appendChild(this.ma);this.Ta&&this.P.appendChild(this.Ta);this.S&&this.P.appendChild(this.S);this.Sb&&this.P.appendChild(this.Sb);this.Fa&&this.a.userListShowModesLeft&&(this.P.appendChild(this.Fa),this.Fa.style.paddingRight=this.a.userListModeSpacing+"px");this.P.appendChild(this.Rb);this.Fa&&!this.a.userListShowModesLeft&&(this.P.appendChild(this.Fa),this.Fa.style.paddingLeft=this.a.userListModeSpacing+"px");this.P.style.whiteSpace=
"nowrap";this.P.style.padding=this.a.userListPadding+"px";Ba(this,this.description);this.pa={};for(var a=0;a<K.length;a++)Qa(this,K[a],this.mode[K[a]]);this.F.style.overflow="hidden";this.rb()};
function Wa(a,b,c){c=c.split(",");for(var d=0;d<c.length;d++){var e=c[d];if("chatting"==e){if(a.Qa!=b.Qa)return a.Qa&&!b.Qa?-1:1}else if("active"==e){if(a.active!=b.active)return a.active&&!b.active?-1:1}else if(("owner"==e||"admin"==e||"op"==e||"halfop"==e||"voice"==e)&&a.mode[e]!=b.mode[e])return a.mode[e]&&!b.mode[e]?-1:1}return a.h.toLowerCase()>b.h.toLowerCase()?1:a.h.toLowerCase()<b.h.toLowerCase()?-1:0}
function Ua(a,b,c,d,e){var f=e-d;if(0==f)return e;if(1==f)return 0<Wa(c,a[d],b)?e:d;if(2==f)return 0<Wa(c,a[d],b)?0<Wa(c,a[e-1],b)?e:e-1:d;f=Math.floor((d+e)/2);var h=Wa(c,a[f],b);if(0>h)return Ua(a,b,c,d,f);if(0==h)return f;if(0<h)return Ua(a,b,c,f,e)}
function Ha(a,b){b=b.split(",");for(var c=0;c<b.length;c++){var d=b[c],e=!0;"!"==d.substring(0,1)&&(d=d.substring(1,d.length),e=!1);if("chatting"==d){if(a.Qa!=e)return!1}else if("active"==d){if(a.active!=e)return!1}else if(("owner"==d||"admin"==d||"op"==d||"halfop"==d||"voice"==d)&&a.mode[d]!=e)return!1}return!0}
function za(a){if(a.S)if("undefined"==typeof a.ke||"undefined"==typeof a.ue)a.S.title="",A(a.S,"https://s3.amazonaws.com/mibbit/gfx/mode_none.png",16,16);else{var b=new Date(a.ke+(new Date).getTime()),c=b.getUTCHours()+":"+("00"+b.getUTCMinutes()).substr(-2)+":"+("00"+b.getUTCSeconds()).substr(-2),d="+",e=a.ue;0>e&&(d="-",e=-e);var f=Math.floor(e/60);a.S.title=c+" UTC"+d+("00"+f).substr(-2)+("00"+(e-60*f)).substr(-2);b=b.getUTCHours();22<b||8>b?A(a.S,"https://s3.amazonaws.com/mibbit/gfx/night.png",
a.a.userListIconWidth,a.a.userListIconHeight):8<=b&&12>b?A(a.S,"https://s3.amazonaws.com/mibbit/gfx/morning.png",a.a.userListIconWidth,a.a.userListIconHeight):12<=b&&18>b?A(a.S,"https://s3.amazonaws.com/mibbit/gfx/day.png",a.a.userListIconWidth,a.a.userListIconHeight):18<=b&&22>=b&&A(a.S,"https://s3.amazonaws.com/mibbit/gfx/evening.png",a.a.userListIconWidth,a.a.userListIconHeight)}}
Ma.prototype.rb=function(){var a=this.Rb.style;this.a.userListBoldOnChat&&(a.fontWeight=this.Qa?"bold":"normal");a.color=this.active?this.vc&&""!=this.a.userListColorTyping?this.a.userListColorTyping:this.a.ciUserListColorNormal&&this.pd&&this.pd.userListColorNormal?this.pd.userListColorNormal:this.a.userListColorNormal:this.a.userListColorInactive};
function Va(a,b){a.icon=b;a.ma&&(a.ma.style.verticalAlign=a.a.userListIconAlign,a.icon.name?(b=a.a["ulicon_"+a.icon.name],Xa&&"undefined"!=typeof DATA_URLS&&DATA_URLS[b]&&(b=DATA_URLS[b]),A(a.ma,b,a.a.userListIconWidth,a.a.userListIconHeight)):A(a.ma,a.icon.src,a.a.userListIconWidth,a.a.userListIconHeight),a.icon.title&&(a.ma.title=a.icon.title))}
function Ba(a,b){var c=a.description=b;-1!=a.Ha&&(c=Math.floor((new Date).getTime()/1E3)-a.Ha,c=60>c?"("+c+"s) "+b:3600>c?"("+Math.floor(c/60)+"m) "+b:"("+Math.floor(c/3600)+"h) "+b);a.P.setAttribute("title",c)}Ma.prototype.$b=function(a){this.vc=a;this.rb()};Ma.prototype.setActive=function(a){this.active=a;this.rb()};
function Qa(a,b,c){a.mode[b]=c;if(a.a.userListShowPrefixChars){var d="";if(a.a.userListShowSingleMode)for(e=0;e<K.length;e++){if(b=K[e],a.mode[b]){c=Ya(a,b);0<c.length&&(d=c.substring(0,1));break}}else for(var e=0;e<K.length;e++)b=K[e],a.mode[b]&&(c=Ya(a,b),0<c.length&&(d+=c.substring(0,1)));a.Sb.firstChild?a.Sb.firstChild.nodeValue=d:a.Sb.appendChild(a.f.createTextNode(d))}else if(a.a.userListShowSingleMode){c="";d="none";for(e=0;e<K.length;e++)b=K[e],a.mode[b]&&("none"==d&&(d=b),""!=c&&(c+=", "),
c+=$a(b));e=Ya(a,d);A(a.Fa,e,a.a.userListModeIconWidth,a.a.userListModeIconHeight);a.Fa.title=c}else{if(c&&!a.pa[b]){a.pa[b]=a.f.createElement("img");a.pa[b].style.verticalAlign=a.a.userListModeIconAlign;e=Ya(a,b);A(a.pa[b],e,a.a.userListModeIconWidth,a.a.userListModeIconHeight);a.pa[b].title=$a(b);a.pa[b].style.paddingLeft=a.a.userListModeSpacing+"px";d=null;var f=!1;for(e=0;e<K.length;e++)f&&a.pa[K[e]]&&(d=a.pa[K[e]]),K[e]==b&&(f=!0);null!=d?a.P.insertBefore(a.pa[b],d):a.P.appendChild(a.pa[b])}!c&&
a.pa[b]&&(a.P.removeChild(a.pa[b]),delete a.pa[b])}}function Ya(a,b){var c="https://s3.amazonaws.com/mibbit/gfx/mode_none.png";"owner"==b?c=a.a.iconModeOwner:"admin"==b?c=a.a.iconModeAdmin:"op"==b?c=a.a.iconModeOp:"halfop"==b?c=a.a.iconModeHalfop:"voice"==b&&(c=a.a.iconModeVoice);return c}function $a(a){return"owner"==a?D.get("ModeOwner"):"admin"==a?D.get("ModeAdmin"):"op"==a?D.get("ModeOp"):"halfop"==a?D.get("ModeHalfop"):"voice"==a?D.get("ModeVoice"):""}var K=["owner","admin","op","halfop","voice"];
function ab(a,b,c,d,e){this.s=a;this.f=a.ownerDocument;this.a=b;this.ha=d;this.vd=e;this.ka=[];this.fb=this.jf=this.yd=10;this.h="";this.s.style.border="1px solid "+this.a.chatInputBarBorder;this.s.style.background=this.a.chatInputBarBackground;this.la=this.f.createElement("div");t({padding:this.a.chatInputPadding+"px",margin:this.a.chatInputSpacing+"px",overflow:"hidden"},this.la.style);this.ja=this.f.createElement("input");this.ja.setAttribute("type","text");t({width:"100%",padding:"0",border:"0",
margin:"0",outline:"0",height:"18px"},this.ja.style);this.la.appendChild(c);c.appendChild(this.ja);this.ua=this.f.createElement("div");this.Eb=this.f.createElement("span");this.Eb.style.cursor="pointer";this.Eb.onclick=function(f){return function(){d.cf(f)}}(this);this.Eb.appendChild(this.f.createTextNode(""));this.ua.appendChild(this.Eb);t({height:2+this.fb+"px",top:this.a.chatInputSpacing+"px",left:this.a.chatInputSpacing+"px"},this.ua.style);t({position:"absolute",textAlign:"right",paddingTop:this.a.chatInputPadding+
"px",paddingBottom:this.a.chatInputPadding+"px"},this.ua.style);t({fontFamily:this.a.chatInputFontFamily,fontSize:this.a.chatInputFontSize+"px",color:this.a.chatInputNickColor},this.ua.style);this.ua.style.display=this.a.chatInputShowNick?"block":"none";this.Ka=this.f.createElement("div");this.Ka.appendChild(this.la);this.Ka.appendChild(this.ua);a.appendChild(this.Ka);a.style.position="relative";this.ia=new bb(c,this.ja,this.a.inputHistorySize,d.Of);this.ia.wc=d.wc;this.H={content:this.Ka,Va:null};
this.C();this.N()}p=ab.prototype;p.Zb=function(a){for(this.h=a;this.Eb.firstChild;)this.Eb.removeChild(this.Eb.firstChild);this.Eb.appendChild(this.f.createTextNode(a+" :"));this.N()};
p.C=function(){try{t({padding:this.a.chatInputPadding+"px",margin:this.a.chatInputSpacing+"px",background:this.a.chatInputBackground,border:"1px solid "+this.a.chatInputBorder},this.la.style),t({background:this.a.chatInputBackground,color:this.a.chatInputColor,fontFamily:this.a.chatInputFontFamily,fontSize:this.a.chatInputFontSize+"px"},this.ja.style),t({borderRadius:this.a.chatInputRounding+"px",MozBorderRadius:this.a.chatInputRounding+"px",WebkitBorderRadius:this.a.chatInputRounding+"px",color:this.a.colorInText,
background:this.a.chatInputBarBackground,border:"1px solid "+this.a.chatInputBarBorder},this.s.style),t({position:"absolute",top:this.a.chatInputSpacing+"px",left:this.a.chatInputSpacing+"px"},this.ua.style),t({textAlign:"right",paddingTop:this.a.chatInputPadding+"px",paddingBottom:this.a.chatInputPadding+"px"},this.ua.style),t({fontFamily:this.a.chatInputFontFamily,fontSize:this.a.chatInputFontSize+"px",color:this.a.chatInputNickColor},this.ua.style),this.ua.style.display=this.a.chatInputShowNick?
"block":"none",db(this),this.ub&&(this.s.removeChild(this.ub),delete this.ub),this.ab&&(this.s.removeChild(this.ab),delete this.ab),this.ob&&(this.s.removeChild(this.ob),delete this.ob),this.kb&&(this.s.removeChild(this.kb),delete this.kb),this.mb&&(this.s.removeChild(this.mb),delete this.mb,delete this.jb),delete this.bf,eb(this)}catch(a){w&&x("RichInputElement.redraw(2)",q(a),y)}};
p.N=function(){try{this.vd&&(this.jf=this.jb.offsetHeight);if(this.H.content==this.Ka&&(this.df=this.ua.offsetWidth,window.getComputedStyle)){var a=window.getComputedStyle(this.ua,null).getPropertyValue("width");"px"==a.substring(a.length-2,a.length)&&(this.df=parseFloat(a.substring(0,a.length-2)))}a=!1;if(this.H.content==this.Ka&&0!=this.ja.offsetHeight&&this.ja.offsetHeight!=this.yd){this.yd=this.ja.offsetHeight;this.fb=this.la.offsetHeight;if(window.getComputedStyle){var b=window.getComputedStyle(this.ja,
null).getPropertyValue("height");"px"==b.substring(b.length-2,b.length)&&(this.yd=parseFloat(b.substring(0,b.length-2)));var c=window.getComputedStyle(this.la,null).getPropertyValue("height");"px"==c.substring(c.length-2,c.length)&&(this.fb=parseFloat(c.substring(0,c.length-2)))}a=!0}this.a.chatInputShowNick&&""!=this.h&&(this.la.style.marginLeft=2*this.a.chatInputSpacing+this.df+"px");this.ua.style.height=2+this.fb+"px";return a}catch(d){w&&x("RichInputElement.layout","Exception: "+q(d),y)}return!1};
p.Ua=function(){var a=this.yd;a+=2*this.a.chatInputPadding;a+=2*this.a.chatInputSpacing;a+=2;this.vd&&(a+=this.jf,a+=this.a.chatInputSpacing,a+=2);return a};p.Cb=function(a){window.setTimeout(function(b){return function(){b.ia.Cb(a)}}(this),100)};function db(a){a.H&&a.H.content!=a.Ka&&(fb(a,{content:a.Ka,Va:null}),a.ja.focus(),window.setTimeout(function(b){return function(){gb(b.ia,b.qg)}}(a),10))}function hb(a){a.H==a.ka.pastebin?db(a):fb(a,a.ka.pastebin);a.ka.pastebin.Va.blur()}
function fb(a,b){b.content&&(a.H&&(1!=b.Yf&&(a.H.content.style.display="none"),null!=a.H.Va&&(a.H.Va.style.color=a.a.colorInMenu),a.H.de&&a.H.de()),a.H=b,null!=a.H.Va&&(a.H.Va.style.color=a.a.colorInMenuActive),a.H.content.style.display="block",a.H.content!=a.Ka&&t({margin:a.a.chatInputSpacing+"px",border:"1px solid "+a.a.chatInputBorder,background:a.a.chatInputBackground,height:a.fb+2*a.a.chatInputPadding+"px"},a.H.content.style),a.H&&a.H.tc&&a.H.tc())}
function ib(a,b){a.ka[b]&&(a.H==a.ka[b]?db(a):(a.H.content==a.Ka&&(a.qg="emojis"==b?-1:jb(a.ia)),fb(a,a.ka[b])))}
function kb(a,b,c){var d=null;"/togglemenu smilies"==c&&(d="smilies");"/togglemenu colors"==c&&(d="colors");"/togglemenu pastebin"==c&&(d="pastebin");"/togglemenu minify"==c&&(d="minify");"/togglemenu emojis"==c&&(d="emojis");a.bf&&a.jb.appendChild(a.f.createTextNode(" | "));a.bf=!0;var e=a.f.createElement("span");e.appendChild(a.f.createTextNode(b));e.style.color=a.a.colorInMenu;e.style.cursor="pointer";e.style.MozUserSelect="none";e.style.Ee="none";e.onmouseover=function(){this.style.textDecoration=
"underline"};e.onmouseout=function(){this.style.textDecoration="none"};a.ka[d]&&(a.ka[d].Va=e);e.onclick=function(f){return function(){f.ha.lc(c,b);e.blur();return!1}}(a);a.jb.appendChild(e)}
function lb(a,b){var c=a.f.createElement("div");c.style.padding=a.a.chatInputPadding+"px";t({color:a.a.colorInLinks,styleFloat:"left",cssFloat:"left",marginLeft:"4px",cursor:"pointer",textDecoration:"underline",fontFamily:a.a.chatInputFontFamily,fontSize:a.a.chatInputFontSize+"px"},c.style);c.appendChild(a.f.createTextNode(D.get("InputMenuClose")));c.onclick=function(d){return function(){db(d);return!1}}(a);b.appendChild(c)}
function mb(a){a.ub=a.f.createElement("div");a.ub.style.display="none";a.ub.style.overflow="hidden";var b={};a.Gd=[];for(var c=0;c<a.a.iconSmileys.length;c++){var d=a.a.iconSmileys[c];if(!b[d.src]&&d.src&&d.code){b[d.src]=!0;var e=a.f.createElement("img");a.Gd.push(e);t({width:"10px",height:"10px",border:"1px solid #fff",cssFloat:"left",styleFloat:"left"},e.style);e.src=F.iconSmileysBase+d.src;e.onmouseover=function(){this.style.border="1px solid #000"};e.onmouseout=function(){this.style.border="1px solid #fff"};
e.onclick=function(f,h){return function(){try{f.Cb(h)}catch(k){w&&x("smiley click",k,y)}db(f)}}(a,d.code);a.ub.appendChild(e)}}a.s.appendChild(a.ub);a.ag=function(f){return function(){for(var h=0;h<f.Gd.length;h++)f.Gd[h].style.width=f.fb+2*f.a.chatInputPadding-2+"px",f.Gd[h].style.height=f.fb+2*f.a.chatInputPadding-2+"px"}}(a);lb(a,a.ub)}
function nb(a){a.ab=a.f.createElement("div");a.ab.style.display="none";a.ab.style.overflow="hidden";a.rd=[];for(var b=0;b<ob.length;b++){var c=a.f.createElement("div");a.rd.push(c);t({width:"10px",height:"10px",border:"1px solid #fff",cssFloat:"left",styleFloat:"left"},c.style);c.style.background=ob[b].color;c.onmouseover=function(){this.style.border="1px solid #000"};c.onmouseout=function(){this.style.border="1px solid #fff"};c.onclick=function(d,e){return function(){pb(d,e);db(d)}}(a,ob[b]);a.ab.appendChild(c)}a.s.appendChild(a.ab);
a.Zf=function(d){return function(){for(var e=0;e<d.rd.length;e++)d.rd[e].style.width=d.fb+2*d.a.chatInputPadding-2+"px",d.rd[e].style.height=d.fb+2*d.a.chatInputPadding-2+"px"}}(a);lb(a,a.ab)}
function qb(a){a.ob=a.f.createElement("div");a.ob.style.display="none";a.ob.style.overflow="hidden";var b=a.f.createElement("div");b.style.padding=a.a.chatInputPadding+"px";t({styleFloat:"left",cssFloat:"left",fontFamily:a.a.chatInputFontFamily,fontSize:a.a.chatInputFontSize+"px"},b.style);a.ob.appendChild(b);var c=a.f.createElement("span");c.onclick=function(d){return function(){db(d);d.ha.vg();return!1}}(a);t({color:a.a.colorInLinks,marginLeft:"4px",marginRight:"4px",cursor:"pointer",textDecoration:"underline"},
c.style);c.appendChild(a.f.createTextNode("Paste"));b.appendChild(a.f.createTextNode("Paste text above, then click:"));b.appendChild(c);b.appendChild(a.f.createTextNode(" | "));a.s.appendChild(a.ob);lb(a,a.ob)}
function rb(a){a.kb=a.f.createElement("div");a.kb.style.display="none";a.kb.style.overflow="hidden";var b=a.f.createElement("form");b.style.display="block";b.style.padding=a.a.chatInputPadding+"px";t({styleFloat:"left",cssFloat:"left",fontFamily:a.a.chatInputFontFamily,fontSize:a.a.chatInputFontSize+"px"},b.style);var c=a.f.createElement("input");c.type="text";c.size="24";c.style.outline="0";c.style.margin="0";c.style.padding="0";t({fontFamily:a.a.chatInputFontFamily,fontSize:a.a.chatInputFontSize+
"px"},c.style);c.style.border="0";c.setAttribute("placeholder","https://mibbit.com");c.style.background="#eee";b.appendChild(a.f.createTextNode("URL:"));b.appendChild(c);var d=a.f.createElement("span");d.onclick=function(f){return function(){try{db(f),f.ha.cg(c.value)}catch(h){}return!1}}(a);b.onsubmit=d.onclick;t({color:a.a.colorInLinks,marginLeft:"4px",marginRight:"4px",cursor:"pointer",textDecoration:"underline"},d.style);d.appendChild(a.f.createTextNode("Minify"));b.appendChild(d);b.appendChild(a.f.createTextNode(" | "));
a.kb.appendChild(b);a.s.appendChild(a.kb);var e=function(){return function(){c.value="";c.focus()}}();a.$f=function(){window.setTimeout(e,100)};lb(a,a.kb)}
function sb(a){try{var b=new EmojiButton({theme:"auto",showVariants:!1,style:"native",i18n:{search:"Search emojis...",categories:{recents:"Recent Emojis",smileys:"Smileys & Emotion",people:"People & Body",animals:"Animals & Nature",food:"Food & Drink",activities:"Activities",travel:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags"},notFound:"No emojis found"}});b.on("emoji",function(c){return function(d){c.Cb(d);c.H==c.ka.emojis&&ib(c,"emojis")}}(a));a.$e=function(c){return function(){null!=
c.ka.emojis&&null!=c.ka.emojis.Va&&b.togglePicker(c.ka.emojis.Va)}}(a);a.Tf=function(c){return function(){b.pickerVisible&&c.$e()}}(a)}catch(c){}}function pb(a,b){a.Eg?window.setTimeout(function(c){return function(){try{c.execCommand("foreColor",!1,b.color)}catch(d){alert(d)}}}(a.f),200):a.ja.style.color=b.color;a.ha.se&&(1==b.code?a.ha.se(null):a.ha.se(b.code))}
var ob=[{code:0,color:"#ffffff"},{code:1,color:"#000000"},{code:2,color:"#000080"},{code:3,color:"#008000"},{code:4,color:"#ff0000"},{code:5,color:"#800040"},{code:6,color:"#800080"},{code:7,color:"#ff8040"},{code:8,color:"#ffff00"},{code:9,color:"#80ff00"},{code:10,color:"#008080"},{code:11,color:"#00ffff"},{code:12,color:"#0000ff"},{code:13,color:"#ff00ff"},{code:14,color:"#808080"},{code:15,color:"#c0c0c0"}];
function eb(a){a.H={content:a.Ka,Va:null};mb(a);nb(a);qb(a);rb(a);sb(a);a.ka.smilies={content:a.ub,tc:a.ag};a.ka.colors={content:a.ab,tc:a.Zf};a.ka.pastebin={content:a.ob,tc:a.ha.Fd,de:a.ha.Vf};a.ka.minify={content:a.kb,tc:a.$f};a.ka.emojis={content:a.f.createElement("div"),tc:a.$e,de:a.Tf,Yf:!0};if(a.vd){a.jb=a.f.createElement("div");t({color:a.a.colorInMenuSep,margin:a.a.chatInputSpacing+"px",paddingLeft:"4px",paddingTop:"1px",paddingBottom:"1px",fontFamily:a.a.chatInputMenuFontFamily,fontSize:a.a.chatInputMenuFontSize+
"px"},a.jb.style);a.jb.style.MozUserSelect="none";a.jb.style.Ee="none";a.jb.style.marginTop="auto";for(var b=[],c=0;c<a.a.ioCustomMenus.length;c++)b.push({title:a.a.ioCustomMenus[c].title,command:a.a.ioCustomMenus[c].command});0==b.length&&(a.a.ioSmilies&&b.push({title:D.get("MenuSmilies"),command:"/togglemenu smilies"}),a.a.ioColors&&b.push({title:D.get("MenuColors"),command:"/togglemenu colors"}),a.a.ioPastebin&&b.push({title:D.get("MenuPasteBin"),command:"/togglemenu pastebin"}),a.a.ioMinify&&
b.push({title:"Minify URL",command:"/togglemenu minify"}),a.a.ioEmojis&&b.push({title:"Emojis",command:"/togglemenu emojis"}));for(c=0;c<b.length;c++)kb(a,b[c].title,b[c].command);a.mb=a.f.createElement("table");a.mb.setAttribute("border","0");a.mb.setAttribute("cellpadding","0");a.mb.setAttribute("cellspacing","0");a.mb.style.width="100%";a.s.appendChild(a.mb);b=a.mb.insertRow(-1);b.insertCell(-1).appendChild(a.jb);b=b.insertCell(-1);b.style.textAlign="right";c=a.f.createElement("div");t({color:a.a.colorInMenuSep,
margin:a.a.chatInputSpacing+"px",paddingRight:"4px",paddingTop:"1px",paddingBottom:"1px",fontFamily:a.a.chatInputMenuFontFamily,fontSize:a.a.chatInputMenuFontSize+"px"},c.style);c.style.marginTop="auto";var d=a.f.createElement("span");d.style.color=a.a.colorInMenu;d.style.marginRight="4px";c.appendChild(d);a.gf=a.f.createTextNode("");d.appendChild(a.gf);if(a.ha.af){var e=a.f.createElement("span");e.appendChild(a.f.createTextNode("Menu"));e.style.color=a.a.colorInMenu;e.style.cursor="pointer";e.onmouseover=
function(){return function(){e.style.textDecoration="underline"}}(a);e.onmouseout=function(){return function(){e.style.textDecoration="none"}}(a);e.onclick=function(f){return function(){f.ha.af()}}(a);c.appendChild(e)}b.appendChild(c)}}
function bb(a,b,c,d){function e(g){return function(){ub(g);return!1}}function f(){return function(g){return vb(g)}}function h(g){return function(l){l||(l=window.event);g.$c&&9!=l.keyCode&&(g.$c=!1);if(9==l.keyCode){if(g.Qb){var m=g.W.value,n=jb(g),r=m.substring(0,n);m=m.substring(n,m.length);if(g.$c){r=r.substring(0,r.length-(g.Yc[g.tabIndex]+g.Zc).length);g.tabIndex++;g.tabIndex==g.Yc.length&&(g.tabIndex=0);var u=r+g.Yc[g.tabIndex]+g.Zc;g.W.value=u+m;gb(g,u.length)}else if((n=r.match(new RegExp("["+
g.Kf+"]+$")))&&1==n.length){n=n[0].toLowerCase();r=r.substring(0,r.length-n.length);g.Zc=""==r?": ":" ";var v=[];for(u in g.Qb)g.Qb.hasOwnProperty(u)&&u.substring(0,n.length).toLowerCase()==n&&v.push(g.Qb[u]);if(0!==v.length)if(1==v.length)g.W.value=r+v[0]+g.Zc+m,gb(g,r.length+(v[0]+g.Zc).length);else{v.sort(g.Lf);u=v[0].length;for(var z=0;z<v.length-1;z++)for(;0<u&&v[z].substring(0,u).toLowerCase()!=v[z+1].substring(0,u).toLowerCase();)u--;u>n.length?(u=r+v[0].substring(0,u).toLowerCase(),g.W.value=
u+m,gb(g,u.length)):(g.$c=!0,g.Yc=v,g.tabIndex=0,u=r+g.Yc[g.tabIndex]+g.Zc,g.W.value=u+m,gb(g,u.length))}}}}else l.shiftKey||l.altKey||38!=l.keyCode?!l.shiftKey&&!l.altKey&&40==l.keyCode&&0<g.Hb&&(g.Hb--,g.W.value=g.history[g.Hb]):g.Hb<g.history.length-1&&(g.Hb++,g.W.value=g.history[g.Hb],gb(g,g.W.value.length));vb(l)}}function k(g){return function(){g.history[g.Hb]=g.W.value;g.wc&&g.wc(g.W.value)}}this.If=!0;this.history=[];this.Hb=0;this.maxLength=c;this.W=b;this.Qb={};this.Kf="\\_\\|a-zA-Z0-9\\-\\[\\]\\\\`\\^\\{\\}";
this.Lf=d;this.$c=!1;this.Yc=[];this.tabIndex=0;this.wc=null;b.setAttribute("autocomplete","off");b.setAttribute("spellcheck","true");a.addEventListener?(a.addEventListener("submit",e(this),!1),b.addEventListener("keydown",h(this),!1),b.addEventListener("keypress",f(this),!1),b.addEventListener("keyup",k(this),!1)):(a.attachEvent("onsubmit",e(this)),b.attachEvent("onkeydown",h(this)),b.attachEvent("onkeypress",f(this)),b.attachEvent("onkeyup",k(this)))}function wb(a,b){a.Qb[b.toLowerCase()]=b}
function xb(a,b){delete a.Qb[b.toLowerCase()]}function ub(a){a.$c=!1;a.history[0]=a.W.value;a.W.value="";a.If&&a.history[0]==a.history[1]?a.history[0]="":(a.history.length>=a.maxLength&&a.history.pop(),a.history.unshift(""));a.Hb=0}bb.prototype.Cb=function(a){var b=this.W.value,c=jb(this);this.W.value=b.substring(0,c)+a+b.substring(c,b.length);gb(this,c+a.length)};
function gb(a,b){if(-1!=b)try{if("undefined"!=typeof a.W.selectionStart)a.W.setSelectionRange(b,b);else if(a.W.createTextRange){var c=a.W.createTextRange();c.move("character",b);c.select()}}catch(d){}}function jb(a){try{if("undefined"!=typeof a.W.selectionStart)return a.W.selectionStart;if(a.W.createTextRange)return document.selection.createRange().getBookmark().charCodeAt(2)-2}catch(b){}return 0}
function vb(a){a||(a=window.event);return 9==a.keyCode||!a.shiftKey&&!a.altKey&&38==a.keyCode&&0==a.charCode||!a.shiftKey&&!a.altKey&&40==a.keyCode&&0==a.charCode?(a.stopPropagation?(a.stopPropagation(),a.preventDefault()):(a.cancelBubble=!0,a.returnValue=!1),!1):!0}
function yb(a,b){this.a=b;this.s=a;this.document=a.ownerDocument;this.Se=!1;this.s.style.zIndex="100";this.Hc="";this.U=this.document.createElement("div");t({textAlign:"left",whiteSpace:"pre",margin:"1px"},this.U.style);this.C(!0);this.U.onmouseover=function(c){return function(){c.expand(!0)}}(this);this.U.onmouseout=function(c){return function(){c.expand(!1)}}(this);this.s.appendChild(this.U);this.ca=this.U;this.$d=10;this.U.style.display=zb?"none":"block";Ab(this,"Mibbit")}p=yb.prototype;
p.Ua=function(){return zb?na:this.$d+2};p.C=function(a){if(a||!zb)this.U.style.fontFamily=this.a.infobarFontFamily,this.U.style.fontSize=this.a.infobarFontSize+"px",this.U.style.padding=this.a.infobarPadding+"px",this.U.style.color=this.a.infobarColor,this.U.style.border=this.a.infobarBorder?"1px solid "+this.a.infobarBorder:"0",this.U.style.margin=this.a.infobarBorder?"0px":"1px",this.s.style.background=this.a.infobarBackground,this.U.style.display=zb?"none":"block"};
p.N=function(){try{if(this.U&&0!=this.U.offsetHeight&&this.U.offsetHeight!=this.$d)return this.Se||(this.$d=this.U.offsetHeight),!0}catch(a){w&&x("Infobar.layout",a,y)}return!1};function Ab(a,b,c){""==b&&(b="NO TOPIC SET");a.Hc=b;a.clear();var d=a.document.createElement("span");c?(c.reset(),L(c,b),c.flush(d)):d.appendChild(a.document.createTextNode(b));a.U.appendChild(d)}
p.expand=function(a){function b(c,d,e){try{c.style[d]=e}catch(f){}}(this.Se=a)?(t({overflow:"auto",height:"auto",background:this.a.infobarBackgroundHighlight},this.s.style),t({color:this.a.infobarColorHighlight,textAlign:"left"},this.ca.style),b(this.ca,"whiteSpace","pre-wrap"),b(this.ca,"whiteSpace","-moz-pre-wrap"),b(this.ca,"whiteSpace","-pre-wrap"),b(this.ca,"whiteSpace","-o-pre-wrap"),b(this.ca,"wordWrap","break-word"),this.ca.style.border=this.a.infobarBorderHighlight?"1px solid "+this.a.infobarBorderHighlight:
"0",this.ca.style.margin=this.a.infobarBorderHighlight?"0px":"1px"):(t({overflow:"hidden",height:this.Ua()+"px",background:this.a.infobarBackground,padding:"0"},this.s.style),t({color:this.a.infobarColor,textAlign:"left",whiteSpace:"pre",textOverflow:"ellipsis",overflow:"hidden"},this.ca.style),b(this.ca,"wordWrap","normal"),this.ca.style.border=this.a.infobarBorder?"1px solid "+this.a.infobarBorder:"0",this.ca.style.margin=this.a.infobarBorder?"0px":"1px")};p.clear=function(){for(;this.U.firstChild;)this.U.removeChild(this.U.firstChild)};
var zb=!1;
function Bb(a,b,c,d,e,f,h,k,g,l,m,n){this.B=a;this.J=g;this.id=c;this.ne=m;this.collapsed=!1;this.visible=!0;this.Td=this.Sd=!1;this.title=e;this.content=d;this.f=b.ownerDocument;this.wa=k;this.dc=this.Ac=!1;this.L=h;this.je=(new Date).getTime();this.ed=l.yb;this.O=b;this.O.style.cursor="pointer";this.O.style.MozUserSelect="none";this.O.style.Ee="none";this.ya=this.f.createElement("span");t({display:"block",position:"relative",paddingRight:"4px"},this.ya.style);this.ya.onclick=function(r){return function(u){u||(u=
window.event);u=u.target?u.target:u.srcElement;u!=r.Mb&&u!=r.M&&l.Df(r.id);return!1}}(this);this.R=this.f.createElement("span");t({textDecoration:"none",verticalAlign:"top",position:"relative"},this.R.style);this.L.icon&&(this.jc=this.f.createElement("img"),a=this.B.ga-2,b=this.B.ga-2,this.L.Ub&&this.L.Ic&&this.L.Ub<b&&(b=this.L.Ub,a=this.L.Ic),t({width:a+"px",height:b+"px",display:"inline",marginRight:"3px",verticalAlign:"top"},this.jc.style),A(this.jc,this.L.icon,a,b),this.R.appendChild(this.jc));
this.sf=this.f.createTextNode(e);this.R.appendChild(this.sf);this.O.title=f;this.ya.appendChild(this.R);this.O.appendChild(this.ya);n&&(this.Mb=this.f.createElement("span"),this.Me=this.f.createTextNode(" << "),this.Mb.appendChild(this.Me),this.R.appendChild(this.Mb),this.Mb.onclick=function(r){return function(){r.Ed(!r.collapsed);return!1}}(this));l.Le&&(this.M=this.f.createElement("img"),t({cursor:"pointer",width:"12px",height:"12px",marginLeft:"3px",verticalAlign:"top"},this.M.style),this.M.title=
"Close tab",this.M.onclick=function(r){return function(){l.Le(r.id);return!1}}(this),A(this.M,"https://s3.amazonaws.com/mibbit/gfx/close-win-grey.png",12,12),this.M.style.border="0",this.M.onmouseover=function(){A(this,"https://s3.amazonaws.com/mibbit/gfx/close-win-red.png",12,12)},this.M.onmouseout=function(){A(this,"https://s3.amazonaws.com/mibbit/gfx/close-win-grey.png",12,12)},this.R.appendChild(this.M));this.C()}
Bb.prototype.Ed=function(a){this.B.Ed(this.id,a);this.Me.nodeValue=this.collapsed?" >> ":" << "};function Cb(a,b){a.title=b;a.sf.nodeValue=a.title}
function Db(a){"list"==a.B.Xa?(t({styleFloat:"none",cssFloat:"none",marginRight:"0px",textAlign:"left",marginBottom:"1px"},a.O.style),a.ya.style.cssFloat="none",a.ya.style.styleFloat="none",a.M&&(a.R.removeChild(a.M),a.R.insertBefore(a.M,a.R.firstChild),a.M.style.marginLeft="0px",a.M.style.marginRight="4px")):(t({styleFloat:"left",cssFloat:"left",marginRight:a.J.rf+"px",textAlign:"center",marginBottom:"0px"},a.O.style),a.ya.style.cssFloat="left",a.ya.style.styleFloat="left",a.M&&(a.R.removeChild(a.M),
a.R.appendChild(a.M),a.M.style.marginLeft="4px",a.M.style.marginRight="0px"));a.C()}
Bb.prototype.C=function(){this.O.style.height=this.B.ga+"px";this.ya.style.height=this.B.ga+"px";this.ya.style.fontSize=this.J.fontSize+"px";this.ya.style.lineHeight=this.J.fontSize+"px";this.R.style.fontSize=this.J.fontSize+"px";this.R.style.lineHeight=this.J.fontSize+"px";this.R.style.fontFamily=this.J.fontFamily;this.R.style.fontWeight=this.J.fontWeight;this.R.style.marginLeft=this.J.padding+"px";this.R.style.marginRight=this.J.padding+"px";this.R.style.top=this.J.padding+"px";if(this.L.icon){var a=
this.B.ga-2,b=this.B.ga-2;this.L.Ub&&this.L.Ic&&this.L.Ub<b&&(b=this.L.Ub,a=this.L.Ic);this.jc.style.width=a+"px";this.jc.style.height=b+"px";A(this.jc,this.L.icon,a,b)}Eb(this,this.wa)};var Fb={};
function Gb(a,b,c,d,e,f){var h=(a?"l":"r")+"-"+(b?"1":"0")+"-200-"+c+"-"+d+"-"+e+"-"+f;if(Fb[h])return Fb[h];try{var k=document.createElement("canvas");if(!k.getContext)return!1;k.setAttribute("width",200);k.setAttribute("height",c);var g=k.getContext("2d");g.fillStyle=f;g.fillRect(0,0,200,c);var l=g.createLinearGradient(0,0,0,2*c);l.addColorStop(0,e);l.addColorStop(.1,e);l.addColorStop(1,"#000");g.fillStyle=b?e:l;var m=Math.min(200,c)/3;g.beginPath();a?(g.moveTo(m,.5),g.lineTo(199.5,.5),g.lineTo(199.5,
c),g.lineTo(.5,c),g.lineTo(.5,m),g.bezierCurveTo(.5,m/3,m/3,.5,m,.5)):(g.moveTo(199.5-m,.5),g.lineTo(.5,.5),g.lineTo(.5,c),g.lineTo(199.5,c),g.lineTo(199.5,m),g.bezierCurveTo(199.5,m/2,199.5-m/2,1,199.5-m,.5));g.fill();g.beginPath();a?(g.moveTo(.5,c),g.lineTo(.5,m),g.bezierCurveTo(.5,m/2,m/2,.5,m,.5),g.lineTo(199.5,.5)):(g.moveTo(199.5,c),g.lineTo(199.5,m),g.bezierCurveTo(199.5,m/2,199.5-m/2,.5,199.5-m,.5),g.lineTo(.5,.5));g.strokeStyle=d;g.lineWidth=1;g.lineCap="butt";g.stroke();var n=k.toDataURL();
return Fb[h]=n}catch(r){}return!1}
function Eb(a,b){function c(g){var l=g.indexOf(" ");-1!=l&&(g=g.substring(0,l));l="ffffff";"#"==g.charAt(0)?(7==g.length&&(l=g.substring(1,g.length)),4==g.length&&(l=g.substring(1,2)+g.substring(1,2)+g.substring(2,3)+g.substring(2,3)+g.substring(3,4)+g.substring(3,4))):6==g.length&&(l=g);return l}a.wa=b;var d=c(a.L.background),e=c(a.J.background),f=c(a.L.border),h=Gb(!0,b,a.B.ga,a.L.border,a.L.background,a.J.background),k=Gb(!1,b,a.B.ga,a.L.border,a.L.background,a.J.background);"top"==a.B.Xa&&h&&
k?(a.ya.style.background="transparent url('"+k+"') no-repeat scroll right top",a.O.style.background="transparent url('"+h+"') no-repeat scroll left top"):(d=(w?"http://localhost:8080/img/tab?":"/img/tab?")+("list"==a.B.Xa?"vertical&":"")+"color="+d+(f?"&bcolor="+f:"")+(e?"&bgcolor="+e:"")+(b?"&selected=true":""),20!=a.B.ga&&(d+="&height="+a.B.ga),a.ya.style.background="transparent url("+d+"&right=true) no-repeat scroll right top",a.O.style.background="transparent url("+d+") no-repeat scroll left top");
a.R.style.color=b?a.J.color:a.dc?a.J.Ob:a.Ac?a.J.Nb:a.J.Ff;a.M&&(a.M.style.display=a.B.Wf?"inline":b?"inline":"none");a.O.style.marginLeft="list"==a.B.Xa?b?"4px":"0px":"0px"}Bb.prototype.close=function(){this.wa&&(this.ed&&this.ed(this.id,!1),this.content.style.display="none",Eb(this,!1))};Bb.prototype.open=function(){if(this.wa)return!1;this.content.style.display="block";Eb(this,!0);this.ed&&this.ed(this.id,!0);this.je=(new Date).getTime();Hb(this);return!0};
Bb.prototype.active=function(a){if(!this.wa){if(!this.dc&&a){var b=this.B.bc;this.B.bc++;0==b&&this.B.T(!0);this.dc=!0;this.R.style.color=this.J.Ob}this.Ac||(0==this.B.Bc&&this.B.T(!0),this.B.Bc++,this.Ac=!0,this.dc||(this.R.style.color=this.J.Nb));!this.visible&&this.ne&&(b=this.B.l[this.ne],a?b.Td=!0:b.Sd=!0,b.Td?b.Mb.style.color=b.J.Ob:b.Sd&&(b.Mb.style.color=b.J.Nb))}};function Hb(a){a.dc&&a.B.bc--;a.Ac&&(a.B.Bc--,0==a.B.Bc?a.B.T(!1):0==a.B.bc&&a.B.T(!0));a.Ac=!1;a.dc=!1}
Bb.prototype.Ua=function(){return 2*this.J.padding+this.R.offsetHeight};
function Ib(){var a=document.getElementById("tabs");this.a=F;this.f=a.ownerDocument;this.l={};this.Oe=0;this.u=[];this.bc=this.Bc=0;this.e=a;this.Xa="top";this.Jd=6;this.ga=20;this.e.style.textAlign="left";this.ba=this.f.createElement("div");this.ba.style.overflow="hidden";this.ba.style.zIndex="90";this.yc=this.f.createElement("ul");t({listStyleType:"none",listStyleImage:"none",listStylePosition:"outside",margin:"0",padding:"0",verticalAlign:"bottom",overflow:"hidden"},this.yc.style);var b=this.f.createElement("div");
b.style.position="relative";this.ba.appendChild(this.yc);b.appendChild(this.ba);a.appendChild(b);this.nd=!0,this.ec=this.f.createElement("div"),this.e.appendChild(this.ec),t({position:"absolute",right:"0px",top:Jb+"px",width:"40px",height:this.ga+"px",textAlign:"right",paddingTop:this.Jd+"px",background:this.a.tabBackgroundColor},this.ec.style),this.Pa=this.f.createElement("div"),this.Pa.style.display="none",this.ec.appendChild(this.Pa),this.Ya=this.f.createElement("span"),this.Ya.appendChild(this.f.createTextNode("<")),
t({color:"#eee",fontSize:"15px",fontWeight:"bold",cursor:"pointer",textDecoration:"none"},this.Ya.style),this.Ya.onclick=function(c){return function(){var d=Kb(c);0<d&&Lb(c,d-1)}}(this),this.Za=this.f.createElement("a"),this.Za.appendChild(this.f.createTextNode(">")),t({color:"#eee",fontSize:"15px",fontWeight:"bold",cursor:"pointer",textDecoration:"none"},this.Za.style),this.Za.onclick=function(c){return function(){for(var d=Kb(c),e=0,f=0;f<c.u.length;f++)c.u[f].visible&&e++;d+1<e&&Lb(c,d+1)}}(this),
this.Pa.appendChild(this.Ya),this.Pa.appendChild(this.f.createTextNode(" ")),this.Pa.appendChild(this.Za),this.ba.style.marginRight="40px";Mb(this,"list"==this.Xa);this.C()}function Nb(){var a=M;try{a.bg.parentNode.removeChild(a.bg)}catch(b){}}function Ob(a){for(var b in a.l)a.l.hasOwnProperty(b)&&a.l[b].close()}function Pb(a,b,c){if(a.l[b]){var d=a.l[b];delete a.l[b];a.l[c]=d;d.id=c}}
function Qb(a){var b=M;if(b.l[a]){var c=a+".dead"+b.Oe;Pb(b,a,c);Cb(b.l[c],b.l[c].title+" (dead)");b.l[c].M.onclick=function(d){return function(){Rb(d,c)}}(b);b.Oe++}}
Ib.prototype.Ed=function(a,b){w&&x("setCollapse","Channel "+a+" : "+b,N);var c=this.l[a];if(c.collapsed=b)c.Nd=!1;b||(c.Sd=!1,c.Td=!1,c.Mb.style.color=c.J.color);for(var d=0;d<this.u.length;d++)this.u[d].ne==a&&(w&&x("setCollapse","CH "+this.u[d].id,N),this.u[d].O.style.display=b?"none":"block",this.u[d].visible=!b,this.u[d].wa&&b&&(this.u[d].close(),c.Nd=this.u[d],c.open()));!b&&c.Nd&&(Ob(this),c.Nd.open())};function Sb(a){return a?(a=M.l[a])&&a.collapsed?!1:!0:!0}
function Ub(a,b,c,d,e,f,h,k,g,l,m){var n=M;w&&x("addTab","Adding "+a+" : "+l+" "+m,N);try{n.l[a]&&w&&x("addTab","We already have a tab of that ID! "+a,y);if(l){var r=n.l[l];r&&r.collapsed&&(k=!0)}k?b.style.display="none":Ob(n);var u=n.f.createElement("li");t({listStyleType:"none",margin:"0",padding:"0",display:"block",position:"relative",whiteSpace:"nowrap"},u.style);u.style.paddingLeft="4px";var v={};v.yb=e;g&&(v.Le=function(B){return function(E){var U=!0;f&&(U=f(E));U&&Rb(B,E)}}(n));v.Df=function(B){return function(E){"undefined"!=
typeof B.l[E]&&(Ob(B),B.l[E].open())}}(n);var z=new Bb(n,u,a,b,c,d,h,!k,n.oa,v,l,m);Db(z);w&&x("addTab","setting hidden? "+a+" : "+l+" "+n.l[l],N);l&&(r=n.l[l])&&r.collapsed&&(w&&x("addTab","setting hidden "+a,N),z.O.style.display="none",z.visible=!1);Vb(n,z);n.Pa&&1<n.size()&&(n.Pa.style.display="block");return z}catch(B){w&&x("addTab","exception "+B,y)}}
function Vb(a,b){for(var c,d,e=0;e<a.u.length;e++){var f=a.u[e];f.visible&&(d=f);if(f.id>b.id){c=f.O;break}}d&&"none"==d.O.style.display&&(b.O.style.display="none");c?a.yc.insertBefore(b.O,c):a.yc.appendChild(b.O);a.l[b.id]=b;a.u.push(b);a.u.sort(function(h,k){return h.id>k.id?1:h.id<k.id?-1:0})}function Wb(a,b){a.yc.removeChild(b.O);for(var c=0;c<a.u.length;c++)if(a.u[c]==b){a.u.splice(c,1);break}delete a.l[b.id]}
function Rb(a,b){if(b=a.l[b]){b.content.parentNode.removeChild(b.content);Hb(b);Wb(a,b);if(b.wa){b=0;var c;for(c in a.l)if(a.l.hasOwnProperty(c)&&a.l[c].je>b){b=a.l[c].je;var d=a.l[c]}d&&d.open()}a.Pa&&2>a.size()&&(a.Pa.style.display="none")}}function Lb(a,b){for(var c=0,d=0;c<a.u.length;c++){var e=a.u[c];e.visible&&(e.O.style.display=d<b?"none":"block");e.visible&&d++}}
function Kb(a){for(var b=0,c=0;b<a.u.length;b++){var d=a.u[b];if(d.visible&&"block"==d.O.style.display)return c;d.visible&&c++}return 0}Ib.prototype.size=function(){return this.u.length};Ib.prototype.T=function(a){if(this.Pa){var b=0<this.bc;a?(this.Ya.style.color=b?this.oa.Ob:this.oa.Nb,this.Za.style.color=b?this.oa.Ob:this.oa.Nb):(this.Ya.style.color=this.oa.qd,this.Za.style.color=this.oa.qd)}};
Ib.prototype.C=function(){this.Wf=this.a.tabIndividualCloses;this.oa={fontFamily:this.a.tabFontFamily,fontSize:this.a.tabFontSize,fontWeight:"bold",padding:this.a.tabPadding,color:this.a.tabTextColor,Ob:this.a.tabTextColorActivityMe,Nb:this.a.tabTextColorActivity,Ff:this.a.tabTextColorInactive,rf:this.a.tabSpacing,qd:this.a.tabTextColorArrows,background:this.a.tabBackgroundColor};this.e.style.background=this.a.tabBackgroundColor;this.ec&&t({top:Jb+"px",height:this.ga+"px",paddingTop:this.Jd+"px",
background:this.a.tabBackgroundColor},this.ec.style);this.nd&&(0<this.bc?(this.Ya.style.color=this.oa.Ob,this.Za.style.color=this.oa.Ob):0<this.Bc?(this.Ya.style.color=this.oa.Nb,this.Za.style.color=this.oa.Nb):(this.Ya.style.color=this.oa.qd,this.Za.style.color=this.oa.qd));for(var a in this.l)this.l.hasOwnProperty(a)&&(this.l[a].J=this.oa,Db(this.l[a]));var b=0;for(a in this.l)if(this.l.hasOwnProperty(a)){var c=this.l[a].Ua();c>b&&(b=c)}0!=b&&b!=this.ga&&(this.ga=b,Mb(this,"list"==this.Xa))};
function Mb(a,b){if(!O||!b){"undefined"!=typeof M&&a==M&&(Xb=Jb+(b?0:a.Jd+a.ga));a.Xa=b?"list":"top";a.e.style.height=b?"auto":a.ga+"px";a.e.style.overflow=b?"auto":"hidden";a.e.style.top=b?Xb+"px":"";a.e.style.bottom=b?Yb+"px":"";a.e.style.left=b?"0px":"";a.e.style.width=b?F.tabListWidth+"px":"auto";a.e.style.position=b?"absolute":"static";a.e.style.paddingTop=b?"0px":a.Jd+"px";a.ba.style.height=b?"auto":a.ga+"px";a.ba.style.marginRight=b?"0px":a.nd?"40px":"0px";a.yc.style.height=b?"auto":a.ga+"px";
a.Nc&&(a.Nc.style.styleFloat=b?"none":"left",a.Nc.style.cssFloat=b?"none":"left",a.Nc.style.marginRight=(b?"0":a.oa.rf)+"px",a.Nc.style.marginBottom=b?"1px":"0px",a.Nc.style.textAlign=b?"left":"center");for(var c=0;c<a.u.length;c++)Db(a.u[c]),a.u[c].content.style.top=Xb+"px",a.u[c].content.style.left=(b?F.tabListWidth:0)+"px",a.u[c].O.style.display=a.u[c].visible?"block":"none";a.nd&&(a.ec.style.display=b?"none":"block")}}
function A(a,b,c,d){a.style.width=c+"px";a.style.height=d+"px";5.5<=parseFloat(navigator.appVersion.split("MSIE")[1])&&document.body.filters?(a.src="/icons/blank.gif",a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale')"):a.src=b}function P(){this.G="";this.Oc={};this.flush=function(a){a.appendChild(a.ownerDocument.createTextNode(this.G));this.G=""}}P.prototype.reset=function(){this.i&&this.i.reset();this.G=""};function L(a,b){a.G+=b}
function Zb(a,b,c){this.i=a;this.flush=function(d){var e=this.G.match($b);if(e)for(var f=0;f<e.length;f++)if(1==e[f].length)L(this.i,e[f]);else if("irc://"==e[f].substring(0,6).toLowerCase()&&c&&c.ircLink){this.i.flush(d);var h=d.ownerDocument.createElement("span");t({textDecoration:"underline",cursor:"pointer",outline:"none",color:b?b.colorIRCLinks:"red"},h.style);h.appendChild(d.ownerDocument.createTextNode(e[f]));h.onclick=function(z){return function(){c.ircLink(z);h.blur();return!1}}(e[f]);d.appendChild(h)}else{var k=
!1,g=null;this.Oc&&this.Oc.links&&this.Oc.links[e[f]]&&(g=this.Oc.links[e[f]]);if(c&&c.mediaCheck){var l=c.mediaCheck(e[f]);if(l&&l.icon){this.i.flush(d);h=d.ownerDocument.createElement("img");t({border:"2px dotted #cc6",cursor:"pointer",width:l.Ye+"px",height:l.Xe+"px"},h.style);h.src=l.icon;h.onclick=function(z,B,E){return function(){c[E](z,B);return!1}}(l.match,e[f],l.Lb);h.title=l.Yd+" ("+e[f]+")";d.appendChild(h);if(l.be||g&&g.id||g&&g.idata){var m=d.ownerDocument.createElement("img");m.style.height=
"16px";m.style.width="16px";m.style.paddingLeft="2px";m.src="https://s3.amazonaws.com/mibbit/gfx/information.png";if(g&&g.id)m.title="Getting info...",h.id=g.id,m.id=g.id+"_i";else{var n="",r;for(r in g.idata)g.idata.hasOwnProperty(r)&&"thumb"!=r&&(n=n+r.toUpperCase()+": "+g.idata[r]+" \n");m.title=n;h.title=n;g.idata.thumb&&(h.src=g.idata.thumb)}d.appendChild(m)}k=!0}}if(!k){this.i.flush(d);k=e[f];h=d.ownerDocument.createElement("a");h.href=g&&g.url?g.url:k;b&&b.openLinksInExtra&&(h.onclick=function(z){return function(){c.web(z);
return!1}}(e[f]));var u=e[f];k=u.indexOf("?");-1!=k&&(u=u.substring(0,k));m=d.ownerDocument.createTextNode(g&&g.display?g.display:e[f]);k=h;(u=u.match(/^(.+)\.(jpg|jpeg|png|gif)$/i))&&b&&b.parseReplaceImages&&(m=d.ownerDocument.createElement("img"),m.style.width=b.parseReplaceImagesWidth+"px",m.style.height=b.parseReplaceImagesHeight+"px",m.src=g&&g.id||g&&g.idata?"https://s3.amazonaws.com/mibbit/gfx/information.png":ac+"?x="+b.parseReplaceImagesWidth+"&y="+b.parseReplaceImagesHeight+"&url="+encodeURIComponent(e[f]),
k=m,h.onclick=function(z){return function(){c.showImage(z);return!1}}(e[f]));h.style.outline="none";h.style.color=b?h.id?b.colorLinksWait:b.colorLinks:"blue";h.target="_blank";h.title=g&&g.hover?g.hover:e[f]+" (New Window)";if(c&&c.mediaCheck&&(l=c.mediaCheck(e[f]))){h.onclick=function(z){return function(){c[l.Lb](z);return!1}}(e[f]);var v=e[f];m=v.lastIndexOf("/");-1!=m&&(v=v.substring(m+1,v.length));m=d.ownerDocument.createTextNode(v);h.title=e[f]+" (View next to chat)";v=d.ownerDocument.createElement("img");
v.style.height="16px";v.style.width="16px";v.src="https://s3.amazonaws.com/mibbit/gfx/information.png";v.style.paddingLeft="2px";v.title=l.ie;v.onclick=h.onclick}h.appendChild(m);d.appendChild(h);null!=v&&d.appendChild(v);if(g&&g.id||g&&g.hover||g&&g.idata){m=d.ownerDocument.createElement("img");m.style.height="16px";m.style.width="16px";m.src="https://s3.amazonaws.com/mibbit/gfx/information.png";m.style.paddingLeft="2px";if(g&&g.id)m.title="Getting info...",k.id=g.id,m.id=g.id+"_i";else if(g&&g.idata){n=
"";for(r in g.idata)g.idata.hasOwnProperty(r)&&"thumb"!=r&&(n=n+r.toUpperCase()+": "+g.idata[r]+" \n");m.title=n;h.title=n;g.idata.thumb&&u&&b&&b.parseReplaceImages&&(k.src=g.idata.thumb)}else m.title=h.title;d.appendChild(m)}}}this.i.flush(d);this.G=""}}Zb.prototype=new P;var ac="http://go.mibbit.com/thumb.php",$b=/((http[s]?:\/\/|ftp:\/\/|irc:\/\/)([0-9a-zA-Z\$\-#~_\.\+!\*'\[\]\{\}\|\\\^`,\/%;:@&\?=]+))|(.+?)/gi;
function bc(a){this.i=a;this.flush=function(b){var c=this.G.match(cc);if(c)for(var d=0;d<c.length;d++)if(1==c[d].length)L(this.i,c[d]);else if(L(this.i,c[d]),this.i.flush(b),null==f){var e=c[d].match(/^(https:\/\/open\.spotify\.com\/)(track|playlist|album|artist|show)(\/.*)$/i);if(e){var f=b.ownerDocument.createElement("iframe");f.src=e[1]+"embed/"+e[2]+e[3];f.style.height="show"==e[2]?"152px":"80px";f.style.width="400px";f.style.marginTop="3px";f.zf="encrypted-media";f.Ue="0";f.Fg="true"}if(e=c[d].match(/^https:\/\/twitter\.com\/\w*\/status\/\d*$/i))f=
b.ownerDocument.createElement("iframe"),f.src="https://twitframe.com/show?url="+encodeURIComponent(e[0])+"+conversation=none",f.style.height="250px",f.style.width="550px",f.style.marginTop="3px",f.Ue="0";if(e=c[d].match(/^https:\/\/www\.youtube\.com\/watch\?v=(\w*)$/i))f=b.ownerDocument.createElement("iframe"),f.src="https://www.youtube-nocookie.com/embed/"+e[1],f.style.height="315px",f.style.width="560px",f.style.marginTop="3px",f.Ue="0",f.zf="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",
f.setAttribute("allowFullScreen","")}this.i.flush(b);null!=f&&(b.appendChild(document.createElement("br")),b.appendChild(f));this.G=""}}bc.prototype=new P;var cc=/((https:\/\/open\.spotify\.com\/)(track|playlist|album|artist|show)(\/.*))|(https:\/\/twitter\.com\/\w*\/status\/\d*)|(https:\/\/www\.youtube\.com\/watch\?v=(\w*))|(.+?)/gi;
function dc(a,b){this.i=a;this.smileys=b.iconSmileys;this.a=b;a="";for(b=0;b<this.smileys.length;b++){var c=this.smileys[b].code;""!=c&&(a+="("+c.replace(/([\\\|\^\+\-\*\.\[\]\(\)\?\$\{\}!=:])/g,"\\$1")+")|")}this.pg=new RegExp(a+"(.+?)","g");this.flush=function(d){var e=this.G.match(this.pg);if(e)for(var f=0;f<e.length;f++)if(1==e[f].length)L(this.i,e[f]);else{this.i.flush(d);for(var h=0;h<this.smileys.length;h++)if(e[f]==this.smileys[h].code){var k=d.ownerDocument.createElement("img");k.style.border=
"0";k.style.height=this.a.sizeSmiliesToText?"1em":this.a.iconSmileysHeight?this.a.iconSmileysHeight+"px":"";k.style.width=this.a.sizeSmiliesToText?"1em":this.a.iconSmileysWidth?this.a.iconSmileysWidth+"px":"";k.src=this.a.iconSmileysBase+this.smileys[h].src;h=d.ownerDocument.createElement("span");h.style.display="none";h.appendChild(d.ownerDocument.createTextNode(e[f]));h.onclick=function(g,l){return function(){var m="none"==g.style.display;g.style.display=m?"inline":"none";l.style.display=m?"none":
"inline";return!1}}(k,h);k.onclick=h.onclick;d.appendChild(k);d.appendChild(h);break}}this.i.flush(d);this.G=""}}dc.prototype=new P;
function ec(a,b,c){this.i=b;this.ef=a;this.fg=c;this.flush=function(d){this.G.replace(/([^a-zA-Z0-9_\|\-\[\]\\`\^\{\}]*)([a-zA-Z0-9_\|\-\[\]\\`\^\{\}]*)([^a-zA-Z0-9_\|\-\[\]\\`\^\{\}]*)/g,function(e){return function(f,h,k,g){k&&e.ef.hasOwnProperty(k.toLowerCase())&&e.ef[k.toLowerCase()]?(h&&L(e.i,h),e.i.flush(d),f=d.ownerDocument.createElement("span"),e.fg(k.toLowerCase(),f),f.appendChild(d.ownerDocument.createTextNode(k)),d.appendChild(f),g&&L(e.i,g)):(k=(h?h:"")+(k?k:"")+(g?g:""),""!==k&&L(e.i,
k))}}(this));this.i.flush(d);this.G=""}}ec.prototype=new P;
function fc(a,b,c){this.i=b;this.flush=function(d){var e=this.G.match(gc);if(e)for(var f=0;f<e.length;f++)if(1==e[f].length)L(this.i,e[f]);else{this.i.flush(d);var h=d.ownerDocument.createElement("span");t({color:c.colorChannels,cursor:"pointer",textDecoration:"underline",outline:"none"},h.style);h.onclick=function(k){return function(){a(k);return!1}}(e[f]);h.appendChild(d.ownerDocument.createTextNode(e[f]));d.appendChild(h)}this.i.flush(d);this.G=""}}fc.prototype=new P;var gc=/(#([\S]+))|(.+?)/g;
function hc(a){this.i=a;this.flush=function(b){var c=this.G.match(ic);if(c)for(var d=0;d<c.length;d++)if(1==c[d].length)L(this.i,c[d]);else{var e="none",f=c[d].substring(0,1),h=c[d].substring(c[d].length-1,c[d].length);2<c[d].length&&("_"==f&&"_"==h?e="underline":"*"==f&&"*"==h?e="bold":"/"==f&&"/"==h&&(e="italic"));"none"==e?L(this.i,c[d]):(this.i.flush(b),f=b.ownerDocument.createElement("span"),"italic"==e&&(f.style.fontStyle="italic"),"underline"==e&&(f.style.textDecoration="underline"),"bold"==
e&&(f.style.fontWeight="bold"),f.appendChild(b.ownerDocument.createTextNode(c[d])),b.appendChild(f))}this.i.flush(b);this.G=""}}hc.prototype=new P;var ic=/([\/_\*a-zA-Z0-9]+)|(.+?)/g;
function jc(a){this.i=a;this.hb=this.gb=!1;this.Ca=this.Ga=null;this.Vd={0:"#ffffff",1:"#000000",2:"#000080",3:"#008000",4:"#ff0000",5:"#800040",6:"#800080",7:"#ff8040",8:"#ffff00",9:"#80ff00",10:"#008080",11:"#00ffff",12:"#0000ff",13:"#ff00ff",14:"#808080",15:"#c0c0c0"};this.g=function(b){var c=b;if(this.gb||this.hb||null!==this.Ga||null!==this.Ca)c=b.ownerDocument.createElement("span"),this.gb&&(c.style.fontWeight="bold"),this.hb&&(c.style.textDecoration="underline"),this.Ga&&(c.style.color=this.Ga),
this.Ca&&(c.style.background=this.Ca),b.appendChild(c);this.i.flush(c)};this.reset=function(){this.hb=this.gb=!1;this.Ca=this.Ga=null;this.G="";this.i&&this.i.reset()};this.flush=function(b){for(var c=this.G,d=0;d<c.length;d++){var e=c.charAt(d);if("\u0003"==e){e="";var f=0,h=0,k=!1;if(d+1<c.length){for(d++;d<c.length;d++){var g=c.charAt(d);if("0"<=g&&"9">=g)if(!k&&2==f||k&&2==h){d--;break}else e+=g,k?h++:f++;else if(","==g){if(k){d--;break}e+=g;k=!0}else{d--;break}}this.g(b);e=e.split(",");f=!0;
"undefined"!=typeof e[0]&&""!==e[0]&&(this.Ga=this.Vd[parseInt(e[0],10)&15],f=!1);"undefined"!=typeof e[1]&&""!==e[1]&&(this.Ca=this.Vd[parseInt(e[1],10)&15],f=!1);f&&(this.Ga=this.Ca=null)}}else"\u0002"==e?(this.g(b),this.gb=!this.gb):"\u001f"==e?(this.g(b),this.hb=!this.hb):"\u000f"==e?(this.g(b),this.reset()):L(this.i,e)}this.g(b);this.G=""}}jc.prototype=new P;
function kc(a){this.i=a;this.Ze=this.hb=this.gb=!1;this.Ca=this.Ga=null;this.Vd={0:"#ffffff",1:"#000000",2:"#000080",3:"#008000",4:"#ff0000",5:"#800040",6:"#800080",7:"#ff8040",8:"#ffff00",9:"#80ff00",10:"#008080",11:"#00ffff",12:"#0000ff",13:"#ff00ff",14:"#808080",15:"#c0c0c0"};this.g=function(b){var c=b;if(this.gb||this.hb||null!==this.Ga||null!==this.Ca)c=b.ownerDocument.createElement("span"),this.gb&&(c.style.fontWeight="bold"),this.hb&&(c.style.textDecoration="underline"),this.Ze&&(c.style.fontStyle=
"italic"),this.Ga&&(c.style.color=this.Ga),this.Ca&&(c.style.background=this.Ca),b.appendChild(c);this.i.flush(c)};this.reset=function(){this.Ze=this.hb=this.gb=!1;this.Ca=this.Ga=null;this.G="";this.i&&this.i.reset()};this.flush=function(b){for(var c=this.G,d=0;d<c.length;d++){var e=c.charAt(d);if("\u001b"==e){if(d++,d<c.length&&"["==c.charAt(d))for(d++;d<c.length&&"m"!=c.charAt(d);)d++}else L(this.i,e)}this.g(b);this.G=""}}kc.prototype=new P;
function lc(a,b){this.i=a;this.flush=function(c){var d=this.G.match(mc);if(d)for(var e=0;e<d.length;e++)if(1==d[e].length)L(this.i,d[e]);else{this.i.flush(c);var f=c.ownerDocument.createElement("img");f.onload=b;f.src=nc+encodeURIComponent(d[e].substring(3,d[e].length-3));f.title=d[e];c.appendChild(f);var h=c.ownerDocument.createElement("span");h.appendChild(c.ownerDocument.createTextNode(d[e]));h.style.display="none";c.appendChild(h);f.onclick=function(k,g){return function(){var l="none"==k.style.display;
k.style.display=l?"inline":"none";g.style.display=l?"none":"inline";return!1}}(f,h);h.onclick=f.onclick}this.i.flush(c);this.G=""}}lc.prototype=new P;var mc=/(\{\$ .*? \$\})|(.+?)/g,nc="http://go.mibbit.com/tex.php?";
function oc(a,b,c){this.a=b;this.s=a;this.f=a.ownerDocument;this.Te=c;this.g=[];this.table=this.f.createElement("table");t({background:this.a.chatOutputBackground,tableLayout:"fixed",borderCollapse:"collapse",border:"0",width:"100%",height:"100%"},this.table.style);this.table.setAttribute("cellpadding","0");this.table.setAttribute("cellspacing","0");this.s.appendChild(this.table);this.Zd={rb:function(d){t({height:"1em",overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",paddingBottom:"1px",
paddingTop:"1px",paddingLeft:"3px",fontSize:"13px",borderTop:"1px solid #c8c8ff"},d.style);d.setAttribute("valign","top");d.appendChild(d.ownerDocument.createTextNode(" "))},nc:function(d){t({background:"#cad69f",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"11px",borderRight:"1px solid #888"},d.style);d.appendChild(d.ownerDocument.createTextNode(" "))},renderTime:function(d){t({background:"#e4eace",fontFamily:"Arial, Helvetica, sans-serif",fontSize:"11px",borderRight:"1px solid #888"},d.style);
d.appendChild(d.ownerDocument.createTextNode(" "))}}}p=oc.prototype;p.clear=function(){for(;0<this.table.rows.length;)this.table.deleteRow(0),this.g.shift()};p.C=function(){this.table.style.background=this.a.chatOutputBackground;var a=this.g;for(this.g=[];0<this.table.rows.length;)this.table.deleteRow(0);for(var b=0;b<a.length;b++)a[b].r?pc(this,a[b].id,a[b].r,a[b].Lb):a[b].Ke?qc(this,a[b].id,a[b].Ke):this.fd(a[b].id)};
function rc(a,b){for(var c=b+" ",d=0;d<a.g.length;d++)if(a.g[d].id.substring(0,c.length)==c||a.g[d].id==b)a.table.deleteRow(d),a.g.splice(d,1),d--}function sc(a,b,c){for(var d=b+" ",e=0;e<a.g.length;e++)a.g[e].id.substring(0,d.length)!=d&&a.g[e].id!=b||t(c,a.g[e].Pf.style)}
function tc(a){var b=1+(a.a.chatOutputShowTimes?1:0)+(a.a.chatOutputShowNicks?1:0);if(0!=a.a.chatOutputMaxLines)for(;0<a.table.rows.length&&!(a.table.rows[0].cells.length==b&&a.table.rows.length<a.a.chatOutputMaxLines);)a.table.deleteRow(0),a.g.shift()}p.fd=function(a){var b=this.table.insertRow(-1);this.g.push({id:""+a});a=b.insertCell(-1);uc&&(a.style.paddingRight="15px");a.colSpan=1+(this.a.chatOutputShowTimes?1:0)+(this.a.chatOutputShowNicks?1:0);a.style.borderTop="1px solid red";tc(this)};
function qc(a,b,c,d){function e(g,l,m){try{g.style[l]=m}catch(n){}}var f=a.table.insertRow(-1);d&&(f.style.display="none");var h,k;a.a.chatOutputRTL?(d=f.insertCell(-1),a.a.chatOutputShowNicks&&(k=f.insertCell(-1)),a.a.chatOutputShowTimes&&(h=f.insertCell(-1))):(a.a.chatOutputShowTimes&&(h=f.insertCell(-1)),a.a.chatOutputShowNicks&&(k=f.insertCell(-1)),d=f.insertCell(-1));a.g.push({id:""+b,Ke:c,Pf:d,Pg:f});a.a.chatOutputShowTimes&&(h.style.width=a.a.chatOutputTimeWidth+"px",h.style.overflow="hidden",
c&&c.renderTime?c.renderTime(h):a.Zd.renderTime(h));a.a.chatOutputShowNicks&&(k.style.width=a.a.chatOutputNickWidth+"px",k.style.overflow="hidden",e(k,"wordWrap","break-word"),c&&c.nc?c.nc(k):a.Zd.nc(k));uc&&(d.style.paddingRight="15px");e(d,"whiteSpace","pre-wrap");e(d,"whiteSpace","-moz-pre-wrap");e(d,"whiteSpace","-pre-wrap");e(d,"whiteSpace","-o-pre-wrap");e(d,"wordWrap","break-word");c?c.rb(d):a.Zd.rb(d);tc(a)}
function pc(a,b,c,d){var e=a.table.insertRow(-1);a.g.push({id:""+b,r:c,Lb:d});e=e.insertCell(-1);uc&&(e.style.paddingRight="15px");e.colSpan=1+(a.a.chatOutputShowTimes?1:0)+(a.a.chatOutputShowNicks?1:0);t({borderTop:"1px solid "+a.a.chatPaneBorder,borderBottom:"1px solid "+a.a.chatPaneBorder,padding:"3px"},e.style);var f=a.f.createElement("div");uc&&(f.style.marginRight="15px");e.appendChild(f);c(f);c=a.f.createElement("div");uc&&(c.style.marginRight="15px");c.style.textAlign="right";f=a.f.createElement("img");
A(f,"https://s3.amazonaws.com/mibbit/gfx/close-win-red.png",12,12);f.border=0;f.style.marginRight="4px";f.style.cursor="pointer";f.title=D.get("ChatOutputRemove");f.onclick=function(h){return function(){try{rc(h,b),h.Te&&h.Te(),d&&d()}catch(k){}return!1}}(a);c.appendChild(f);e.appendChild(c);tc(a)}
function vc(a,b,c,d,e,f,h,k,g,l){t({overflow:"hidden",fontFamily:c.chatFontFamily,paddingBottom:c.chatPaddingBottom+"px",paddingTop:c.chatPaddingTop+"px",paddingLeft:"3px",fontSize:c.chatFontSize+"px",color:h,background:c.chatBackground,verticalAlign:"bottom"},b.style);""!=c.chatBackgroundLines&&(b.style.borderTop="1px solid "+c.chatBackgroundLines);b.setAttribute("valign","top");c.chatOutputRTL&&(b.style.direction="rtl");if(!c.chatOutputShowNicks){var m=b.ownerDocument.createElement("span");c.chatBackgroundHighlight&&
(m.onmouseover=function(n){return function(){d&&sc(n,d.toLowerCase(),{background:c.chatBackgroundHighlight})}}(a),m.onmouseout=function(n){return function(){d&&sc(n,d.toLowerCase(),{background:c.chatBackground})}}(a));f&&(m.onclick=function(){f(d)});t({fontFamily:c.nickFontFamily,fontSize:c.nickFontSize+"px",color:e},m.style);d&&m.appendChild(b.ownerDocument.createTextNode(c.chatOutputNickLeft+d+c.chatOutputNickRight))}m&&!c.chatOutputRTL&&b.appendChild(m);if(g)try{k.reset(),l&&(k.Oc=l),L(k,g),k.flush(b)}catch(n){w&&
x("Renderer","Render error "+n,y)}else b.style.height="1em";m&&c.chatOutputRTL&&b.appendChild(m)}
p.nc=function(a,b,c,d,e){t({overflow:"hidden",fontFamily:b.nickFontFamily,paddingBottom:b.chatPaddingBottom+"px",paddingTop:b.chatPaddingTop+"px",paddingRight:"3px",fontSize:b.nickFontSize+"px",background:b.nickBackground,color:d},a.style);e&&(a.onclick=function(){e(c)});""!=b.chatBackgroundLines&&(a.style.borderTop="1px solid "+b.nickBackground);b.nickBorderRight&&(b.chatOutputRTL?a.style.borderLeft="1px solid "+b.nickBorderRight:a.style.borderRight="1px solid "+b.nickBorderRight);a.setAttribute("align",
b.chatOutputRTL?"left":"right");a.setAttribute("valign",b.nickVerticalAlign);b.chatOutputRTL&&(a.style.direction="rtl");a.appendChild(a.ownerDocument.createTextNode(c?c:" "));b.chatBackgroundHighlight&&(a.onmouseover=function(f){return function(){c&&sc(f,c.toLowerCase(),{background:b.chatBackgroundHighlight})}}(this),a.onmouseout=function(f){return function(){c&&sc(f,c.toLowerCase(),{background:b.chatBackground})}}(this))};
p.renderTime=function(a,b,c){function d(l,m,n){for(l=""+l;l.length<m;)l=n+l;return l}function e(l,m){m=m.replace(/%H/g,d(l.getHours(),2,"0"));m=m.replace(/%I/g,d(l.getHours()%12||12,2,"0"));m=m.replace(/%k/g,d(l.getHours(),2," "));m=m.replace(/%l/g,d(l.getHours()%12||12,2," "));m=m.replace(/%M/g,d(l.getMinutes(),2,"0"));m=m.replace(/%p/g,11<l.getHours()?"PM":"AM");m=m.replace(/%P/g,11<l.getHours()?"pm":"am");m=m.replace(/%S/g,d(l.getSeconds(),2,"0"));m=m.replace(/%Y/g,l.getFullYear());m=m.replace(/%y/g,
d(l.getYear()%100,2,"0"));m=m.replace(/%m/g,d(l.getMonth()+1,2,"0"));m=m.replace(/%b/g,f[l.getMonth()].substring(0,3));m=m.replace(/%B/g,f[l.getMonth()]);m=m.replace(/%a/g,h[l.getDay()].substring(0,3));m=m.replace(/%A/g,h[l.getDay()]);m=m.replace(/%d/g,d(l.getDate(),2,"0"));m=m.replace(/%e/g,d(l.getDate(),2," "));return m=m.replace(/%%/g,"%")}t({overflow:"hidden",fontFamily:b.timeFontFamily,paddingBottom:b.chatPaddingBottom+"px",paddingTop:b.chatPaddingTop+"px",paddingLeft:"2px",fontSize:b.timeFontSize+
"px",color:b.timeColor,background:b.timeBackground},a.style);""!=b.chatBackgroundLines&&(a.style.borderTop="1px solid "+b.timeBackground);b.timeBorderRight&&(b.chatOutputRTL?a.style.borderLeft="1px solid "+b.timeBorderRight:a.style.borderRight="1px solid "+b.timeBorderRight);a.setAttribute("align",b.chatOutputRTL?"right":"left");a.setAttribute("valign",b.nickVerticalAlign);b.chatOutputRTL&&(a.style.direction="rtl");var f="January February March April May June July August September October November December".split(" "),
h="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");if(c){var k=new Date;k.setTime(c);c=new Date;var g="";g=k.getYear()==c.getYear()&&k.getMonth()==c.getMonth()&&k.getDate()==c.getDate()?e(k,b.formatTime):e(k,b.formatDate);a.appendChild(a.ownerDocument.createTextNode(g))}else a.appendChild(a.ownerDocument.createTextNode(" "))};function wc(a,b){this.element=a;this.f=a.ownerDocument;this.a=b;this.wd=!1}function xc(a,b){a.wd&&(a.Fc.style.display=b?"none":"block")}
function yc(a,b,c,d){a.clear();if(!d){var e=a.f.createElement("div");t({textAlign:"right",overflow:"hidden",height:"15px",borderBottom:"1px solid #000",padding:"4px",fontSize:"13px",fontWeight:"bold",background:"#ccc"},e.style);var f=a.f.createElement("span");t({color:"#222",cursor:"pointer",textDecoration:"underline"},f.style);f.onclick=function(k){return function(){k.clear();c();return!1}}(a);f.appendChild(a.f.createTextNode("Close"));if(b){var h=a.f.createElement("a");h.style.color="#222";h.href=
b;h.target="_blank";h.appendChild(a.f.createTextNode("Pop out"));h.onclick=function(k){return function(){k.clear();c();return!0}}(a);e.appendChild(h);e.appendChild(a.f.createTextNode(" | "))}e.appendChild(f);a.element.appendChild(e)}a.Fc=a.f.createElement("div");t({position:"absolute",top:"24px",bottom:"0px",left:"0px",right:"0px"},a.Fc.style);d&&(a.Fc.style.top="0px");a.element.appendChild(a.Fc);return a.Fc}wc.prototype.clear=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild)};
function zc(a,b,c,d){a.wd=!0;c=yc(a,b,c,d);a.Y=a.f.createElement("iframe");a.Y.style.width="100%";a.Y.style.height="100%";a.Y.style.minHeight="100%";c.appendChild(a.Y);a.Y.src=b}function Ac(a,b,c){zc(a,"http://docs.google.com/viewer?url="+encodeURIComponent(b)+"&embedded=true",c)}wc.prototype.qe=function(a){try{this.Y.contentWindow.mibbit_recv(a)}catch(b){}};
function Bc(a,b,c,d){a.wd=!1;a=yc(a,c,d);c=100;d=81;try{a.offsetWidth/a.offsetHeight<425/344?(c=a.offsetWidth,d=Math.floor(344*c/425)):(d=a.offsetHeight,c=Math.floor(425*d/344))}catch(e){}a.style.textAlign="center";a.innerHTML='<object style="margin:auto" width="'+c+'" height="'+d+'"><param name="movie" value="http://www.youtube.com/v/'+b+'&hl=en&fs=1"></param><param name="allowFullScreen" value="true"></param><embed src="http://www.youtube.com/v/'+b+'&hl=en&fs=1" type="application/x-shockwave-flash" allowfullscreen="true" width="'+
c+'" height="'+d+'"></embed></object>'}function Cc(a,b,c){a.wd=!1;var d=yc(a,b,c),e=a.f.createElement("img");d.style.textAlign="center";d.appendChild(e);e.onload=function(){return function(){if(e.width>d.offsetWidth||e.height>d.offsetHeight)try{d.offsetWidth/d.offsetHeight>e.width/e.height?(e.style.width="auto",e.style.height="100%"):(e.style.width="100%",e.style.height="auto")}catch(f){}}}();e.src=b}
function Dc(a){this.s=a;this.f=a.ownerDocument;this.id=Dc.S++;this.loaded=!1;this.Y=this.f.createElement("iframe");this.Y.attachEvent?this.Y.attachEvent("onload",function(b){return function(){Ec(b)}}(this)):this.Y.addEventListener("load",function(b){return function(){Ec(b)}}(this),!1);this.Y.style.width="100%";this.Y.style.height="100%";this.Y.frameBorder="0";a.appendChild(this.Y)}
function Ec(a){a.ee=a.Y.contentDocument?a.Y.contentDocument:a.Y.contentWindow?a.Y.contentWindow.document:null;if(null!=a.ee)try{a.ee.designMode="on",a.loaded=!0,a.Y.contentWindow.focus()}catch(b){w&&x("PasteBin","Can't set designMode",y)}else w&&x("PasteBin","Can't find doc...",y)}Dc.prototype.show=function(a){this.s.style.display=a?"block":"none";a&&(this.loaded||(this.Y.src="/e.html"),window.setTimeout(function(b){return function(){b.loaded||Ec(b)}}(this),100))};
Dc.prototype.tb=function(){return"block"==this.s.style.display};Dc.prototype.value=function(){var a=this.ee.body.innerHTML;a=a.replace(/<br>/gi,"\n");a=a.replace(/<p>/i,"");a=a.replace(/<p>/gi,"\n");a=a.replace(/<\/td>/gi,"\t");a=a.replace(/<\/tr>/gi,"\n");a=a.replace(/<\/div>/gi,"\n");a=a.replace(/<\/pre>/gi,"\n");a=a.replace(/<.*?>/g,"");a=a.replace(/&nbsp;/gi," ");a=a.replace(/&lt;/gi,"<");a=a.replace(/&gt;/gi,">");return a=a.replace(/&amp;/gi,"&")};
function Fc(a){t({overflow:"hidden",fontFamily:"Arial,Helvetica,sans-serif",paddingBottom:"1px",paddingTop:"1px",paddingLeft:"3px",fontSize:"13px",borderTop:"1px solid #c8c8ff"},a.style);a.setAttribute("valign","top");var b=a.ownerDocument,c=b.createElement("table");t({padding:"2px",border:"1px solid #444",background:"#cce",fontSize:"11px"},c.style);c.border=0;c.setAttribute("border","0");c.setAttribute("cellpadding","2");c.setAttribute("cellspacing","0");var d=c.insertRow(-1);t({background:"#aac",
borderBottom:"1px solid #444"},d.style);d=d.insertCell(-1);d.setAttribute("colspan","2");d.colSpan="2";t({fontWeight:"bold",fontSize:"13px",textAlign:"center"},d.style);d.appendChild(b.createTextNode("Mibbit help"));d={help:"Display this help",clear:"Clear the chat output in this channel","query nick [msg]":"Open a PM to a user, with an optional message","ignore nick":"Ignore the user in this channel","unignore nick":"Unignore the user in this channel",ulshow:"Show the user list",ulhide:"Hide the user list",
"showurl url":"Show a url/media next to the chat",pastebin:"Show the pastebin","server addr [nick]":"Connect to another server"};for(var e in d)if(d.hasOwnProperty(e)&&d.hasOwnProperty(e)){var f=c.insertRow(-1),h=f.insertCell(-1);h.setAttribute("valign","top");h.appendChild(b.createTextNode("/"+e));h.style.color="green";h.style.paddingRight="2px";f=f.insertCell(-1);f.setAttribute("valign","top");f.appendChild(b.createTextNode(d[e]));f.style.color="#444"}b=b.createElement("div");b.style.border="none";
b.style.padding="5px";b.appendChild(c);a.appendChild(b)}
function Gc(a,b,c){return function(d){t({overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",paddingBottom:"1px",paddingTop:"1px",paddingLeft:"3px",borderTop:"1px solid #c8c8ff"},d.style);d.setAttribute("valign","top");var e=d.ownerDocument,f=e.createElement("table");f.border=0;f.setAttribute("border","0");f.setAttribute("cellpadding","0");f.setAttribute("cellspacing","0");t({fontSize:b.chatFontSize+"px",width:"100%",background:"#bbb",border:"1px solid #222"},f.style);var h=f.insertRow(-1);
h.style.borderBottom="1px solid #222";var k=h.insertCell(-1);k.colSpan="2";t({fontWeight:"bold",fontSize:"17px",color:"#6cb12a",padding:"2px",background:"url(https://s3.amazonaws.com/mibbit/gfx/bottom-bg.png)"},k.style);h=e.createElement("img");h.style.marginRight="4px";A(h,"https://s3.amazonaws.com/mibbit/gfx/magnifier.png",16,16);k.appendChild(h);k.appendChild(e.createTextNode("Whois "+a.nick+"?"));var g=f.insertRow(-1),l=g.insertCell(-1);l.setAttribute("valign","top");l.style.borderRight="1px solid #222";
l.style.width="64px";h=e.createElement("img");h.style.margin="4px";A(h,"https://s3.amazonaws.com/mibbit/gfx/user"+(a.mibbituser?"_green":"")+".png",64,64);l.appendChild(h);var m=g.insertCell(-1);m.setAttribute("valign","top");l=e.createElement("table");m.appendChild(l);var n={nick:"Nickname",user:"Username",host:"Hostname",realip:"IP",realhost:"Host",idd:"Identified",realname:"Real name",away:"Away message",server:"Server",ssl:"SSL",modes:"Modes",help:"Help",operator:"Operator",serverinfo:"Server info",
idle:"Idle time",channels:"Channels",client:"IRC Client",browser:"Browser",backend:"Backend",connectip:"Connect IP"};for(B in n)if(n.hasOwnProperty(B)&&a.hasOwnProperty(B)){var r=n[B],u=l.insertRow(-1),v=u.insertCell(-1);u=u.insertCell(-1);v.setAttribute("valign","top");v.style.whiteSpace="nowrap";u.setAttribute("valign","top");v.appendChild(e.createTextNode(r+":"));v.style.color="#464";v.style.textAlign="right";v.style.paddingRight="2px";c.reset();L(c,a[B]);c.flush(u)}if(a.mibbituser){l=function(E,
U){var H=z.insertRow(-1),I=H.insertCell(-1);H=H.insertCell(-1);I.setAttribute("valign","top");I.appendChild(e.createTextNode(E+":"));I.style.color="#464";I.style.textAlign="right";I.style.paddingRight="2px";I.style.whiteSpace="nowrap";H.setAttribute("valign","top");H.style.color="#000";E=e.createElement("a");E.href=U;E.target="_blank";E.style.color="blue";E.appendChild(e.createTextNode(U));H.appendChild(E)};n=function(E,U){var H=z.insertRow(-1),I=H.insertCell(-1);H=H.insertCell(-1);I.setAttribute("valign",
"top");I.appendChild(e.createTextNode(E+":"));I.style.color="#464";I.style.textAlign="right";I.style.paddingRight="2px";I.style.whiteSpace="nowrap";H.setAttribute("valign","top");H.style.color="#000";H.appendChild(e.createTextNode(U))};k.colSpan="3";m.style.borderRight="1px solid #222";m.style.width="45%";v=g.insertCell(-1);v.setAttribute("valign","top");var z=e.createElement("table");v.appendChild(z);a.mibbitusername&&n("Mibbit username",a.mibbitusername);n("On Mibbit for",a.onlinetime);a.cc&&n("Country",
a.cc);a.ct&&a.tz&&(k=function(E){return("00"+E).substr(-2)},g=new Date(parseInt(a.ct)),g=k(g.getUTCHours())+":"+k(g.getUTCMinutes())+":"+k(g.getUTCSeconds()),m="+",0>a.tz&&(m="-",a.tz=-a.tz),v=k(Math.floor(a.tz/60)),k=k(a.tz-60*v),n("Local time",g+" UTC"+m+v+k));a.embed&&n("Mibbit client","Widget");a.premium&&n("Premium","Yes");if(a.profile){k={sex:"Sex",age:"Age",location:"Location",homepage:"Web site"};g=ea(a.profile);for(B in k)k.hasOwnProperty(B)&&g.hasOwnProperty(B)&&("homepage"==B?l(k[B],g[B]):
n(k[B],g[B]));g.avatar&&(h.src=g.avatar)}}var B=e.createElement("div");B.style.border="none";B.style.padding="5px";B.appendChild(f);d.appendChild(B)}}
function Hc(a,b){return function(c){c.setAttribute("valign","top");t({overflow:"hidden",fontFamily:"Arial, Helvetica, sans-serif",paddingBottom:"1px",paddingTop:"1px",paddingLeft:"3px",fontSize:"13px",borderTop:"1px solid #c8c8ff"},c.style);var d=c.ownerDocument,e=d.createElement("table");t({border:"1px solid #222",background:"#bbb",width:"100%"},e.style);e.border=0;e.setAttribute("border","0");e.setAttribute("cellpadding","0");e.setAttribute("cellspacing","0");var f=e.insertRow(-1);f.style.borderBottom=
"1px solid #222";f=f.insertCell(-1);t({fontWeight:"bold",fontSize:"17px",color:"#ff0",padding:"2px",background:"url(https://s3.amazonaws.com/mibbit/gfx/bottom-bg.png)"},f.style);var h=d.createElement("img");h.style.marginRight="4px";A(h,"https://s3.amazonaws.com/mibbit/gfx/exclamation.png",16,16);f.appendChild(h);f.appendChild(d.createTextNode("Global message from Mibbit"));h=d.createElement("span");h.style.fontSize="13px";h.style.color="#ddd";h.appendChild(d.createTextNode(" ("+(new Date).toString()+
")"));f.appendChild(h);f=e.insertRow(-1).insertCell(-1);f.style.padding="4px";f.style.fontSize="15px";b.reset();L(b,a);b.flush(f);d=d.createElement("div");d.style.border="none";d.style.padding="5px";d.appendChild(e);c.appendChild(d)}}
function Ic(a,b,c){return function(d){try{t({overflow:"hidden",fontFamily:b.chatFontFamily,paddingBottom:b.chatPaddingBottom+"px",paddingTop:b.chatPaddingTop+"px",paddingLeft:"3px",fontSize:b.chatFontSize+"px",color:b.colorBan,background:b.chatBackground},d.style);""!=b.chatBackgroundLines&&(d.style.borderTop="1px solid "+b.chatBackgroundLines);d.setAttribute("valign","top");var e=d.ownerDocument;if(c){var f=e.createElement("img");A(f,"https://s3.amazonaws.com/mibbit/gfx/close-win-red.png",12,12);
f.style.marginRight="4px";f.border=0;f.title="Remove ban";f.style.cursor="pointer";f.onclick=function(m){return function(){c(m);return!1}}(a.mask);d.appendChild(f)}var h=e.createElement("span");h.appendChild(e.createTextNode(a.mask+" "));d.appendChild(h);var k=e.createElement("span");k.style.color="#888";k.appendChild(e.createTextNode(a.who+" "));d.appendChild(k);var g=new Date;g.setTime(1E3*a.ctime);var l=e.createElement("span");l.style.color="#9c9";l.appendChild(e.createTextNode("("+g+") "));d.appendChild(l)}catch(m){w&&
x("BanListRenderer",m,y)}}}function Jc(a){this.URL="/j/mibbit";this.eb=a;this.onerror=function(){};this.v=Kc();this.Wc=null;this.rc=this.Yb=0;this.sc=null;this.Ib=[];this.Wa=null;this.Ld=this.we=this.uf=this.tf=this.Vc=0}function Kc(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}alert("Giving up :( Cannot create an XMLHTTP instance");return!1}
function Lc(a){function b(c,d){try{a.setRequestHeader(c,d)}catch(e){}}Jc.S||(b("User-Agent",null),b("Accept",null),b("Accept-Language",null),b("Content-Type","M;"),b("Cookie",null),b("Connection","keep-alive"),b("Keep-Alive",null))}p=Jc.prototype;
p.I=function(a){a=q(a)+"\n";var b=encodeURIComponent(a).replace(/%../g,"x").length;if(64E3<b)this.onerror("That packet will never get through! Too big. (MAX_POST_LEN=64000)");else this.Ib.push({data:a,size:b,stime:(new Date).getTime()}),this.Wc||this.Wa||this.retry(200)};
function Mc(a){if(!a.Wc&&0!==a.Ib.length)try{a.Wc="Sending...";a.v.abort();a.v.onreadystatechange=function(e){return function(){e.Ce()}}(a);try{a.v.onerror=function(e){return function(){e.De()}}(a)}catch(e){}a.v.open("POST",a.URL+"-s"+(""==a.Na?"":"-"+a.Na),!0);Lc(a.v);a.rc="";for(var b=a.Yb=0,c=0;c<a.Ib.length&&!(64E3<b+a.Ib[c].size);c++){var d=a.Ib[c].data;d='{"seq":'+a.Vc+","+d.substring(1,d.length);a.Vc++;a.rc+=d;a.Yb++;b+=a.Ib[c].size}a.onerror("Sending "+a.Yb+" packets... Length="+a.rc.length+
" Size="+b);a.v.send(a.rc);a.sc=window.setTimeout(function(e){return function(){e.onerror("Timer: retrying...");e.retry(5E3)}}(a),12E4);a.tf++}catch(e){a.onerror("flushSend error: "+e),a.retry(5E3)}}p.retry=function(a){this.onerror("Retry("+a+")");this.Wa&&window.clearTimeout(this.Wa);this.sc&&(window.clearTimeout(this.sc),this.sc=null);if(this.v)try{this.v.abort()}catch(b){}this.v=Kc();this.Wc=null;this.Wa=window.setTimeout(function(b){return function(){b.Wa=null;Mc(b)}}(this),a)};
p.De=function(){this.onerror("xhrError was called!");this.retry(5E3)};
p.Ce=function(){this.onerror("xhrChange...");try{if(4==this.v.readyState){if(200==this.v.status){try{this.eb.psh&&this.eb.psh(this.Yb)}catch(b){}this.we+=this.Yb;for(var a=0;a<this.Yb;a++)this.Ib.shift();this.Yb=0;window.clearTimeout(this.sc);this.sc=null;this.eb.recv(this.v.responseText);this.uf++;this.Ld+=this.rc.length}else throw Error("Server status "+this.v.status);this.Wc=null;Mc(this)}}catch(b){this.onerror("xhrChange Exception "+b),this.retry(5E3)}};
p.reset=function(){this.onerror("reset called");this.Vc=0;this.Ib=[]};function Nc(){var a={nch:Oc,gph:Pc,ooh:Qc,ssh:Rc};this.URL="/j/mibbit";this.Na="";this.ye=!1;this.onerror=function(){};this.eb=a;this.V=[];this.pb=[];this.v=Sc();this.Md=!1;this.lf=this.qc=this.pc=null;this.xa=[];this.Xb=0;this.Hd=null;this.re=0;this.Wa=null;this.Qc=this.Ma=!1}p=Nc.prototype;p.reset=function(){this.Na=""};
p.stop=function(){if(0!=this.Ma){this.Ma=!1;try{for(var a in this.V)this.V.hasOwnProperty(a)&&this.V[a].close&&this.V[a].close();this.pc&&this.v.abort();var b=Sc();b.open("POST",this.URL+"-s"+(""==this.Na?"":"-"+this.Na),!1);b.send('{"cmd":"shutdown"}\n')}catch(c){this.onerror("Shutdown failed "+c)}}};
function Tc(a,b){if(b!=a.Qc){for(var c in a.V)if(a.V.hasOwnProperty(c))try{if(b)a.V[c].Qc();else{var d=a.V[c];w&&x("loginManager","OFFLINE",J);d.he=!1;d.oc=!1;Uc(d,!1)}}catch(e){}a.Qc=b;try{a.eb.ooh(b)}catch(e){}}}function Sc(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}alert("Giving up :( Cannot create an XMLHTTP instance");return!1}
p.start=function(){this.onerror("Starting...");if(this.Ma)this.onerror("Already running...");else this.Ma=!0,Vc(this)};
function Vc(a){if(5<a.re)a.onerror("Session changes not sticking!");else if(!a.pc){a.onerror("Sending new request...");a.v=Sc();try{a.pc="Requesting...";a.Md=!1;a.v.onreadystatechange=function(b){return function(){b.Ce()}}(a);try{a.v.onerror=function(b){return function(){b.De()}}(a)}catch(b){}a.v.open("POST",a.URL+"-r"+(""==a.Na?"":"-"+a.Na),!0);Lc(a.v);a.v.send("{}");a.lf=(new Date).getTime();a.qc=window.setTimeout(function(b){return function(){b.onerror("Recv timed out");Tc(b,!1);b.retry()}}(a),
15E4)}catch(b){a.onerror("Exception when sending request: "+b),Tc(a,!1),a.retry()}}}p.retry=function(){this.Wa&&window.clearTimeout(this.Wa);this.qc&&(window.clearTimeout(this.qc),this.qc=null);this.pc=null;if(this.Ma){if(this.v)try{this.v.abort()}catch(a){}this.v=Sc();this.Wa=window.setTimeout(function(a){return function(){a.Wa=null;Vc(a)}}(this),5E3)}};p.De=function(){this.onerror("xhrError was called!");Tc(this,!1);this.retry()};
p.Ce=function(){try{if(this.onerror("xhrChange "+this.v.readyState),4==this.v.readyState){window.clearTimeout(this.qc);this.qc=null;this.onerror("xhrChange status="+this.v.status);if(200==this.v.status){this.pc="Parsing response...";var a=this.v.responseText,b=""!==this.xg;try{Wc(this,a)}catch(d){}var c=""!==this.xg;b||c||(this.onerror("Could not get session ID!"),this.stop());Tc(this,!0)}else throw Error("Status "+this.v.status);this.pc=null;this.Ma&&window.setTimeout(function(d){return function(){Vc(d)}}(this),
10)}else 1==this.v.readyState&&(this.Md=!0)}catch(d){a=(new Date).getTime()-this.lf,this.onerror("xhrChange "+d+" "+this.Md+" "+a),(!this.Md||5E3>a)&&Tc(this,!1),this.retry()}};function Xc(a,b){var c=Q;c.V[a]=b;if("undefined"!=typeof c.pb[a]){for(;0<c.pb[a].length;)b.qb(c.pb[a].shift());delete c.pb[a]}}function Yc(a,b){a.V[b]&&(a.V[b].close&&a.V[b].close(),delete a.V[b],delete a.pb[b])}
function Wc(a,b){if(a.Ma){if(b){b=b.split("\n");for(var c=0;c<b.length;c++)if(""!==b[c]){try{var d=eval("("+b[c]+")")}catch(e){a.onerror("parseResponse "+e+" "+b[c])}if(d)if("undefined"==typeof d.seq)try{a.eb.gph(d)}catch(e){a.onerror("ProcessPackets.gph "+e)}else a.xa.push(d)}}Zc(a)}}
function Zc(a){for(var b=0;0<a.xa.length;){if(10<b){window.setTimeout(function(f){return function(){Zc(f)}}(a),50);break}if(a.xa[0].seq!=a.Xb){for(a.xa.sort(function(f,h){return f.seq-h.seq});0<a.xa.length&&!a.xa[0].sessionid&&a.xa[0].seq<a.Xb;)a.onerror("Packet discarded:"+a.Xb+" : "+a.xa[0].seq),a.xa.shift();if(0==a.xa.length)break}if(a.Hd&&1E4<(new Date).getTime()-a.Hd)a.Hd=null,a.onerror("Blocked timeout, packet loss:"+a.Xb+" : "+a.xa[0].seq);else{var c=a.xa[0];if(!c.sessionid&&c.seq!=a.Xb){a.onerror("Waiting for packet no: "+
a.Xb);a.Hd=(new Date).getTime();break}}c=a.xa.shift();b++;a.Xb=c.seq+1;try{if(c.sessionid){a.re++;a.Na=c.sessionid;try{a.eb.ssh(a.Na,c)}catch(f){a.onerror("ProcessPackets.ssh "+f)}a.ye||a.retry()}else a.re=0;if("true"==c.allchannels)for(var d in a.V)a.V.hasOwnProperty(d)&&a.V[d].qb(c);else if(c.channel)if("close"==c.cmd)Yc(a,c.channel);else if(a.V[c.channel])try{a.V[c.channel].qb(c)}catch(f){}else{var e=!1;a.pb[c.channel]||(e=!0,a.pb[c.channel]=[]);a.pb[c.channel].push(c);e&&(a.eb.nch(c.channel,c)||
delete a.pb[c.channel])}else try{a.eb.gph(c)}catch(f){a.onerror("ProcessPackets.gph "+f)}}catch(f){a.onerror("ProcessPackets "+f+" "+c)}}}
function $c(){var a=Q,b=R;a.lg=a.start;a.ye=!0;a.start=function(){if(!this.Ma){this.Be=function(d){return function(){d.onerror("websocket failed");d.start=this.lg;d.ye=!1;b.I=b.kg;try{d.Kb.onopen=function(){},d.Kb.onmessage=function(){},d.Kb.onclose=function(){},d.Kb.close()}catch(e){}d.Ma=!1;Tc(d,!1);d.start()}}(this);this.Sa=window.setTimeout(function(d){return function(){d.Be()}}(this),5E3);this.Ae=[];this.Dg=[];var c=w?"ws://localhost:8080":"ws"+("http:"==window.location.protocol.toLowerCase()?
"":"s")+"://"+window.location.host+"/mibbit";try{this.Kb=new WebSocket(c)}catch(d){this.Be(),this.Sa&&(window.clearTimeout(this.Sa),delete this.Sa)}this.Kb.onopen=function(d){return function(){d.onerror("Using a websocket");d.Ma=!0;Tc(d,!0)}}(this);this.Kb.onmessage=function(d){return function(e){d.Sa&&(window.clearTimeout(d.Sa),delete d.Sa);Wc(d,e.data);""!=d.Na&&setTimeout(function(){return function(){for(;0<d.Ae.length;)b.I(d.Ae.shift())}}(),0)}}(this);this.Kb.onclose=function(d){return function(){d.onerror("websocket closed");
Tc(d,!1);d.Ma=!1;d.Sa?(window.clearTimeout(d.Sa),delete d.Sa,d.Be()):d.start()}}(this)}};b.kg=b.I;b.I=function(c){return function(d){this.Sa&&this.Dg.push(d);c.Qc?(d=q(d)+"\n",d='{"seq":'+this.Vc+","+d.substring(1,d.length),this.Vc++,b.tf++,c.Kb.send(d),b.uf++,b.we++,b.Ld+=d.length):c.Ae.push(d)}}(a)}
function ad(){this.ae=this.Sf=null;this.wf=!0;this.oe=!1;this.Bf={};this.fe={};this.w={};this.channels={};this.Rf=function(a,b){try{var c="IRCClient:"+a+":"+b;w&&x("embedChannel",c,J);var d=new bd(null,"IRCClient:"+a,this);d.Jg=!0;this.w["IRCClient:"+a]=d;var e=document.createElement("div");document.getElementById("chats").appendChild(e);var f=b+" (channel)",h=!("#"==b.substring(0,1)||"&"==b.substring(0,1)||"!"==b.substring(0,1)),k=new cd(c,e,b,"IRCClient:"+a,d,h);k.b.Z.Fe=!1;k.b.Z.Ge=this.wf;d.b=
k.b;this.channels[c]=k;d.channels[c]=k;var g=Ub(c,e,b,f,function(){return function(l,m){k.b.yb(m)}}(this),function(l){return function(){d.connected&&F.confirmServerClose?l.Wd(a):dd(l,a)}}(this),h?{background:F.tabColorPM,border:F.tabBColorPM}:{background:F.tabColorChannel,border:F.tabBColorChannel},!1,!0);F.focusNewJoins&&this.channels[c].b.yb(!0);this.channels[c].aa=g;Xc(c,this.channels[c]);Xc("IRCClient:"+a,d)}catch(l){w&&x("embedChannel","Exception "+l,y)}};this.qb=function(a){w&&x("IRCClient.recv",
"p.cmd="+a.cmd,N);try{if("connected"==a.cmd){T&&T.Vb({cmd:"connected"});!this.oe&&ed&&(zb=!0,sa(!0));var b="IRCClient:"+a.name;if(this.ae&&this.ae.toLowerCase()==a.name.toLowerCase())this.Rf(a.name,this.Sf);else if(!this.w[b]){var c=!0;ed&&(c=!1);var d=document.getElementById("chats"),e=document.createElement("div");e.style.display=c?"none":"block";d.appendChild(e);var f=new bd(e,b,this);this.w[b]=f;var h=a.name;a.network&&(h=a.network);this.w[b].wg=h;var k=Ub(b,e,h,"IRC server "+a.name,function(){return function(n,
r){f.b.yb(r)}}(this),function(n){return function(){f.connected&&F.confirmServerClose?n.Wd(a.name):dd(n,a.name)}}(this),{background:F.tabColorServer,border:F.tabBColorServer},c,!0,!1,!0);this.w[b].aa=k;Xc(b,this.w[b]);!ed&&a.network&&fd(this.w[b].b,"//clientsearch.mibbit.com/client/channels/"+encodeURIComponent(a.network),!0)}}else if("confailed"==a.cmd)""!=a.name&&this.pf(a.name,a.reason);else if("blacklisted"==a.cmd)w&&x("IRCClient.recv","BLACKLISTED",y),alert("Your IP address is listed in a blacklist. You may have a virus, trojan or be running an open proxy.\nYou will now be redirected to dronebl.org for more information."),
window.location="http://dronebl.org/lookup";else if("checkconnect"==a.cmd)w&&x("IRCClient.recv","checkconnect "+a.allowed,N);else if("disconnected"==a.cmd){T&&T.Vb({cmd:"disconnected"});sa(!1);w&&x("IRCClient.recv",a,N);a.force||this.qf(a.name,a.reason);var g="IRCClient:"+a.name;this.w[g]&&(Yc(Q,g),this.w[g].closed(!!a.reason&&!a.force),delete this.w[g]);gd("ircdisconnect")}else if("keyaccept"==a.cmd)Nb(),this.oe=!0,w&&x("server","PREMIUM",y),G&&(ma&&(window.clearInterval(ma),ma=null),document.body.removeChild(G),
G=null),zb=!1;else if("sysmsg"==a.cmd)w&&x("server",a.data,J);else if("status"==a.cmd)hd("irc",a.connections,a.pending,a.pendingDNS),w&&x("server","Status: "+q(a),J);else if("linkinfo"==a.cmd){w&&x("IRCClient.recv","Link info: "+a,J);c=document.getElementById(a.linkid);var l=document.getElementById(a.linkid+"_i");if(c&&l){b="";if(a.followed)b=a.followed;else for(var m in a.idata)a.idata.hasOwnProperty(m)&&"thumb"!=m&&(b=b+m.toUpperCase()+": "+a.idata[m]+" \n");c.title=b;c.style.color=F.Gg;l.title=
b;a.idata.thumb&&(c.src=a.idata.thumb)}else w&&x("IRCClient.recv","Link not found :/ "+a.linkid,y)}else w&&x("IRCClient.recv",a,N)}catch(n){w&&x("IRCClient.recv","exception "+a+":"+n,y)}};this.jg=function(){w&&x("IRCClient.notifyServersDisconnect","notifyServersDisconnect",J);gd("ircdisconnect");try{for(var a in this.w)this.w.hasOwnProperty(a)&&this.w[a].hc()}catch(b){w&&x("IRCClient.notifyServersDisconnect","exception ",y)}};this.We=0;this.sg=function(a){var b="GLOB"+this.We;this.We++;var c=function(e){return function(){for(var f in e.w)if(e.w.hasOwnProperty(f)){var h=
void 0,k=e.w[f],g=b;k.Qf||rc(k.b.qa,g);for(h in k.channels)k.channels.hasOwnProperty(h)&&rc(k.channels[h].b.qa,g)}}}(this),d;for(d in this.w)this.w.hasOwnProperty(d)&&id(this.w[d],b,a,c)};this.Ef=function(a){w&&x("closedchannel","Added ignore for : "+a,J);this.fe[a]=!0};this.Gf=function(a){w&&x("closedchannel","Removed ignore for : "+a,J);delete this.fe[a]};this.Tc=function(a){w&&x("IRCClient.prefsUpdated","prefsUpdated",J);for(var b in this.channels)if(this.channels.hasOwnProperty(b)){this.channels[b].Tc(a);
var c=this.channels[b].za,d=this.channels[b].aa;d.L={background:c?F.tabColorPM:F.tabColorChannel,border:c?F.tabBColorPM:F.tabBColorChannel};Eb(d,d.wa)}if(null==this.ae)for(b in this.w)this.w.hasOwnProperty(b)&&(this.w[b].Tc(a),c=this.w[b].aa,c.L={background:F.tabColorServer,border:F.tabBColorServer},Eb(c,c.wa))}}function dd(a,b){var c="IRCClient:"+b;a.w[c].connected?R.I({channel:"IRCClient",cmd:"disconnect",data:b}):a.w[c]&&(a.w[c].closed(!1),delete a.w[c])}
ad.prototype.Wd=function(a){window.confirm("Are you sure you want to disconnect from "+a+"?")&&dd(this,a)};ad.prototype.pf=function(a,b){b&&alert(a+": "+b)};ad.prototype.qf=function(a,b){b&&alert(a+": "+b)};
function jd(a,b,c,d,e,f){try{if(""!=b&&""!=a){var h={channel:"IRCClient",cmd:"connect"};"!"==a.substring(0,1)&&(h.proxied=!0,a=a.substring(1,a.length));a=a.replace(/\s+/g,"").replace(/\.+/g,".").replace(/^\./,"").replace(/\.$/,"").toLowerCase();b=b.replace(/\s+/g,"");c=c.replace(/\s+/g,"");d=d.replace(/\n/g,"");d=d.replace(/\r/g,"");h.data=a;h.nick=b;h.pass=null!=c&&c?c:"";h.authmethod=e;d&&null!=d||(d="");h.joinchannels=d;f&&(h.charset=f);w&&x("connect",q(h),J);R.I(h)}}catch(k){w&&x("irc.connectServer",
"exception "+k,y)}}
function kd(a,b){var c=wa;try{if("typing"==b.cmd||c.channels[a])return!1;for(var d in Q.V)if(Q.V.hasOwnProperty(d)&&d.toLowerCase()==a.toLowerCase())return Q.V[d].qb(b),!1;if(c.fe[a])return w&&x("newCHandler","Ignored : "+a,J),!1;if("part"==b.cmd||"infobar"==b.cmd)return!1;if("log"==b.channeltype)return!0;var e=!!c.Bf[a],f="pm"==b.channeltype;if(f&&!F.allowIncommingPMs)return w&&x("newCHandler","Ignored PM : "+a,J),!1;f&&F.blurPMs&&(e=!0);f||F.focusNewJoins||(e=!0);f&&b.userInitiated&&(e=!1);d=f?
a+"(pm)":a+" (channel)";var h=a,k=a.indexOf(":",10);k&&(h=h.substring(0,k));var g=c.w[h],l=document.getElementById("chats"),m=document.createElement("div");e&&(m.style.display="none");l.appendChild(m);e||(Sb(h)?Ob(M):M.l[h]&&M.l[h].Ed(!1));var n=new cd(a,m,b.localchannel,h,g,f);c.channels[a]=n;g.channels[a]=n;var r=Ub(a,m,b.localchannel,d,function(){return function(u,v){n.b.yb(v)}}(c),function(u){return function(v){u.channels[v]&&(v=u.channels[v],!v.za&&ld(v.b)&&(v.A.send({cmd:"text",chan:v.channel,
data:"/part "+v.channel}),v.A.ge.Ef(v.ra)),v.remove(!1));return!0}}(c),{background:f?F.tabColorPM:F.tabColorChannel,border:f?F.tabBColorPM:F.tabBColorChannel},e,!0,h,!1);if(f||F.focusNewJoins)e||c.channels[a].b.yb(!0);c.channels[a].aa=r;e&&r.active();Xc(a,c.channels[a]);f&&gd("newpm");md&&f&&md.ig(a,b.localchannel)}catch(u){w&&x("newCHandler","Exception "+u,y)}return!0}
function nd(a){try{var b=a.split(" ");a={channel:"IRCClient",cmd:"connect"};a.data=b[0];a.nick=od();V&&(a.nick=V);b[1]&&(a.nick=b[1]);a.pass="";a.authmethod="";a.joinchannels="";w&&x("connect","to "+a.data+" nick="+a.nick+" pass="+a.pass+" authmethod="+a.authmethod,J);R.I(a)}catch(c){w&&x("irc.connectServer","exception "+c,y)}}
function pd(a){var b={},c=!1,d=!1;if(-1!=a.search(/^(ircs?:\/\/)$/i))return null;b.ssl=-1!=a.search(/^(ircs:)/i);b.port=b.ssl?9999:6667;a=a.match(/^ircs?:\/\/([^\/\s]+)?(\/[^\s]*)?$/i);if(!a||!a[1])return null;var e=a[1],f="";"undefined"!=typeof a[2]&&(f=a[2]);a=e.match(/^([^:]+)(:\+?\d+)?$/);if(!a)return null;b.host=a[1].toLowerCase();"undefined"!=typeof a[2]?(c=!0,b.port=a[2].substr(1),"+"==b.port.substring(0,1)&&(b.port=b.port.substr(1),b.ssl=!0)):-1!=b.host.indexOf(".")&&(c=!0);if(!c){a=qd[b.host.toLowerCase()];
if(!a)return null;if(b.ssl&&a.mf)b.host=a.mf.host,b.port=a.mf.port;else if(!b.ssl&&a.A)b.host=a.A.host,b.port=a.A.port;else return null}if(f){a=f.match(/^\/([^\?\s\/,]*)?\/?(,[^\?]*)?(\?.*)?$/);if(!a)return null;b.target="undefined"!=typeof a[1]?decodeURIComponent(a[1]):"";if(-1!=b.target.search(/[\x07,\s]/))return null;if("undefined"!=typeof a[2])for(c=a[2].toLowerCase().split(",");c.length;)f=c.pop(),""!=f&&("isnick"==f?d=!0:"isserver"==f?b.isServer=!0:"needpass"==f?b.needPass=!0:"needkey"==f&&
(d||(b.needKey=!0)));d||-1!="#&+".indexOf(b.target.substring(0,1))||(b.target="#"+b.target);if("undefined"!=typeof a[3])for(a=a[3].substr(1).split("&");a.length;)c=a.pop().split("="),f=c[0].toLowerCase(),"msg"==f?b.msg=decodeURIComponent(c[1]):"pass"==f?(b.needPass=!0,b.pass=decodeURIComponent(c[1])):"key"==f?d||(b.needKey=!0,b.key=decodeURIComponent(c[1])):"charset"==f&&(b.charset=decodeURIComponent(c[1]))}return b}
var qd={mibbit:{server:{host:"irc.mibbit.net",port:6667},serverssl:{host:"irc.mibbit.net",port:6697}},moznet:{server:{host:"irc.mozilla.org",port:6667},serverssl:{host:"irc.mozilla.org",port:6697}},hybridnet:{server:{host:"irc.ssc.net",port:6667}},slashnet:{server:{host:"irc.slashnet.org",port:6667}},dalnet:{server:{host:"irc.dal.net",port:6667}},undernet:{server:{host:"irc.undernet.org",port:6667}},webbnet:{server:{host:"irc.webbnet.info",port:6667}},quakenet:{server:{host:"irc.quakenet.org",port:6667}},
ircnet:{server:{host:"irc.open-ircnet.net",port:6667}},freenode:{server:{host:"irc.freenode.net",port:6667}},serenia:{serverssl:{host:"irc.serenia.net",port:9999}},efnet:{server:{host:"irc.prison.net",port:6667}},hispano:{server:{host:"irc.irc-hispano.org",port:6667}}},rd="UTF-8 Big5 ISO-8859-1 ISO-8859-2 ISO-8859-3 ISO-8859-4 ISO-8859-5 ISO-8859-6 ISO-8859-7 ISO-8859-8 ISO-8859-9 ISO-8859-13 ISO-8859-15 windows-1250 windows-1251 windows-1252 windows-1253 windows-1254 windows-1255 windows-1256 windows-1257 windows-1258".split(" ");
function cd(a,b,c,d,e,f){var h=F;w&&x("ChatChannel","ch="+a+", chan="+c+", sname="+d+", sobj="+e,J);this.ra=a;this.channel=c;this.Jb=d;this.A=e;this.za=f;this.connected=!0;this.a=h;this.zd=this.vc=!1;w&&x("ChatChannel","New chat channel for "+c,J);this.Wb=0;this.ta=new sd;b.style.background=f?this.a.tabColorPM:this.a.tabColorChannel;a={};a.Dd=function(k){return function(){try{if(!k.connected)return!1;k.Ba(k.b.o.ja.value)}catch(g){w&&x("submit",g,y)}return!1}}(this);a.wc=function(k){return function(g){k.vc?
(""==g||"/"==g.substring(0,1)&&"//"!=g.substring(0,2))&&k.$b(!1):""==g||"/"==g.substring(0,1)&&"//"!=g.substring(0,2)||k.$b(!0)}}(this);a.Cg=function(k){return function(g,l){if("usermenu"==l.substring(0,8)){if(l=parseInt(l.substring(8,l.length)),k.a.usermenus[l]){var m=k.a.usermenus[l].command;m=m.replace(/\$nick/g,g);var n=k.b.Z.K[g.toLowerCase()];n&&(n.user&&(m=m.replace(/\$user/g,n.user)),n.host&&(m=m.replace(/\$host/g,n.host)));if((new td({command:m,match:k.a.usermenus[l].title})).execCommand({channel:k.channel,
h:k.A.Aa},[],function(){return function(r){k.Ba(r)}}(),function(){return function(){k.b.focus()}}(),"",0,0))return}}else if("banu"==l)(n=k.b.Z.K[g.toLowerCase()])&&n.user&&(k.A.send({cmd:"text",chan:k.channel,data:"/mode "+k.channel+" +b "+n.user+"@*"}),k.A.send({cmd:"text",chan:k.channel,data:"/kick "+g}));else if("banh"==l)(n=k.b.Z.K[g.toLowerCase()])&&n.host&&(k.A.send({cmd:"text",chan:k.channel,data:"/mode "+k.channel+" +b *@"+n.host}),k.A.send({cmd:"text",chan:k.channel,data:"/kick "+g}));else if("ignore"==
l)ud(k.b,g,!0);else if("unignore"==l)ud(k.b,g,!1);else if("getoptions"==l){m=[];for(l=0;l<k.a.usermenus.length;l++)m.push({id:"usermenu"+l,desc:k.a.usermenus[l].title});k.zd&&k.b.Z.K[g.toLowerCase()]&&(n=k.b.Z.K[g.toLowerCase()],"true"==n.mibbituser?"Mibbit"!=n.user&&"cgiirc"!=n.user?n.user&&m.push({id:"banu",desc:"Ban "+n.user+"@*"}):n.host&&m.push({id:"banh",desc:"Ban *@"+n.host}):(n.user&&m.push({id:"banu",desc:"Ban "+n.user+"@*"}),n.host&&m.push({id:"banh",desc:"Ban *@"+n.host})));vd(k.b,g)?m.push({id:"unignore",
desc:D.get("UMenu_Unignore")}):m.push({id:"ignore",desc:D.get("UMenu_Ignore")});return m}k.b.focus()}}(this);a.$a=function(k){return function(g){k.A.send({cmd:"text",chan:this.channel,data:"/join "+g})}}(this);a.T=function(k){return function(g){k.aa&&k.aa.active(g);T&&T.alert(g?D.get("AlertsMyName"):D.get("AlertsGeneral"))}}(this);a.lc=function(k){return function(g,l,m){l=new td({command:g,match:l});w&&x("processCommand",g,J);l.execCommand({channel:k.channel,h:m?m:k.A.Aa},[],function(){return function(n){k.Ba(n)}}(),
function(){return function(){k.b.focus()}}(),"",0,0)}}(this);this.Pe=a.lc;a.se=function(k){return function(g){k.ta.ic=g}}(this);a.ug=function(k){return function(g){""!=g&&R.I({cmd:"paste",channel:"PasteBin",returnchannel:k.ra,data:g})}}(this);a.tg=function(k){return function(g){""!=g&&R.I({cmd:"minify",channel:"LinkManager",returnchannel:k.ra,url:g})}}(this);a.Bg=function(k){return function(g){k.A.send({cmd:"text",chan:k.channel,data:"/mode "+k.channel+" -b "+g});k.b.focus()}}(this);this.a.ircNickClick&&
(a.gg=function(k){return function(g){g&&(0==jb(k.b.o.ia)?k.b.o.Cb(g+": "):k.b.o.Cb(g+" "),k.b.focus())}}(this));a.nf=function(k){return function(g){if(C){if(!ed){var l=ka(k.b.f,k.Jb.substring(10,k.Jb.length),k.channel);g("Link to channel",function(){ia(C,{element:l})})}k.zd&&g("Set topic",function(){C.alert("Set topic for "+k.channel,function(r){r&&r!=k.b.Z.Hc&&k.Ba("/topic "+r)},!0,k.b.Z.Hc)})}for(var m=0;m<k.a.channelmenus.length;m++){var n=k.a.channelmenus[m];g(n.title,function(r){return function(){var u=
new td({command:r.command,match:r.title});w&&x("setupoptions","Running ch menu... "+r.command,J);u.execCommand({channel:k.channel,h:k.A.Aa},[],function(){return function(v){k.Ba(v)}}(),function(){return function(){k.b.focus()}}(),"",0,0)}}(n))}}}(this);a.Mg=function(k){return function(g){R.I({cmd:"plugin",channel:k.ra,data:g})}}(this);a.cf=function(k){return function(){k.A.td("Change nickname",function(){return function(g){g&&k.A.send({cmd:"text",data:"/nick "+g})}}())}}(this);this.b=new wd(b,!this.za,
this.a,a,!0);this.b.channel=this.ra;this.b.Zb(this.A.Aa);Ab(this.b.Ia,xd,this.b.Kd);try{this.b.o.ja.maxLength=361}catch(k){}!this.za&&yd&&(this.b.Z.xd=yd,this.b.Z.zc=!0);!this.za&&this.a.noUListInChannels&&zd(this.b,!1);this.za&&(this.b.fa[this.channel.toLowerCase()]=this.channel,this.b.fa[this.b.h.toLowerCase()]=this.b.h,wb(this.b.o.ia,this.channel),wb(this.b.o.ia,this.b.h))}
function Ad(a){ed||a.za||Bd.match(">"+a.A.wg+">"+a.channel,{channel:a.channel,h:a.A.Aa},function(b){return function(c){b.Ba(c)}}(a),function(){return function(){}}(a),function(b){return function(){b.b.focus()}}(a))}p=cd.prototype;
p.Ba=function(a){if(3<this.Wb)w&&x("ChatChannel","Max recurse. Bad alias? ("+a+")"+this.Wb,y);else{this.Wb++;if(a){var b=a.toLowerCase(),c=a;if("/me "==c.toLowerCase().substring(0,4))if(this.za||ld(this.b)){var d=c.substring(4);if(d=Cd.apply(d,!1,this.Pe)){b={cmd:"emote",idd:!0,local:!0,emote:this.ta.format(d),nick:this.b.h};this.A.send({cmd:"text",chan:this.channel,data:"/me "+this.ta.format(d)});this.b.La(b);this.$b(!1);this.Wb--;return}}else{this.Wb--;return}else if("//"==c.substring(0,2)||"/"!=
c.substring(0,1)){"//"==c.substring(0,2)&&(c=c.substring(1,a.length));if((c=Cd.apply(c,!1,this.Pe))&&(this.za||ld(this.b))){b={cmd:"msg",nick:this.b.h,local:!0,idd:!0,msg:this.ta.format(c)};"/"==c.substring(0,1)&&(c="/"+c);if(this.a.parseChannels&&c.match(/^([\s]*)#([\S]+)([\s]*)$/g)){w&&x("CHANNEL","Matched regexp...",y);var e=!1;var f=window.setTimeout(function(g){return function(){g.A.send({cmd:"text",chan:g.channel,data:g.ta.format(c)});e=!0}}(this),5E3);b.channelclick=function(g){return function(l){e||
(window.clearTimeout(f),e=!0,g.b.g("error",W(g.b,"^^ "+l+" was not sent to this channel. Please use /join to join channels.",{},g.a.colorSystem,null,!1,g.b.j)));g.b.D.$a(l)}}(this)}else this.A.send({cmd:"text",chan:this.channel,data:this.ta.format(c)});this.b.La(b);this.$b(!1)}this.Wb--;return}if("/style "==b.substring(0,7))for(a=a.substring(7,a.length),d=a.split(" "),this.ta.reset(),b=0;b<d.length;b++){"bold"==d[b]&&(this.ta.bold=!0);"underline"==d[b]&&(this.ta.xe=!0);var h=parseInt(d[b]);isNaN(h)||
(null===this.ta.ic?this.ta.ic=h:this.ta.od=h)}else if("/style"==b)this.ta.reset();else if("/redraw"==b)this.b.C();else if("/mute"==b)Dd=!1,d=W(this.b,"Sounds off",{},this.a.colorSystem,null,!1,this.b.j),this.b.g("sounds",d);else if("/unmute"==b)Dd=!0,d=W(this.b,"Sounds on",{},this.a.colorSystem,null,!1,this.b.j),this.b.g("sounds",d);else if("/splay "==b.substring(0,7))Ed(a.substring(7,a.length));else if("/echo "==b.substring(0,6))this.b.La({cmd:"msg",nick:"*",local:!0,idd:!0,msg:a.substring(6,a.length)});
else if(C&&!this.za&&"/permalink"==b)d=ka(this.b.f,this.Jb.substring(10,this.Jb.length),this.channel),C&&ia(C,{element:d});else if("/umode "==b.substring(0,7))this.A.send({cmd:"text",chan:this.channel,data:"/mode "+this.b.h+" "+a.substring(7,a.length)});else if("/query "==b.substring(0,7))d=a.substring(7,a.length),h=null,b=d.indexOf(" "),-1!=b&&(h=d.substring(b+1,d.length),d=d.substring(0,b)),b={channeltype:"pm",userInitiated:!0},b.channel=this.Jb+":"+d.toLowerCase(),b.localchannel=d,kd(b.channel,
b),h&&this.A.channels[b.channel].Ba(h);else if("/minify "==b.substring(0,8))d=a.substring(8,a.length),R.I({channel:"LinkManager",cmd:"minify",url:d,returnchannel:this.ra});else if("/server "==b.substring(0,8))nd(a.substring(8,a.length));else if("/debug"==b)Fd();else if("/notify on"==b)this.b.Z.dd=!0,d=W(this.b,"Notifications on",{},this.a.colorSystem,null,!1,this.b.j),this.b.g("notify",d);else if("/notify off"==b)this.b.Z.dd=!1,d=W(this.b,"Notifications off",{},this.a.colorSystem,null,!1,this.b.j),
this.b.g("notify",d);else if("/togglemenu smilies"==b)ib(this.b.o,"smilies");else if("/togglemenu colors"==b)ib(this.b.o,"colors");else if("/togglemenu pastebin"==b)ib(this.b.o,"pastebin");else if("/togglemenu minify"==b)ib(this.b.o,"minify");else if("/togglemenu emojis"==b)ib(this.b.o,"emojis");else if("/ulshow"==b)zd(this.b,!0);else if("/ulhide"==b)zd(this.b,!1);else if("/help"==b)Gd(this.b,Fc);else if("/remove "==b.substring(0,8))rc(this.b.qa,a.substring(8,a.length)),X(this.b);else if("/clear"==
b)Hd(this.b);else if("/showurl "==b.substring(0,9))d=a.substring(9,a.length),fd(this.b,d);else if("/ignore "==b.substring(0,8))d=a.substring(8,a.length),ud(this.b,d,!0);else if("/unignore "==b.substring(0,10))d=a.substring(10,a.length),ud(this.b,d,!1);else if("/pastebin"==b)hb(this.b.o);else if("/bbon "==b.substring(0,6))h=(new Date).getTime(),d=a.substring(6,a.length),this.b.Z.Qd[d]=!0,this.b.g("bb",W(this.b,"Bridgebot on: "+d,{},this.a.colorNotice,null,!1,this.b.j,h));else if("/bboff "==b.substring(0,
7))h=(new Date).getTime(),d=a.substring(7,a.length),delete this.b.Z.Qd[d],this.b.g("bb",W(this.b,"Bridgebot off: "+d,{},this.a.colorNotice,null,!1,this.b.j,h));else if("/hints"==b){h=(new Date).getTime();var k=Id();for(b=0;b<k.length;b++)d="Hint: "+k[b],this.b.g("hints",W(this.b,d,{},this.a.colorNotice,null,!1,this.b.j,h))}else Bd.match(a,{channel:this.channel,h:this.A.Aa},function(g){return function(l){g.Ba(l)}}(this),function(g){return function(){g.A.send({cmd:"text",chan:g.channel,data:a})}}(this),
function(g){return function(){g.b.focus()}}(this)),this.$b(!1)}this.Wb--}};p.$b=function(a){if(this.A.connected&&(this.za||ld(this.b))){a!=this.vc&&R.I({cmd:"typing",channel:this.ra,typing:a});var b=this.b;b.c&&Sa(b.c,b.h,a)}this.vc=a};p.remove=function(a){this.connected=!1;this.b.close();Yc(Q,this.ra);Jd(this.A,this.ra);a?this.aa&&Qb(this.aa.id):this.aa&&Rb(M,this.aa.id)};p.hc=function(){this.b.hc()};
p.qb=function(a){if(this.connected)try{this.b.La(a);if(a.nick==this.b.h&&("usermode"==a.cmd||"join"==a.cmd)||"nicklist"==a.cmd){var b=ld(this.b);b&&(this.zd=b.mode.owner||b.mode.admin||b.mode.op)}a.nick==this.b.h&&"join"==a.cmd&&Ad(this);if("changenick"==a.cmd&&a.nick.toLowerCase()==this.channel.toLowerCase()){var c=this.Jb+":"+a.newnick.toLowerCase();M.l[c]&&Qb(c);if(this.aa){var d=this.ra;b=M;if(b.l[d]){var e=b.l[d];Wb(b,e);e.id=c;Vb(b,e)}Cb(this.aa,a.newnick.toLowerCase())}delete this.b.fa[this.channel.toLowerCase()];
Yc(Q,this.ra);this.channel=a.newnick.toLowerCase();this.ra=c;this.b.channel=this.ra;Xc(this.ra,this);this.b.fa[this.channel.toLowerCase()]=this.channel}if(this.a.showChannelTabUsers&&this.b.c){var f=this.b.c.size();Cb(this.aa,this.channel+" ("+f+")")}}catch(h){w&&x("recv",h+"( "+a+" )",y)}};
p.Tc=function(a){w&&x("ChatChannel","prefsUpdated: "+a,J);a&&"CGMlayout"==a?(this.b.N(),X(this.b)):(Kd(this.b),this.b.C(),X(this.b),this.b.s.style.background=this.za?this.a.tabColorPM:this.a.tabColorChannel,this.b.c&&Cb(this.aa,this.channel+(this.a.showChannelTabUsers?" ("+this.b.c.size()+")":"")))};var xd="Check out the wiki to learn more about Mibbit: https://wiki.mibbit.com";
function bd(a,b,c){var d=F;this.Jb=this.channel=b;this.Aa="unknown";this.zd=!1;this.connected=!0;this.ad=1;this.a=d;this.j=new fc(function(e){return function(f){e.send({cmd:"text",chan:e.channel,data:"/join "+f})}}(this),new Zb(new jc(new P),this.a),this.a);this.ge=c;this.channels={};b={};b.Dd=function(e){return function(){try{if(!e.connected)return!1;e.Ba(e.b.o.ja.value)}catch(f){w&&x("IRCServerTab","onsubmit "+f,y)}return!1}}(this);b.$a=function(e){return function(f){e.send({cmd:"text",chan:this.channel,
data:"/join "+f})}}(this);b.T=function(e){return function(){e.aa&&e.aa.active(!1);T&&T.alert("Server stuff !")}}(this);b.cf=function(e){return function(){e.td("Change nickname",function(){return function(f){f&&e.send({cmd:"text",data:"/nick "+f})}}())}}(this);a&&(a.style.background=this.a.tabColorServer,this.b=new wd(a,!1,this.a,b,!1),Ab(this.b.Ia,xd,this.b.Kd))}p=bd.prototype;
p.Ba=function(a){if(a){var b=a.toLowerCase();if("/query "==b.substring(0,7)){var c=a.substring(7,a.length);b=null;var d=c.indexOf(" ");-1!=d&&(b=c.substring(d+1,c.length),c=c.substring(0,d));d={channeltype:"pm",userInitiated:!0};d.channel=this.Jb+":"+c.toLowerCase();d.localchannel=c;kd(d.channel,d);b&&(c=this.channels[d.channel])&&c.Ba(b)}else"/debug"==b?Fd():"/help"==b?Gd(this.b,Fc):"/clear"==b?Hd(this.b):"/redraw"==b?this.b.C():"/mute"==b?(Dd=!1,b=W(this.b,"Sounds off",{},this.a.colorSystem,null,
!1,this.b.j),this.b.g("sounds",b)):"/unmute"==b?(Dd=!0,b=W(this.b,"Sounds on",{},this.a.colorSystem,null,!1,this.b.j),this.b.g("sounds",b)):"/splay "==b.substring(0,7)?Ed(a.substring(7,a.length)):"/echo "==b.substring(0,6)?this.b.La({cmd:"msg",nick:"*",local:!0,idd:!0,msg:a.substring(6,a.length)}):"/umode "==b.substring(0,7)?this.A.send({cmd:"text",chan:this.channel,data:"/mode "+this.b.h+" "+a.substring(7,a.length)}):"/server "==b.substring(0,8)?nd(a.substring(8,a.length)):"/showurl "==b.substring(0,
9)?fd(this.b,a.substring(9,a.length)):Bd.match(a,{channel:"",h:this.Aa},function(e){return function(f){e.Ba(f)}}(this),function(e){return function(){e.send({cmd:"text",chan:e.channel,data:a})}}(this))}};p.close=function(){};p.send=function(a){a.channel=this.channel;R.I(a)};
p.qb=function(a){this.connected=!0;try{var b=!1;"whoisreply"==a.cmd&&(a.user?b=Ld(this,a):(b=!0,this.b.La({cmd:"log",nick:"",message:a.nick+" is away ("+a.away+")"})));if("channellist"==a.cmd||"whowas"==a.cmd||"who"==a.cmd||"invite"==a.cmd)b=Ld(this,a);"whoisreply"==a.cmd&&Md(this,{cmd:"userdetails",nick:a.nick,user:a.user,host:a.host});"notice"!=a.cmd&&"ctcp"!=a.cmd||!this.a.noticesToActiveTab||(b=Ld(this,a));"error"==a.cmd&&this.a.errorsToActiveTab&&(b=Ld(this,a));if("infobar"==a.cmd||"away"==a.cmd||
"part"==a.cmd||"changenick"==a.cmd||"init"==a.cmd)"infobar"==a.cmd&&this.b.La(a),Md(this,a),b=!0;"nickprompt"==a.cmd&&this.td(a.reason,function(c){return function(d){d&&c.send({cmd:"text",data:"/nick "+d})}}(this));"changenick"==a.cmd?a.nick==this.Aa&&(this.Aa=a.newnick,this.b.Zb(this.Aa)):"init"==a.cmd?(this.Aa=a.nick,this.b.Zb(this.Aa)):"closedchannel"==a.cmd&&(w&&x("closedchannel","cc cmd for : "+a.chan,J),this.ge.Gf(a.chan));b||this.b.La(a)}catch(c){w&&x(this.channel+" (recv)",c+" ("+a+")",y)}};
function Ld(a,b){for(var c in a.channels)if(a.channels.hasOwnProperty(c)&&a.channels[c].aa.wa)return a.channels[c].qb(b),!0;return!1}function id(a,b,c,d){a.Qf||Nd(a.b,b,new Hc(c,a.b.ze),d);for(var e in a.channels)a.channels.hasOwnProperty(e)&&Nd(a.channels[e].b,b,new Hc(c,a.b.ze),d)}function Md(a,b){for(var c in a.channels)a.channels.hasOwnProperty(c)&&a.channels[c].qb(b)}function Jd(a,b){w&&x(a.channel,"Removing channel: "+b,J);delete a.channels[b];delete a.ge.channels[b]}
p.hc=function(){this.connected=!1;this.b.hc();for(var a in this.channels)this.channels.hasOwnProperty(a)&&this.channels[a].hc()};
p.closed=function(a){this.connected=!1;Yc(Q,this.channel);this.b.g(W(this.b,"- - - - Disconnected - - - -",{},"red",null,!1,this.j,(new Date).getTime()));this.b.close();a?this.aa&&Qb(this.channel):this.aa&&Rb(M,this.aa.id);for(var b in this.channels)this.channels.hasOwnProperty(b)&&this.channels[b].remove(!1);for(b in this.channels)this.channels.hasOwnProperty(b)&&Jd(this,b)};p.Tc=function(){Kd(this.b);this.b.C();this.b.s.style.background=this.a.tabColorServer};
p.td=function(a,b){a=window.prompt("Please choose a new nickname ("+a+")");b(a)};function Od(){this.Cc=[]}Od.prototype.clear=function(){this.Cc=[]};Od.prototype.load=function(a){this.Cc=[];for(var b=0;b<a.length;b++)this.Cc.push(new td(a[b]))};Od.prototype.match=function(a,b,c,d,e){try{for(var f=0;f<this.Cc.length;f++)if(this.Cc[f].exec(a,b,c,e))return}catch(h){w&&x("aliases","Issue running match "+h,J)}d&&d()};Od.prototype.S=function(a,b){b&&b("")};
function td(a){this.kd=a.match;this.Ne=a.command.split(/\s\|\s/)}function Pd(a,b,c){return""==a?c:a+(b?" ":"")+c}
td.prototype.execCommand=function(a,b,c,d,e,f,h){for(var k=f;k<this.Ne.length;k++){f=this.Ne[k].split(/\s/);var g=e,l=!0;e="";for(var m=h;m<f.length;m++){var n=f[m];if(0!=m||"/say"!=n.toLowerCase())if(n.match(/^#?\$?\$\d+$/)){h=n.match(/^#?\$?\$(\d+)$/)[1];if(h>b.length||1>h){if(n.match(/^#?\$\$/)){g="";break}return!1}g=Pd(g,l,("#"==n.substring(0,1)?"#":"")+b[h-1]);l=!0}else if(n.match(/^\$\d+\-\d+$/)){n=n.match(/^\$(\d+)\-(\d+)$/);h=n[1];n=n[2];if(h>b.length||n>b.length||n<h||1>h||1>n)return!1;for(;h<=
n;h++)g=Pd(g,l,b[h-1]),l=!0}else if(n.match(/^\$\d+\-$/)){h=n.match(/^\$(\d+)\-$/)[1];if(h>b.length||1>h)return!1;for(;h<=b.length;h++)g=Pd(g,l,b[h-1]),l=!0}else if("#"==n)g=Pd(g,l,a.channel),l=!0;else if(n.match(/^\$me([\.,!\?]?)/i))h=n.match(/^\$me([\.,!\?]?)/i),g=Pd(g,l,a.h+h[1]),l=!0;else{if("$?"==n)return Od.prototype.S(this.kd,function(r){return function(u){g=Pd(g,l,u);r.execCommand(a,b,c,d,g,k,m+1)}}(this)),!0;if("$+"==n)l=!1;else{if("\\u"==n.substring(0,2)||"\\x"==n.substring(0,2))try{g=Pd(g,
l,String.fromCharCode(parseInt(n.substring(2,n.length),16)))}catch(r){}else g=Pd(g,l,n);l=!0}}}""!=g&&c(g);h=0}d&&d();return!1};td.prototype.exec=function(a,b,c,d){var e=a.split(/\s/);return this.kd&&0<e.length&&(e[0].toLowerCase()==this.kd.toLowerCase()||a.toLowerCase()==this.kd.toLowerCase())?(e.shift(),this.execCommand(b,e,c,d,"",0,0),!0):!1};
function Qd(){var a=window;this.a=F;this.window=a;this.jd=this.ud=!1;this.ce=0;this.Ie=this.Ve="Mibbit";this.Vb=function(b){window!=window.parent&&window.parent.postMessage&&window.parent.postMessage(q(b),"*")};this.alert=function(b){if(0==this.a.windowAlertMaxFlashes||this.jd||this.ud)return!1;this.window.document.title="* "+b+" *";this.jd=!0;this.ce=0;var c=!0,d=this.window.setInterval(function(e){return function(){e.ud?(e.window.document.title=e.Ve,e.jd=!1,e.window.clearInterval(d)):e.ce>e.a.windowAlertMaxFlashes?
(e.window.document.title="[ "+b+" ]",e.jd=!1,e.window.clearInterval(d)):(e.ce++,c?e.window.document.title=e.Ie:e.window.document.title="* "+b+" *",c=!c)}}(this),this.a.windowAlertPeriod);return!0};this.Dc=function(b){var c=function(e){return function(){e.ud=!0;e.window.document.title=e.Ve;return!0}}(this),d=function(e){return function(){e.ud=!1;e.window.document.title=e.Ie;return!0}}(this);b.addEventListener?(b.addEventListener("focus",c,!1),b.addEventListener("blur",d,!1)):(b.attachEvent("onfocus",
c),b.attachEvent("onblur",d))}}
function Rd(){this.hasFocus=!0;this.Pb=null;this.Bd={};this.Gb=[];this.Fb={};this.ig=function(a,b){this.hasFocus||this.Bd[a]||(this.Bd[a]=b,this.Gb.push(b),this.update())};this.ff=function(a,b){this.hasFocus||(this.Fb[a]?this.Fb[a].n++:this.Fb[a]={n:1,from:b},this.update())};this.update=function(){null!=this.Pb&&this.Pb.cancel();var a="";if(0<this.Gb.length&&(a+=this.Gb.length+" New PM"+(1==this.Gb.length?"":"s"),4>this.Gb.length)){a+=" (";for(var b=0;b<this.Gb.length;b++)0<b&&(a+=", "),a+=this.Gb[b];
a+=")"}var c="";for(b in this.Fb)this.Fb.hasOwnProperty(b)&&!this.Bd[b]&&(""!=c&&(c+=", "),c+=this.Fb[b].from+"("+this.Fb[b].n+")");""!=c&&(""!=a&&(a+=", "),a+="New chat from "+c);window.webkitNotifications&&F.desktopNotifications&&(0==window.webkitNotifications.checkPermission()?(this.Pb=window.webkitNotifications.createNotification("http://mibbit.com/icon.png","Mibbit",a),this.Pb.show()):w&&x("Notifications","NO PERMISSION TO DISPLAY NOTIFICATIONS"))};this.reset=function(){null!=this.Pb&&this.Pb.cancel();
this.Pb=null;this.Bd={};this.Gb=[];this.Fb={}};this.Dc=function(a,b,c){a.addEventListener?(a.addEventListener("focus",b,!1),a.addEventListener("blur",c,!1)):(a.attachEvent("onfocus",b),a.attachEvent("onblur",c))};this.Dc(window,function(a){return function(){a.hasFocus=!0;a.reset();w&&x("Notifications","onfocus")}}(this),function(a){return function(){a.hasFocus=!1;w&&x("Notifications","onblur")}}(this))}function sd(){this.xe=this.bold=!1;this.od=this.ic=null}
sd.prototype.reset=function(){this.xe=this.bold=!1;this.od=this.ic=null};sd.prototype.format=function(a){var b="";this.bold&&(b+="\u0002");this.xe&&(b+="\u001f");var c="";null!=this.ic&&(c+=this.ic);null!=this.od&&(c+=","+this.od);""!=c&&(b+="\u0003"+c);c=b.substring(b.length-1,b.length);var d=a.substring(0,1);"0"<=c&&"9">=c&&"0"<=d&&"9">=d&&(b+=" ");return b+a};
function wd(a,b,c,d,e,f){try{this.kf=f;this.Ad=this.le=this.me=this.mg=!1;this.s=a;this.a=c;this.f=a.ownerDocument;this.D=d;this.da=this.a.extraContentWidth;this.Z=new Sd(this);this.h="unknown";this.fa={};this.ad=0;this.Jc=!0;this.He=e;Kd(this);this.uc=new P;this.lb=new jc(new P);this.lb=new Zb(this.lb,this.a);ed||(this.lb=new fc(d.$a,this.lb,this.a));this.lb=new hc(this.lb);c={Ig:function(h){h=h.substring(6,h.length);var k="",g=h.indexOf("/");-1!=g&&(k=h.substring(g+1,h.length),h=h.substring(0,g),
-1=="#&+".indexOf(k.substring(0,1))&&(k="#"+k));try{g="mib_"+Td;V&&(g=V);var l="",m="",n=F.defaultCharset;if(Ud){var r=Ud.Xf;if(r)for(var u=0;u<r.length;u++)if(r[u].yf==h){g=r[u].h;l=r[u].ng;m=r[u].Af;n=r[u].charset;break}}jd(h,g,l,k,m,n)}catch(v){}}};this.ze=new fc(d.$a,new Zb(new P,this.a,c),this.a);this.Cf=new fc(d.$a,new Zb(new jc(new P)),this.a);e={};t(this.a,e);e.Lg=!1;this.Kd=new hc(new fc(d.$a,new Zb(new jc(new P),e,c),this.a));t({border:"0",fontSize:"13px",position:"absolute",textAlign:"left",
overflow:"hidden"},a.style);this.ib={left:0,right:0,top:Xb,bottom:Yb};!O&&this.a.useTabList&&(this.ib.left=this.a.tabListWidth);t({top:this.ib.top+"px",bottom:this.ib.bottom+"px",left:this.ib.left+"px",right:this.ib.right+"px"},a.style);this.X=Vd(this);t({display:"block",overflow:"auto",overflowX:"hidden"},this.X.style);uc&&(this.X.style.marginRight="15px");a.appendChild(this.X);this.Bb=this.f.createElement("div");t({padding:"0",margin:"0",position:"absolute",top:"0px",left:"0px",right:"0px",overflow:"hidden"},
this.Bb.style);this.Ia=new yb(this.Bb,this.a);a.appendChild(this.Bb);b&&(this.sa=!0,this.ba=this.f.createElement("div"),t({position:"absolute",right:"0px",overflow:"auto",overflowX:"hidden",textAlign:"left"},this.ba.style),a.appendChild(this.ba),this.c=new xa(this.ba,d.Cg,this.a));this.la=this.f.createElement("div");t({position:"absolute",overflow:"hidden",bottom:"0px",left:"0px",right:"0px"},this.la.style);d.cg=function(h){return function(k){h.D.tg(k)}}(this);d.Fd=function(h){return function(){h.Fd(!0)}}(this);
d.Vf=function(h){return function(){h.Fd(!1)}}(this);d.vg=function(h){return function(){h.D.ug(h.Rc.value())}}(this);b&&(d.af=function(h){return function(){Wd(h,!h.va)}}(this),this.ea=this.f.createElement("div"),t({position:"absolute",right:"0px",overflow:"auto",overflowX:"hidden",textAlign:"left"},this.ea.style),this.ea.style.display="none",this.va=!1,a.appendChild(this.ea));d.Of=function(h){return function(k,g){var l=h.c.c[k],m=h.c.c[g];return"idle"==h.a.chatInputTabSort&&l&&m?l.Ha>m.Ha?-1:l.Ha<
m.Ha?1:0:k<g?-1:k>g?1:0}}(this);this.sd=this.f.createElement("form");this.sd.style.display="inline";this.sd.setAttribute("accept-charset","UTF-8");this.sd.onsubmit=d.Dd;this.o=new ab(this.la,this.a,this.sd,d,this.a.showInputOptions&&this.He);a.appendChild(this.la);this.nb=Vd(this);this.Rc=new Dc(this.nb);a.appendChild(this.nb);this.bb=Vd(this);this.bb.style.background="white";this.Ea=new wc(this.bb,this.a);a.appendChild(this.bb);this.sb=this.f.createElement("div");t({padding:"0",position:"absolute",
right:"0px",bottom:"0px",cursor:"pointer",textAlign:"center",fontSize:"13px",verticalAlign:"middle"},this.sb.style);this.sb.onclick=function(h){return function(){d.Dd();ub(h.o.ia);h.focus()}}(this);this.sb.appendChild(document.createTextNode(D.get("SendButton")));a.appendChild(this.sb);O&&(this.onresize=function(h){return function(){Xd(h)}}(this),window.attachEvent?window.attachEvent("onresize",this.onresize):window.addEventListener("resize",this.onresize,!1),window.setTimeout(function(h){return function(){h.N();
Xd(h)}}(this),100));this.qa=new oc(this.X,this.a,function(h){return function(){h.focus()}}(this));for(a=0;45>a;a++)qc(this.qa,this.ad++,W(this));this.C();X(this);T&&T.Dc(this.o.ja)}catch(h){w&&x("ChatGuiModule",h,y)}}p=wd.prototype;
p.C=function(){if(this.Jc){this.me=!1;this.c&&this.c.C();this.qa.C();this.o.vd=this.a.showInputOptions&&this.He;this.o.C();this.Ia.C();t({background:this.a.sendButtonBackground,border:"1px solid "+this.a.sendButtonBorder,color:this.a.sendButtonColor,fontFamily:this.a.chatInputFontFamily,fontSize:this.a.chatInputFontSize+"px",padding:this.a.chatInputPadding+"px",borderRadius:this.a.chatInputRounding+"px",MozBorderRadius:this.a.chatInputRounding+"px",WebkitBorderRadius:this.a.chatInputRounding+"px"},
this.sb.style);var a={background:this.a.chatPaneBackground,border:"1px solid "+this.a.chatPaneBorder};a.borderRadius=this.a.chatPaneRounding+"px";a.MozBorderRadius=this.a.chatPaneRounding+"px";a.WebkitBorderRadius=this.a.chatPaneRounding+"px";a.padding=this.a.chatPaneRounding+"px";t(a,this.X.style);t(a,this.bb.style);t(a,this.nb.style);this.N()}else this.me=!0};
function Vd(a){a=a.f.createElement("div");t({position:"absolute",overflow:"hidden",display:"none",left:"0px",right:"0px"},a.style);return a}function Yd(a,b){a.Ra=b;a.a.hideULonEC&&zd(a,!b);a.N();X(a)}p.Fd=function(a){this.Rc.show(a);this.N();X(this)};function zd(a,b){a.Rc.tb()||(b&&a.va&&Wd(a,!1),a.c&&(a.sa=b,a.Cd=b,a.N(),X(a)))}
function Wd(a,b){if(!a.Rc.tb()){b&&a.sa&&(a.Cd=!0,a.sa=!1);b||a.sa||!a.Cd||(a.sa=!0);a.va=b;if(a.va){for(var c=function(e,f,h){var k=e.ownerDocument.createElement("div");t({border:"1px solid #888",background:"#ccc",padding:"3px",margin:"2px",fontFamily:"sans-serif",cursor:"pointer",fontSize:"13px",borderRadius:"3px",MozBorderRadius:"3px",WebkitBorderRadius:"3px"},k.style);k.appendChild(e.ownerDocument.createTextNode(f));k.onmouseover=function(){t({border:"1px solid #ccc",background:"#eee"},this.style)};
k.onmouseout=function(){t({border:"1px solid #888",background:"#ccc"},this.style)};k.onclick=function(){d();h&&h()};e.appendChild(k)};a.ea.firstChild;)a.ea.removeChild(a.ea.firstChild);var d=function(e){return function(){Wd(e,!1)}}(a);c(a.ea,a.Cd?"Hide userlist":"Show userlist",function(e){return function(){zd(e,!e.Cd)}}(a));c(a.ea,a.a.needSendButton?"Hide send button":"Show send button",function(e){return function(){e.a.needSendButton=!e.a.needSendButton;Zd(e.a)}}(a));a.D.nf&&a.D.nf(function(e){return function(f,
h){c(e,f,h)}}(a.ea),a.ea)}a.N();X(a);a.focus()}}function X(a){a.X.scrollTop=a.X.scrollHeight}function $d(a){return a.X.scrollTop+a.X.clientHeight>=a.X.scrollHeight-a.a.chatFontSize}p.focus=function(){try{this.o.ja.focus()}catch(a){}};p.fd=function(){this.hd||(this.hd=!0,this.qa.fd("--MARKER--"))};function ld(a){return a.c?a.c.c[a.h]:null}function Hd(a){a.qa.clear();for(var b=0;40>b;b++)qc(a.qa,a.ad++,W(a));X(a)}
p.g=function(a,b,c){var d=$d(this);c||this.Jc||!this.a.showMarkers||this.hd||this.fd();qc(this.qa,a+" "+this.ad++,b,c);!c&&d&&X(this)};function Gd(a,b){Nd(a,a.ad++,b)}function Nd(a,b,c,d){var e=$d(a);pc(a.qa,b,c,d);e&&X(a)}p.Ec=function(){this.c?(this.fa={},this.o.ia.Qb={},this.Z.Ec(),this.c.clear(),Kd(this)):(delete this.fa[this.h.toLowerCase()],xb(this.o.ia,this.h))};
p.close=function(){this.c&&window.clearInterval(this.c.Ag);this.onresize&&(window.detachEvent?window.detachEvent("onresize",this.onresize):window.removeEventListener("resize",this.onresize,!1))};function vd(a,b){return"undefined"!=typeof a.Z.Ab[b]}function ud(a,b,c){var d=null;a.c&&(d=a.c.c[b]);c?(a.Z.Ab[b]=!0,d&&(d.hf=d.icon,Va(d,{name:"ignored",title:"Ignored"}))):(delete a.Z.Ab[b],d&&d.hf&&Va(d,d.hf))}
p.yb=function(a){(this.Jc=a)&&this.me&&this.C();a&&this.le&&this.N();a?(this.o.N()||this.Ia.N())&&this.N():this.hd&&(this.hd=!1,rc(this.qa,"--MARKER--"));try{a?(X(this),window.setTimeout(function(b){return function(){b.focus()}}(this),200)):window.focus()}catch(b){w&&x("activecb",b,y)}};
p.N=function(){if(this.Jc){this.le=!1;try{this.o.N();this.Ia.N();var a=!0;O&&(a=!1);var b=this.o.Ua()+2+2*this.a.cgmMargins,c=this.Ia.Ua(),d=this.a.cgmMargins+c,e=this.a.cgmMargins+2+this.a.userListWidth;a&&(this.Da||(this.Da=this.f.createElement("div"),this.Da.onmousedown=function(g){return function(l){l||(l=window.event);g.Ad=!0;g.Mf=l.clientX;g.Nf=g.a.userListWidth;g.Ra&&xc(g.Ea,!0);document.onmousemove=function(){return function(m){m||(m=window.event);g.a.userListWidth=g.Nf+(g.Mf-m.clientX);0>
g.a.userListWidth&&(g.a.userListWidth=0);m=document.body.clientWidth-2-2-3*g.a.cgmMargins;g.Ra&&(m-=g.da+2+g.a.cgmMargins);!O&&g.a.useTabList&&(m-=g.a.tabListWidth);g.a.userListWidth>m&&(g.a.userListWidth=m);g.N();return!1}}();document.onmouseup=function(){g.Ad=!1;document.onmousemove=null;document.onmouseup=null;xc(g.Ea,!1);g.N();X(g);g.focus();Zd(g.a,"CGMlayout")};return!1}}(this),this.s.appendChild(this.Da),t({position:"absolute",cursor:"move"},this.Da.style),this.Da.onmouseover=function(){this.style.background=
"#888"},this.Da.onmouseout=function(){this.style.background="transparent"}),this.Da.style.width=this.a.cgmMargins+"px",this.Da.style.top=d+this.a.cgmMargins+"px",this.Da.style.bottom=b+"px",this.Da.style.right=(this.Ra&&"right"==this.a.extraContentPosition?e+this.da+2+this.a.cgmMargins:e)+"px",this.Da.style.display=this.sa||this.va?"block":"none");t({padding:"0",margin:"0",position:"absolute",top:"0px",left:"0px",height:c+"px",right:"0px",overflow:"hidden"},this.Bb.style);ae(this,this.Bb,1,0,1);var f=
this.a.cgmMargins;!O&&this.a.useTabList&&(f+=this.a.tabListWidth);this.kf&&this.kf.hg||ra(f,this.a.cgmMargins+Xb);t({position:"absolute",overflow:"hidden",bottom:"0px",left:"0px",height:this.o.Ua()+"px",right:(this.a.needSendButton?e:0)+"px"},this.la.style);ae(this,this.la,0,1,1);this.sb.style.display=this.a.needSendButton?"block":"none";this.sb.style.height=this.o.Ua()-2*this.a.chatInputPadding+"px";this.sb.style.width=this.a.userListWidth-2*this.a.chatInputPadding+"px";ae(this,this.sb,0,1,0);if(this.Rc.tb())this.nb.style.top=
d+"px",this.nb.style.bottom=b+"px",ae(this,this.nb,1,0,1),this.X.style.display="none",this.sa&&(this.ba.style.display="none"),this.va&&(this.ea.style.display="none"),this.Ra&&(this.bb.style.display="none");else{var h=document.body.clientWidth-2-2-3*this.a.cgmMargins;if(this.sa||this.va)h-=this.a.userListWidth+this.a.cgmMargins+2;!O&&this.a.useTabList&&(h-=this.a.tabListWidth);this.da>h&&(this.da=h);uc&&(this.X.style.marginRight="15px");t({display:"block",top:d+"px",bottom:b+"px"},this.X.style);this.X.style.left=
(this.Ra&&"left"==this.a.extraContentPosition?this.da+2+this.a.cgmMargins:"0")+"px";this.X.style.right=(this.sa||this.va?e:0)+(this.Ra&&"left"!=this.a.extraContentPosition?this.da+2+this.a.cgmMargins:0)+"px";ae(this,this.X,1,0,1);this.ba&&ae(this,this.ba,1,0,0);this.ea&&ae(this,this.ea,1,0,0);this.sa?(t({position:"absolute",right:(this.Ra&&"right"==this.a.extraContentPosition?this.da+2+this.a.cgmMargins:"0")+"px",overflow:"auto",display:"block",top:d+"px",bottom:b+"px",width:this.a.userListWidth-
2*this.a.ulistPaneRounding+"px",overflowX:"hidden",textAlign:"left"},this.ba.style),this.ea&&(this.ea.style.display="none")):this.va?(t({position:"absolute",right:(this.Ra&&"right"==this.a.extraContentPosition?this.da+2+this.a.cgmMargins:"0")+"px",overflow:"auto",display:"block",top:d+"px",bottom:b+"px",width:this.a.userListWidth-2*this.a.ulistPaneRounding+"px",padding:this.a.ulistPaneRounding+"px",overflowX:"hidden",textAlign:"left"},this.ea.style),this.ba&&(this.ba.style.display="none")):(this.ba&&
(this.ba.style.display="none"),this.ea&&(this.ea.style.display="none"));if(this.Ra){if(t({display:"block",top:d+"px",bottom:b+"px",width:this.da+"px",left:"left"==this.a.extraContentPosition?"0px":"auto",right:"left"==this.a.extraContentPosition?"auto":((this.sa||this.va)&&"right"!=this.a.extraContentPosition?e:0)+"px"},this.bb.style),ae(this,this.bb,1,0,1),a){this.na||(this.na=this.f.createElement("div"),this.na.onmousedown=function(g){return function(l){l||(l=window.event);g.Ad=!0;g.Qe=l.clientX;
g.Re=g.da;g.Ra&&xc(g.Ea,!0);document.onmousemove=function(){return function(m){m||(m=window.event);"left"==g.a.extraContentPosition?g.da=g.Re-(g.Qe-m.clientX):g.da=g.Re+(g.Qe-m.clientX);0>g.da&&(g.da=0);m=document.body.clientWidth-2-2-3*g.a.cgmMargins;if(g.sa||g.va)m-=g.a.userListWidth+g.a.cgmMargins+2;!O&&g.a.useTabList&&(m-=g.a.tabListWidth);g.da>m&&(g.da=m);g.N();return!1}}();document.onmouseup=function(){g.Ad=!1;document.onmousemove=null;document.onmouseup=null;xc(g.Ea,!1);g.N();X(g);g.focus()};
return!1}}(this),this.s.appendChild(this.na),t({position:"absolute",cursor:"move"},this.na.style),this.na.onmouseover=function(){this.style.background="#888"},this.na.onmouseout=function(){this.style.background="transparent"});if("left"==this.a.extraContentPosition)this.na.style.right="auto",this.na.style.left=this.da+2+this.a.cgmMargins+"px";else if("middle"==this.a.extraContentPosition){var k=this.sa||this.va?this.a.userListWidth+this.a.cgmMargins+2:0;k+=this.da+2+this.a.cgmMargins;this.na.style.left=
"auto";this.na.style.right=k+"px"}else this.na.style.left="auto",this.na.style.right=this.da+2+this.a.cgmMargins+"px";t({width:this.a.cgmMargins+"px",top:d+this.a.cgmMargins+"px",bottom:b+"px",display:"block"},this.na.style)}}else this.na&&(this.na.style.display="none"),this.bb.style.display="none"}O&&Xd(this)}catch(g){w&&x("ChatGuiModule.layout",g,y)}}else this.le=!0};
function Xd(a){var b=document.body.clientHeight-a.ib.top-a.ib.bottom,c=document.body.clientWidth-a.ib.left-a.ib.right;a.s.style.height=b+"px";a.s.style.width=c+"px";var d=b-(a.o.Ua()+2+a.Ia.Ua()+4*F.cgmMargins+4);c=c-2-2*F.cgmMargins;w&&x("size","height="+b+" "+d,J);a.X.style.height=d-2*a.a.chatPaneRounding+"px";a.sa&&(a.ba.style.height=d-2*a.a.ulistPaneRounding+"px");a.va&&(a.ea.style.height=d-2*a.a.ulistPaneRounding+"px");a.bb.style.height=d+"px";a.nb&&(a.nb.style.height=d-2*a.a.chatPaneRounding+
"px",a.nb.style.width=c-2*a.a.chatPaneRounding+"px");b=parseInt(a.X.style.left);d=parseInt(a.X.style.right);a.X.style.width=c-2*a.a.chatPaneRounding-b-d+"px";b=parseInt(a.la.style.left);d=parseInt(a.la.style.right);a.la.style.width=c-b-d+"px";b=parseInt(a.Bb.style.left);d=parseInt(a.Bb.style.right);a.Bb.style.width=c-b-d+"px"}function ae(a,b,c,d,e){a=a.a.cgmMargins+"px";c&&(b.style.marginTop=a);b.style.marginRight=a;d&&(b.style.marginBottom=a);e&&(b.style.marginLeft=a)}
p.hc=function(){try{this.g("system",W(this,"You have disconnected from the server",{},"red","system",!1,this.uc,(new Date).getTime())),this.Ec()}catch(a){w&&x("disconnected","disconnected error... "+a,y)}};var be=[{og:"parseGoogleViewer",Lb:"gview",Yd:"gview",match:/.*\.(pdf|ppt|doc|xls|xlsx|pptx|pages|ai|psd|dxf|svg|eps|ps|ttf|xps)/i,ie:"View next to chat",be:!1}];
function ce(a,b){for(var c=0;c<be.length;c++){var d=be[c],e=b.match(d.match);if(e)return{Ye:d.Ye,Xe:d.Xe,icon:d.icon,Lb:d.Lb,Yd:d.Yd,be:d.be,match:e,enabled:a.a&&a.a[d.og],ie:d.ie}}return!1}function fd(a,b,c){var d=ce(a,b);d?(Yd(a,!0),"youtube"==d.Lb&&Bc(a.Ea,d.match[1],b,function(e){return function(){Yd(e,!1)}}(a))):(Yd(a,!0),d=function(e){return function(){Yd(e,!1)}}(a),c&&(d=function(){}),zc(a.Ea,b,d,c))}
function Kd(a){a.j=de(a,a.D);a.a.parseSimple&&(a.Uc=new hc(a.Uc));a.a.parseSmilies&&(a.Uc=new dc(a.Uc,a.a));a.a.parseLinks&&(a.Uc=new Zb(a.Uc,a.a,ee(a)));w&&x("createRenderer","Created a new renderer",J)}
function ee(a){var b={};b.youtube=function(c){return function(d,e){d[1]&&(Yd(c,!0),Bc(c.Ea,d[1],e,function(){Yd(c,!1)}))}}(a);b.web=function(c){return function(d){Yd(c,!0);zc(c.Ea,d,function(){Yd(c,!1)})}}(a);b.gview=function(c){return function(d){Yd(c,!0);Ac(c.Ea,d,function(){Yd(c,!1)})}}(a);b.showImage=function(c){return function(d){Yd(c,!0);Cc(c.Ea,d,function(){Yd(c,!1)})}}(a);b.mediaCheck=function(c){return function(d){d=ce(c,d);return d.enabled?d:!1}}(a);b.ircLink=function(c){c=c.substring(6,
c.length);var d="",e=c.indexOf("/");-1!=e&&(d=c.substring(e+1,c.length),c=c.substring(0,e),-1=="#&+".indexOf(d.substring(0,1))&&(d="#"+d));try{var f=od();V&&(f=V);var h=e="",k=F.defaultCharset;if(Ud){var g=Ud.Xf;if(g)for(var l=0;l<g.length;l++)if(g[l].yf==c){f=g[l].h;e=g[l].ng;h=g[l].Af;k=g[l].charset;break}}jd(c,f,e,d,h,k)}catch(m){}};return b}
function de(a,b){var c=new P;a.mg&&(c=new kc(c));a.a.parseSimple&&(c=new hc(c));a.a.parseNicks&&(c=new ec(a.fa,c,function(d){return function(e,f){fe(d,e,f)}}(a)));a.a.parseColor&&(c=new jc(c));a.a.parseSmilies&&(c=new dc(c,a.a));a.a.parseChannels&&b.$a&&(c=new fc(b.$a,c,a.a));a.a.parseTex&&(c=new lc(c,function(d){return function(){X(d)}}(a)));a.a.parseLinks&&(c=new Zb(c,a.a,ee(a)));a.a.parseEmbeds&&(c=new bc(c));return c}
function fe(a,b,c){try{var d=b==a.h.toLowerCase();c.style.color=d?a.a.nickHighlightMe:a.a.nickHighlight;c.style.fontWeight=d?"bold":"normal";if(a.a.chatBackgroundHighlight){var e=a.qa,f=a.a;c.onmouseover=function(){return function(){b&&sc(e,b.toLowerCase(),{background:f.chatBackgroundHighlight})}}();c.onmouseout=function(){return function(){b&&sc(e,b.toLowerCase(),{background:f.chatBackground})}}()}}catch(h){}}
function W(a,b,c,d,e,f,h,k,g,l,m){d||(d=a.a.colorChat);var n=a.a,r=a.D.gg,u=a.qa,v=m?m:f?a.a.nickColorMe:l?a.a.nickColorGuest:g?a.a.nickColorNotice:a.a.nickColor;return{rb:function(z){vc(u,z,n,e,v,r,d,h,b,c)},nc:function(z){u.nc(z,n,e,v,r)},renderTime:function(z){u.renderTime(z,n,k)}}}wd.prototype.La=function(a){this.Z.La(a)};var Jb=94,Xb=120,Yb=0,O=!1;wd.prototype.qe=function(a){this.Ea.qe(a)};wd.prototype.Zb=function(a){this.h=a;this.o.Zb(a)};
function Sd(a){this.b=a;this.a=a.a;this.Ge=this.Fe=!0;this.zc=!1;this.dd=!0;this.K={};this.Ab={};this.Qd=[];this.Hc=""}Sd.prototype.Ec=function(){this.K={};this.Ab={}};
Sd.prototype.La=function(a){try{var b=(new Date).getTime(),c=a.channel;if(c){var d=c.indexOf(":",10);c=c.substring(d+1,c.length)}if("whoisreply"==a.cmd)Gd(this.b,new Gc(a,this.a,this.b.ze));else if("motd"==a.cmd&&this.a.showMOTD){var e=W(this.b,a.motd,{},"#888",null,!1,this.b.j,b);e.rb=function(H){var I=H.a;return function(S){t({overflow:"hidden",fontFamily:"monospace",paddingBottom:"1px",paddingTop:"1px",paddingLeft:"3px",fontSize:I.chatFontSize+"px",color:"#888",background:I.chatBackground},S.style);
S.setAttribute("valign","top");H.lb.reset();L(H.lb,a.message);H.lb.flush(S)}}(this.b);this.b.g("motd",e);this.zc&&ge(this.xd,a.message,this.b.fa)}else if("infobar"==a.cmd)"announcement"==a.type?this.b.Ia.Og(a.message):"topic"==a.type&&(Ab(this.b.Ia,a.topic,this.b.Kd),this.b.N());else if("whowas"==a.cmd){var f=">>> "+a.nick+" was "+a.user+"@"+a.host+" "+a.realname;this.b.g("whowas",W(this.b,f,{},this.a.colorNotice,null,!1,this.b.j,b))}else if("who"==a.cmd)f=">>> "+a.nick+" ("+a.user+"@"+a.host+" "+
a.realname+") "+a.serv+" ("+a.hops+" hops) "+a.chan+" "+a.flag,this.b.g("who",W(this.b,f,{},this.a.colorNotice,null,!1,this.b.j,b));else if("channellist"==a.cmd)f=a.name+" ("+a.users+") "+a.topic,this.b.g("channellist",W(this.b,f,{},this.a.colorNotice,null,!1,this.b.Cf,b));else if("invite"==a.cmd)this.b.g(a.nick,W(this.b,"%%% "+a.nick+" "+D.get("InviteText")+" "+a.localchannel,{},this.a.colorInvite,null,!1,this.b.j,b)),this.b.D.T&&this.b.D.T();else if("notice"==a.cmd&&this.Ge)vd(this.b,a.nick)||(this.b.g(a.nick.toLowerCase(),
W(this.b,a.notice,{},this.a.colorNotice,a.nick,a.nick==this.b.h,this.b.j,b,!0)),this.b.D.T&&this.b.D.T(-1!=a.notice.indexOf(this.b.h)));else if("ctcp"==a.cmd&&this.a.showCTCP)vd(this.b,a.nick)||(this.b.g(a.nick.toLowerCase(),W(this.b,a.data,{},this.a.colorNotice,a.nick,a.nick==this.b.h,this.b.j,b,!0)),this.b.D.T&&this.b.D.T(-1!=a.data.indexOf(this.b.h)));else if("ban"==a.cmd)this.a.showBans&&this.b.g("::ban",W(this.b,"--- "+a.by+" "+D.get("BanText")+" "+a.nick,{},this.a.colorBan,null,!1,this.b.j,
b));else if("unban"==a.cmd)this.a.showBans&&this.b.g("::ban",W(this.b,"--- "+a.by+" "+D.get("UnbanText")+" "+a.nick,{},this.a.colorBan,null,!1,this.b.j,b));else if("typing"==a.cmd)this.b.c?Sa(this.b.c,a.nick,a.typing):this.b.o.gf.nodeValue=a.typing?"TYPING":"";else if("topic"==a.cmd){this.Hc=a.topic;this.b.g("::topic",W(this.b,a.topic,{},this.a.colorTopic,null,!1,this.b.j));if(a.nick){var h=new Date;this.b.g("::topic",W(this.b,D.get("TopicText")+" "+a.nick+" "+D.get("TopicText2")+" "+h,{},this.a.colorTopicWho,
null,!1,this.b.j))}this.zc&&he(this.xd,a.topic,this.b.fa)}else if("topicwho"==a.cmd)h=new Date,h.setTime(1E3*a.date),this.b.g("topic",W(this.b,D.get("TopicText")+" "+a.creator+" "+D.get("TopicText2")+" "+h,{},this.a.colorTopicWho,null,!1,this.b.j));else if("away"==a.cmd){if(this.b.c&&this.b.c.c[a.nick]){var k=this.b.c.c[a.nick];a.reason?(Ba(k,a.reason),Na(this.b.c,a.nick,!1),this.a.showAwaysBacks&&this.b.g(a.nick.toLowerCase(),W(this.b,"--- "+a.nick+" "+D.get("AwayText")+" ("+a.reason+")",{},this.a.colorAway,
null,!1,this.b.j,b))):(Ba(k,a.nick),Na(this.b.c,a.nick,!0),this.a.showAwaysBacks&&this.b.g(a.nick.toLowerCase(),W(this.b,"--- "+a.nick+" "+D.get("BackText"),{},this.a.colorBack,null,!1,this.b.j,b)))}}else if("msg"==a.cmd){this.b.c&&(Sa(this.b.c,a.nick,!1),Oa(this.b.c,a.nick));if(!vd(this.b,a.nick)){-1!=a.msg.toLowerCase().indexOf(this.b.h.toLowerCase())&&gd("mentionednick");gd("newmsg");T&&T.Vb({Ud:"newmsg"});this.dd&&md&&md.ff(a.channel,c);var g=b;a.dtime&&(g=b-a.dtime);a.local||(a.msg=Cd.apply(a.msg,
!0,this.b.D.lc,a.nick));if(a.msg){b=!1;if(this.Qd[a.nick])if("[**"==a.msg.substring(0,3)){if(d=a.msg.indexOf(" "),-1!=d){this.La({cmd:"emote",nick:a.msg.substring(3,d),emote:a.msg.substring(d+1,a.msg.length-2),Kg:"#844"});return}}else"["==a.msg.substring(0,1)&&(d=a.msg.indexOf("]"),-1!=d&&(a.nick=a.msg.substring(1,d),a.msg=a.msg.substring(d+2,a.msg.length),b="#844"));var l=this.b.j;a.channelclick&&(d={},d.$a=a.channelclick,l=de(this.b,d));this.b.g(a.nick.toLowerCase(),W(this.b,a.msg,"undefined"==
typeof a.md?{}:a.md,a.nick==this.b.h?this.a.colorChatMe:this.a.colorChat,a.nick,a.nick==this.b.h,l,g,!1,!a.idd,b));this.b.D.T&&this.b.D.T(-1!=a.msg.toLowerCase().indexOf(this.b.h.toLowerCase()))}}this.zc&&ge(this.xd,a.msg,this.b.fa)}else if("emote"==a.cmd)this.b.c&&(Sa(this.b.c,a.nick,!1),Oa(this.b.c,a.nick)),a.local||(a.emote=Cd.apply(a.emote,!0,this.b.D.lc,a.nick)),a.emote&&!vd(this.b,a.nick)&&(-1!=a.emote.toLowerCase().indexOf(this.b.h.toLowerCase())&&gd("mentionednick"),gd("newmsg"),T&&T.Vb({Ud:"newmsg"}),
this.dd&&md&&md.ff(a.channel,c),this.b.g(a.nick.toLowerCase(),W(this.b,a.nick+" "+a.emote,{},a.nick==this.b.h?this.a.colorEmoteMe:this.a.colorEmote,null,a.nick==this.b.h,this.b.j,b,!1,!a.idd)),this.b.D.T&&this.b.D.T(-1!=a.emote.toLowerCase().indexOf(this.b.h.toLowerCase()))),this.zc&&ge(this.xd,a.emote,this.b.fa);else if("rmsg"==a.cmd)a.local||(a.msg=Cd.apply(a.msg,!0,this.b.D.lc,a.nick)),a.msg&&!vd(this.b,a.nick)&&this.b.g(a.nick.toLowerCase(),W(this.b,a.msg,{},this.a.colorChatRecent,a.nick,!1,this.b.j,
b-a.dtime));else if("remote"==a.cmd)a.local||(a.emote=Cd.apply(a.emote,!0,this.b.D.lc,a.nick)),a.emote&&!vd(this.b,a.nick)&&this.b.g(a.nick.toLowerCase(),W(this.b,a.nick+" "+a.emote,{},this.a.colorEmoteRecent,null,!1,this.b.j,b-a.dtime));else if("mode"==a.cmd)this.a.showUserModes&&this.b.g("::mode",W(this.b,"+++ "+a.msg,{},this.a.colorUserMode,null,!1,this.b.j,b));else if("usermode"==a.cmd)l=function(H,I,S,Za){return S+" "+D.get("ModeChange1")+" "+D.get(H?"ModeGiven":"ModeTaken")+" "+I+" "+D.get(H?
"ModeTo":"ModeFrom")+" "+Za},"undefined"!=typeof a.owner&&(this.b.c&&Pa(this.b.c,a.nick,"owner",a.owner),this.a.showUserModes&&this.b.g("::mode",W(this.b,"+++ "+l(a.owner,D.get("ModeOwner"),a.by,a.nick),{},this.a.colorUserMode,null,!1,this.b.j,b))),"undefined"!=typeof a.admin&&(this.b.c&&Pa(this.b.c,a.nick,"admin",a.admin),this.a.showUserModes&&this.b.g("::mode",W(this.b,"+++ "+l(a.admin,D.get("ModeAdmin"),a.by,a.nick),{},this.a.colorUserMode,null,!1,this.b.j,b))),"undefined"!=typeof a.halfop&&(this.b.c&&
Pa(this.b.c,a.nick,"halfop",a.halfop),this.a.showUserModes&&this.b.g("::mode",W(this.b,"+++ "+l(a.halfop,D.get("ModeHalfop"),a.by,a.nick),{},this.a.colorUserMode,null,!1,this.b.j,b))),"undefined"!=typeof a.op&&(this.b.c&&Pa(this.b.c,a.nick,"op",a.op),this.a.showUserModes&&this.b.g("::mode",W(this.b,"+++ "+l(a.op,D.get("ModeOp"),a.by,a.nick),{},this.a.colorUserMode,null,!1,this.b.j,b))),"undefined"!=typeof a.voice&&(this.b.c&&Pa(this.b.c,a.nick,"voice",a.voice),this.a.showUserModes&&this.b.g("::mode",
W(this.b,"+++ "+l(a.voice,D.get("ModeVoice"),a.by,a.nick),{},this.a.colorUserMode,null,!1,this.b.j,b)));else if("nicklist"==a.cmd){var m=[];for(l=0;l<a.nicks.length;l++){g=a.nicks[l];var n=ie(g.mibbituser,g.device),r={};g.info&&(r=ea(g.info));this.a.ciUserIcon&&r.userIcon&&(n={title:"Custom icon",src:r.userIcon});var u=g.nick;g.mibbitaway&&(u=g.mibbitaway);var v={};v.admin=!!g.admin;v.op=!!g.op;v.halfop=!!g.halfop;v.voice=!!g.voice;v.owner=!!g.owner;v.active=!g.mibbitaway;if(this.b.c){var z=-1;g.hasOwnProperty("idletime")&&
(z=parseInt(g.idletime));this.b.c.gd({id:g.nick,ci:r,countrycode:g.cc,localtime:g.ct,timezone:g.tz,nick:g.nick,icon:n,desc:u,modes:v,idleTime:z})}this.b.fa[g.nick.toLowerCase()]=g.nick;wb(this.b.o.ia,g.nick);this.K[g.nick.toLowerCase()]?t({device:g.device,mibbituser:g.mibbituser,embed:g.embed,host:g.host},this.K[g.nick.toLowerCase()]):this.K[g.nick.toLowerCase()]={device:g.device,mibbituser:g.mibbituser,embed:g.embed,host:g.host}}this.b.c&&(this.b.c.size(),D.get("UserCount"))}else if("userinfo"==
a.cmd){var B=a.id?a.id:a.nick;n=ie(a.mibbituser,a.device);r={};a.info&&(r=ea(a.info));this.a.ciUserIcon&&r.userIcon&&(n={title:"Custom icon",src:r.userIcon});u=a.nick;a.mibbitaway&&(u=a.mibbitaway);a.status&&(u=a.status);if(this.b.c){z=-1;a.hasOwnProperty("idletime")&&(z=parseInt(a.idletime));var E=this.b.c.c[B];E&&(E.Gc=a.cc,E.ke=parseInt(a.ct)-(new Date).getTime(),E.ue=a.tz,E.icon=n,E.description=u,E.Ha=Math.floor((new Date).getTime()/1E3)-z,E.pd=r,E.active=!a.mibbitaway,a.hasOwnProperty("awaystate")&&
(E.active=!a.awaystate),Ca(this.b.c,B),E.C())}this.K[a.nick.toLowerCase()].device=a.device;this.K[a.nick.toLowerCase()].embed=a.embed;this.K[a.nick.toLowerCase()].mibbituser=a.mibbituser}else if("join"==a.cmd)gd("userjoin"),T&&T.Vb({Ud:"userjoin"}),B=a.id?a.id:a.nick,n=ie(a.mibbituser,a.device),r={},a.info&&(r=ea(a.info)),this.a.ciUserIcon&&r.userIcon&&(n={title:"Custom icon",src:r.userIcon}),u=a.nick,a.mibbitaway&&(u=a.mibbitaway),a.status&&(u=a.status),this.b.c&&(z=-1,a.hasOwnProperty("idletime")&&
(z=parseInt(a.idletime)),v={admin:!1,op:!1,halfop:!1,voice:!1,owner:!1},v.active=!a.mibbitaway,a.hasOwnProperty("awaystate")&&(v.active=!a.awaystate),this.b.c&&this.b.c.gd({id:B,ci:r,countrycode:a.cc,localtime:a.ct,timezone:a.tz,nick:a.nick,icon:n,desc:u,modes:v,idleTime:z}),this.b.c.size(),D.get("UserCount")),this.a.showJoinsParts&&(f="*** "+a.nick+" "+D.get("JoinText")+(a.localchannel?" "+a.localchannel:""),this.a.showJoinInfo&&(f+=" "+a.user+"@"+a.host+" ",a.mibbituser&&(a.device&&(f+=" ["+a.device+
"]"),f=a.embed?f+" (Widget)":f+" (Mibbit)")),this.b.g(a.nick.toLowerCase(),W(this.b,f,{},this.a.colorJoin,null,!1,this.b.j,b))),this.b.fa[B.toLowerCase()]=a.nick,wb(this.b.o.ia,a.nick),this.K[a.nick.toLowerCase()]={user:a.user,host:a.host,device:a.device,embed:a.embed,mibbituser:a.mibbituser};else if("userdetails"==a.cmd)this.K[a.nick.toLowerCase()]&&(this.K[a.nick.toLowerCase()]?(this.K[a.nick.toLowerCase()].user=a.user,this.K[a.nick.toLowerCase()].host=a.host):this.K[a.nick.toLowerCase()]={user:a.user,
host:a.host});else if("part"==a.cmd)this.b.c&&this.b.c.c[a.id?a.id:a.nick]&&(gd("userpart"),T&&T.Vb({cmd:"userpart"}),B=a.id?a.id:a.nick,this.b.c.mc(B),this.b.c.size(),D.get("UserCount"),delete this.b.fa[B.toLowerCase()],xb(this.b.o.ia,a.nick),delete this.K[B.toLowerCase()],delete this.Ab[a.nick],this.a.showJoinsParts&&(a.quit?f="*** "+a.nick+" "+D.get("QuitText")+" ("+a.message+")":(f="*** "+a.nick+" "+D.get("LeftText"),f+=a.localchannel?" "+a.localchannel:".",a.message&&(f+=" ("+a.message+")")),
this.a.showPartInfo&&(f+=" "+a.user+"@"+a.host+" ",a.mibbituser&&(a.device&&(f+=" ["+a.device+"]"),f=a.embed?f+" (Widget)":f+" (Mibbit)")),this.b.g(a.nick.toLowerCase(),W(this.b,f,{},this.a.colorPart,null,!1,this.b.j,b)))),a.nick==this.b.h&&(this.b.g(a.nick.toLowerCase(),W(this.b,"!!! You left "+a.localchannel,{},this.a.colorPart,null,!1,this.b.j,b)),this.b.Ec());else if("kick"==a.cmd)this.b.c&&this.b.c.c[a.nick]&&(gd("userpart"),T&&T.Vb({Ud:"userpart"}),this.b.c.mc(a.nick),this.b.c.size(),D.get("UserCount"),
delete this.b.fa[a.nick.toLowerCase()],xb(this.b.o.ia,a.nick),delete this.K[a.nick.toLowerCase()],delete this.Ab[a.nick],a.reason?this.b.g(a.nick.toLowerCase(),W(this.b,"*** "+a.nick+" "+D.get("KickText")+" "+a.kicker+" ("+a.reason+")",{},this.a.colorKick,null,!1,this.b.j,b)):this.b.g(a.nick.toLowerCase(),W(this.b,"*** "+a.nick+" "+D.get("KickText")+" "+a.kicker,{},this.a.colorKick,null,!1,this.b.j,b))),a.nick==this.b.h&&(this.b.g(a.nick.toLowerCase(),W(this.b,"!!! You have been kicked from "+a.localchannel,
{},this.a.colorKick,null,!1,this.b.j,b)),this.b.Ec());else if("init"==a.cmd)this.b.Zb(a.nick),this.b.c||(this.b.fa[a.nick.toLowerCase()]=a.nick,wb(this.b.o.ia,a.nick));else if("changenick"==a.cmd)this.b.c&&this.b.c.c[a.nick]&&(m=this.b.c.c[a.nick],m.description==a.nick&&Ba(m,a.newnick),Ra(this.b.c,a.nick,a.newnick)),vd(this.b,a.nick)&&(delete this.Ab[a.nick],this.Ab[a.newnick]=!0),this.b.fa[a.nick.toLowerCase()]&&(this.b.fa[a.newnick.toLowerCase()]=a.newnick,wb(this.b.o.ia,a.newnick),this.b.g(a.nick.toLowerCase(),
W(this.b,"*** "+a.nick+" "+D.get("NickText")+" "+a.newnick,{},this.a.colorChangeNick,null,!1,this.b.j,b)),a.nick.toLowerCase()!=a.newnick.toLowerCase()&&(delete this.b.fa[a.nick.toLowerCase()],xb(this.b.o.ia,a.nick))),this.K[a.nick.toLowerCase()]&&(this.K[a.newnick.toLowerCase()]=this.K[a.nick.toLowerCase()],delete this.K[a.nick.toLowerCase()]),a.nick==this.b.h&&this.b.Zb(a.newnick);else if("log"==a.cmd&&this.Fe)this.b.g("::log",W(this.b,a.message,{},this.a.colorSystem,a.nick,!1,this.b.uc,b)),this.b.D.T&&
this.b.D.T();else if("error"==a.cmd)this.b.g("::error",W(this.b,a.msg,{},this.a.colorSystem,"",!1,this.b.uc,b)),this.b.D.T&&this.b.D.T();else if("pastereply"==a.cmd)a.error?this.b.g("::paste",W(this.b,a.error,{},this.a.colorNotice,"PasteBin",!1,this.b.j,b,!0)):this.b.o.Cb("https://mibpaste.com/"+a.url+" ");else if("minifyreply"==a.cmd)this.b.o.Cb("https://miburl.com/"+a.uniq+" ");else if("removechat"==a.cmd)this.a.allowChatRemoval&&(rc(this.b.qa,a.chatid),X(this.b));else if("banlist"==a.cmd){h=new Date;
h.setTime(1E3*a.ctime);var U=W(this.b,null,{},this.a.colorBan,null,!1,this.b.j);U.rb=Ic(a,this.a,this.b.D.Bg);this.b.g("banlist",U)}else"plugin"==a.cmd&&this.b.qe(a.data)}catch(H){w&&x("cmh.process",q(a)+"|"+H,y)}};function ie(a,b){var c={name:"user",title:""};a&&(b?"ipod"==b?c={name:"ipod",title:"iPod Mibbitian"}:"iphone"==b?c={name:"iphone",title:"iPhone Mibbitian"}:"wii"==b&&(c={name:"wii",title:"Wii Mibbitian"}):c={name:"mibbituser",title:"Mibbitian"});return c}function je(){this.filters=[]}
je.prototype.load=function(a){this.filters=[];for(var b=0;b<a.length;b++)try{this.filters.push({reg:a[b].reg,replacement:a[b].replacement,replacein:a[b].replacein,replaceout:a[b].replaceout,block:a[b].block,cmd:a[b].cmd})}catch(c){}};
je.prototype.apply=function(a,b,c,d){for(var e=0;e<this.filters.length;e++)if(b&&this.filters[e].replacein||!b&&this.filters[e].replaceout){var f=new RegExp(this.filters[e].reg,"g");!ed&&c&&this.filters[e].cmd&&f.test(a)&&c(this.filters[e].cmd,this.filters[e].reg,d);w&&x("filters.apply","d="+a+" isin="+b+" block="+this.filters[e].block,J);if(this.filters[e].block){if(w&&x("filters.apply","block d="+a+" rg="+f+" match="+f.test(a),J),f.test(a))return!1}else a=a.replace(f,this.filters[e].replacement)}return a};
function t(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}function ke(){if("Microsoft Internet Explorer"==navigator.appName){var a=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);if(null!=a)return parseFloat(a[1])}return-1}function le(){this.Xc=[];this.Pd=[];this.Oa={}}
function he(a,b,c){ge(a,b,c);if(b=b.match(/[^\s#!@\$%\^&\*\(\)_\+\-=\{\}\[\]:;"',\.\/<>\?~\|\\]+/g))for(var d=0;d<b.length;d++){var e=b[d].toLowerCase();c&&c[e]||!(-1==" the and for are but not you all any can had her was one our out day get has him his how man new now old see two way who boy did its let put say she too use lol ftw hey that with have this will your from they know want been good much some time very when come here just like long make many more only over such take than them well were  what book cool  there their which ".indexOf(" "+e+
" ")&&3<=e.length)||e.match(/^[0-9]+$/)||(me(e,a.Xc),15<a.Xc.length&&a.Xc.shift())}}function me(a,b){if(a){for(var c=0;c<b.length;c++)if(b[c]==a)return;b.push(a)}}
function ge(a,b,c){if(b=b.match(/[^\s#!@\$%\^&\*\(\)_\+\-=\{\}\[\]:;"',\.\/<>\?~\|\\]+/g))for(var d=0;d<b.length;d++)if(!c||!c[b[d].toLowerCase()]){var e=a,f=b[d];f=f.toLowerCase();-1!=" the and for are but not you all any can had her was one our out day get has him his how man new now old see two way who boy did its let put say she too use lol ftw hey that with have this will your from they know want been good much some time very when come here just like long make many more only over such take than them well were  what book cool  there their which ".indexOf(" "+f+
" ")||3>f.length||f.match(/^[0-9]+$/)||(e.Pd.push(f),e.Oa[f]?e.Oa[f]++:e.Oa[f]=1,500<e.Pd.length&&(f=e.Pd.shift(),e.Oa[f]--,0==e.Oa[f]&&delete e.Oa[f]))}}function Id(){for(var a=yd,b=[],c=0;c<Math.min(a.Xc.length,15);c++)b.push(a.Xc[c]);var d={};for(c=0;20>c;c++){var e=void 0;var f=a,h=d,k=null,g=0;for(e in f.Oa)f.Oa.hasOwnProperty(e)&&!h[e]&&f.Oa[e]>g&&(g=f.Oa[e],k=e);e=k;if(null==e)break;d[e]=a.Oa[e];me(e,b)}return b}var Dd=!0;
function gd(a){F.sounds[a]&&F.sounds[a].enabled&&Ed(F.sounds[a].sound)}function ne(a){return"http://"==a.substr(0,7)||"https://"==a.substr(0,8)?a:"//static.mibbit.com/sounds/"==a.substr(0,27)?"https://s3.amazonaws.com/mibbit/sounds/"+a.substr(27):"/sounds/"==a.substr(0,8)?"https://s3.amazonaws.com/mibbit"+a:a}
function Ed(a){try{if(Dd){var b="",c=a.lastIndexOf(".");if(-1!=c){var d=a.substring(c,a.length).toLowerCase();if(".mp3"==d||".wav"==d||".ogg"==d||".m4a"==d)b=d,a=a.substring(0,c)}if("Audio"in window){var e=new Audio;""==b&&(b=e.canPlayType&&e.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"")?".ogg":e.canPlayType&&e.canPlayType("audio/mpeg;").replace(/no/,"")?".mp3":e.canPlayType&&e.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,"")?".m4a":".mp3",w&&x("Sounds","Picked "+b+" for file "+
a,J));e.src=ne(a+b);e.autoplay=!0;e.play&&e.play()}else{""==b&&(b=".mp3");var f=document.getElementById("current_sound");f&&f.parentNode.removeChild(f);f=document.createElement("bgsound");f.id="current_sound";f.setAttribute("src",ne(a+b));f.setAttribute("loop",1);document.appendChild(f)}}}catch(h){w&&x("Sounds","Source "+a+" "+h,y)}}var Xa=!0,oe=!1,uc=!1,ed=!1,pe="WebSocket"in window?!0:!1,qe=null,re=[],F,R,Q,se,Td,V,te=!1,ue,Ud,Bd,Cd,C,yd,wa,w=!1;
"http://chat.mibbit.local/"==window.location.href&&(w=!0);var ve=w?".mibbit.local":".mibbit.com",N="FINE",J="INFO",y="WARNING",we={FINE:"#aaa",INFO:"#00f",WARNING:"#f00"};function x(a,b,c){c==y&&R.I({cmd:"clientlog",m:"WARNING :"+a+" : "+b})}var xe={},ye,M,T,md,ze="",Y;window.onerror=function(a,b,c){w&&xe&&x("onerror",a+" "+b+" :"+c,y)};
function Ae(a){var b=a.target?a.target:a.srcElement;b=b.tagName?b.tagName:b.nodeName;return"input"!=b.toLowerCase()&&"textarea"!=b.toLowerCase()&&8==a.keyCode?!1:!0}
document.onkeydown=function(a){a||(a=window.event);if(a.altKey){try{if(37==a.keyCode)for(var b=M,c=0;c<b.u.length;c++){if(b.u[c].wa){if(0==c)break;Ob(b);b.u[c-1].open();break}}else if(39==a.keyCode)for(b=M,c=0;c<b.u.length;c++){if(b.u[c].wa){if(c==b.u.length-1)break;Ob(b);b.u[c+1].open();break}}else 38==a.keyCode&&(b=M,Mb(b,"top"==b.Xa),b.a.useTabList="list"==b.Xa)}catch(d){}if(37==a.keyCode||39==a.keyCode)return!1}return Ae(a)};document.onkeypress=function(a){a||(a=window.event);return Ae(a)};
function Rc(a){R.Na=a;R.reset();w&&x("sessionSetHandler","mysession="+Td+" s="+a,J);Td&&(C.alert("Connection to Mibbit was lost."),wa.jg(),hd(""));Td=a;a=new Date;var b=-a.getTimezoneOffset();a={cmd:"clientinfo",localtime:a.getTime()+6E4*b,tzoffset:b};w&&x("sessionSetHandler","ic = "+q(a),J);R.I(a);Be()}
function Qc(a){w&&x("ooHandler","oo="+a,J);var b=document.getElementById("connlogo"),c=document.getElementById("serverstatus");c.style.color=a?"#aaa":"#f00";b.style.display=a?"inline":"none";a=a?ze:D.get("MibbitDisconnected");c.firstChild?c.firstChild.nodeValue=a:c.appendChild(document.createTextNode(a))}
function Pc(a){try{if(w&&x("globalCHandler",q(a),J),"serverstatus"==a.cmd){var b=document.getElementById("serverstatus"),c=a.status,d=c.lastIndexOf(" ");d&&(c=c.substring(0,d));b.firstChild?b.firstChild.nodeValue=c:b.appendChild(document.createTextNode(c));ze=c}else if("global"==a.cmd)wa.sg(a.msg);else if("ping"==a.cmd){var e=(new Date).getTime();e=Math.floor((e-a.ts)/2);Ce("lag: "+e+"ms");re.push(e);6<re.length&&re.shift()}else if("lagtime"==a.cmd&&(b=wa,!ed&&b.w["IRCClient:"+a.server])){var f=b.w["IRCClient:"+
a.server].b;Ab(f.Ia,"Lag: "+(a.timeout?"-":a.lag+"ms"),f.Kd)}}catch(h){w&&x("globalCHandler","Exception "+h,y)}}function Be(){w&&x("checkLag","Checking lag...",J);qe&&window.clearTimeout(qe);qe=window.setTimeout(function(){qe=null;Ce("(TIMEOUT)")},2E4);R.I({cmd:"ping",ts:(new Date).getTime()});return!1}function Ce(a){qe&&window.clearTimeout(qe);qe=null;var b=document.getElementById("laginfo");b.onclick=Be;b.firstChild?b.firstChild.nodeValue=a:b.appendChild(document.createTextNode(a))}
function hd(a,b,c,d){var e=document.getElementById("clientstatus"),f=document.getElementById("clientstatus"+a);f||(f=document.createElement("span"),f.id="clientstatus"+a,e.appendChild(f));for(;f.firstChild;)f.removeChild(f.firstChild);0<b+c+d&&(f.appendChild(document.createTextNode(a.toUpperCase()+": "+b+" ")),0<c+d&&(a=document.createElement("span"),a.style.color="#880",f.appendChild(a),a.appendChild(document.createTextNode("+"+(c+d)))))}
function Oc(a,b){if("IRCClient:"==a.substring(0,10))return kd(a,b);w&&x("newCHandler","New channel "+a+" ("+q(b)+")",J);return!1}function De(a,b,c,d){a&&(a=document.createElement("span"),a.style.color="#666",a.appendChild(document.createTextNode(" | ")),b.appendChild(a));a=document.createElement("span");t({cursor:"pointer",fontWeight:"bold",color:"#aaa"},a.style);a.appendChild(document.createTextNode(c));b.appendChild(a);a.onclick=d}
function Ee(a,b,c,d,e,f){f&&"Premium"==f.type?(te=!0,Fe(!0)):te=!1;b=document.getElementById("loginstatus");if(a){V=c;ue=e;Ud=f;w&&x("lioHandler","prefs="+d,N);F.reset();F.load(d);Bd.load(F.aliases);for(Cd.load(F.filters);b.firstChild;)b.removeChild(b.firstChild);b.appendChild(document.createTextNode(c));De(!0,b,D.get("Menu_Logout"),function(){Ge(se)})}else{V=null;ue={};w&&x("lioHandler","Logged out, reset defaultPrefs",N);F.reset();Zd(F);for(Fe(!1);b.firstChild;)b.removeChild(b.firstChild);De(!1,
b,D.get("Menu_Login"),He);De(!0,b,D.get("Menu_Register"),Ie);Rb(M,".XAccount");Rb(M,".XChannels");Rb(M,".XPrefs");Rb(M,".XLogs");Rb(M,".XProfile")}Je(a);ja()}window.onbeforeunload=function(){if(F.confirmUnload)return"Any Chat Connections will be closed!"};
function Fd(){var a=document.getElementById("chats"),b=document.createElement("div");b.style.background="#ccc";b.style.display="none";a.appendChild(b);ye=new wd(b,!1,Ke,{Dd:function(){var c=ye.o.ja.value;if("/global "==c.substring(0,8)){var d=c.indexOf(" ",8);if(-1!=d){var e=c.substring(8,d);c=c.substring(d+1,c.length);ye.g("::log",W(ye,"Sending global...",{},we.INFO,"",!1,ye.uc,(new Date).getTime()));R.I({cmd:"global",pw:e,msg:c})}}return!1},wc:function(){},T:function(){}},!1,{hg:!0});Ab(ye.Ia,"Debug console",
ye.uc);Ub(".Log",b,"Log","Debug Log",function(c,d){ye.yb(c,d);G&&sa(!d)},function(){w=!1;return!0},{background:"#ccc",border:"#888"},!0,!0);x=function(c,d,e){ye.g("::log",W(ye,d,{},we[e],c,!1,ye.uc,(new Date).getTime()))};w=!0}function Z(a){var b=window.location.search.substring(1);if(0<b.length){var c=b.indexOf(a+"=");if(-1!=c)return c+=a.length+1,a=b.indexOf("&",c),decodeURIComponent(b.substring(c,-1==a?b.length:a))}return null}
function od(){var a="amphibulus bletch bernard blinky bugweiser claude curmet ferdinand figaro flabbergaster frogaincia frogonia frogmella froglegstew frogzilla gamakichi guacamole gunther huddler kermit kermi keret krebbit leaper lilybet madalynn mermi mr_fribble mortisha napoleon obi_wan panitaliemom pachuco pheleas_frog Puddles pudgetta quibbit quiggle schnozzle skippydippy smerft sluggo slimer sprocket sprog sproing squiggy stomper wikkit wilma weirdo xarcus xorcon yoshi zucchini zippity zenon zelda bellows charmander cornelius fuogo gretchen jasper kermie rumpler findow fenster kendle whidgle mohawk montezuma morton mr_evil mr_sticky mudpit onix peeves raisin shmoo umbridge mr_wibble dr_bibble mr_boo wippler reedlepee calatalee ferminter quaddle blaphmat hatman sockmister mr_trousers mr_pants".split(" ");if(.5>
Math.random())return a[Math.floor(Math.random()*a.length)];a="mib_";for(var b=0;6>b;b++)a+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(36*Math.random());return a}
window.init=function(){var a=document.createElement("script");a.src="https://www.google.com/jsapi?callback=loadedGoogle&key="+("https:"==document.location.protocol?"ABQIAAAAMWVs2CFZKh4tHpNoyudfehT7a2vVMXy4YJ6gxszjGxhjLi1vThQlwj9IDi0zjID6pApN4CVCYpZgqg":"ABQIAAAAMWVs2CFZKh4tHpNoyudfehSLjyhLxcdKYU-OPaY8o4Pq0SJYtxQiGwbiPerGixwxOrqB1yCoy0TTOg");a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);a=ke();-1!=a&&(Xa=!1,uc=!0,7>a&&(oe=!0));try{top.location!=location&&(alert("The official Mibbit website is at www.mibbit.com. Please update your links."),
top.location.href=document.location.href)}catch(c){}oe&&(O=!0);yd=new le;a=document.createElement("div");a.id="errorlog";document.body.appendChild(a);C=new fa(a);ad.prototype.pf=function(c,d){d&&C.alert(c+": "+d)};ad.prototype.qf=function(c,d){d&&C.alert(c+": "+d)};ad.prototype.Wd=function(c){C.alert("Are you sure you want to disconnect from "+c+"?",function(d){d&&dd(wa,c)})};bd.prototype.td=function(c,d){C.alert("Please pick a new nick: ",function(e){e&&d(e)},!0)};Od.prototype.S=function(c,d){C.alert("Alias "+
c+":",d,!0)};Bd=new Od;Cd=new je;wa=new ad;F=new Le;Bd.load(F.aliases);Cd.load(F.filters);M=new Ib;Fe(!1);Je(!1);try{-1!=navigator.userAgent.indexOf("Nintendo Wii")&&(F.needSendButton=!0)}catch(c){}T=new Qd;T.Dc(window,"window");T.Dc(window.document,"doc");md=new Rd;Ee(!1);F.addListener(function(){function c(d,e){if(d=M.l[d])d.content.style.background=F.tabColorGeneral,e||(e={}),e.background=F.tabColorGeneral,e.border=F.tabBColorGeneral,d.L=e,Eb(d,d.wa)}M.C();Mb(M,F.useTabList);c("..Welcome",{icon:"/icons/house.png",
iconWidth:16,iconHeight:16});c(".XChannels");c(".XPrefs",{iconWidth:16,iconHeight:16,icon:"/icons/wrench.png"});c(".XProfile",{iconWidth:16,iconHeight:16,icon:"/icons/user_green.png"});c(".XAccount");c(".XLogs");c(".Log");window.webkitNotifications&&F.desktopNotifications&&0!=window.webkitNotifications.checkPermission()&&C.alert("Desktop notifications are set in your prefs. Would you like to enable them for this chat backend?",function(d){d&&window.webkitNotifications.requestPermission(function(){})},
!1)});F.addListener(function(){Je(null!=V)});F.addListener(function(c){wa.Tc(c)});null!=Z("debug")&&Fd();var b=Me("..Welcome","Home","Mibbit Home",!1,null);a=b.ownerDocument.createElement("div");t({position:"absolute",top:"8px",bottom:"8px",left:"8px",right:"8px",overflow:"hidden"},a.style);b.appendChild(a);b=b.ownerDocument.createElement("iframe");b.style.width="100%";b.style.height="100%";b.style.minHeight="100%";a.appendChild(b);b.src=w?"http://my.chat.mibbit.local/home":"https://my.chat.mibbit.com/home";
(a=Z("url"))&&(Y=pd(a));if(!Y){if(null!=Z("server")&&(Y={ssl:!1,port:6667,host:Z("server")},a=Y.host.split(":"),Y.host=a[0],a[1]&&(Y.port=a[1],"+"==Y.port.substring(0,1)&&(Y.ssl=!0,Y.port=Y.port.substr(1))),Y.target=Z("channel"),null==Y.target&&(Y.target=""),Y.nick=Z("nick"),Y.pass=Z("pass"),Y.charset=Z("charset"),Y.needPass=Z("needPass"),Y.key=Z("key"),Y.needKey=Z("needKey")),a=window.location.hash)Y={ssl:!1,port:6667,host:"irc.mibbit.net",target:a},b=a.indexOf("@"),-1!=b&&(Y.host=a.substring(b+
1,a.length),Y.target=a.substring(0,b)),a=Y.host.split(":"),Y.host=a[0],a[1]&&(Y.port=a[1],"+"==Y.port.substring(0,1)&&(Y.ssl=!0,Y.port=Y.port.substr(1)))}else if(Y.target&&-1=="#&+".indexOf(Y.target.substring(0,1))){for(a=document.getElementById("ircstargettype");a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode("Target nick:"));document.getElementById("ircskeyopt").style.display="none"}Y&&(document.getElementById("connectspecific").style.display="block",a=document.getElementById("connectspecific"),
a=Ub(".Connect",a,"Connect","Connect",null,Ne(a),{background:F.tabColorGeneral,border:F.tabBColorGeneral},!1),Oe(function(){Rb(M,".Connect")}),Ob(M),a.open());Q=new Nc;R=new Jc({recv:function(c){return function(d){Wc(c,d)}}(Q),psh:null});null!=Z("debug")&&(Q.onerror=function(c){w&&x("rcomms",c,N)},R.onerror=function(c){w&&x("scomms",c,N)});("WebSocket"in window||"MozWebSocket"in window)&&null==Z("nowebsocket")&&(w&&x("init","Using Websocket...",J),$c());se=new Pe;Xc("LoginManager",se);Q.start();Ce("-");
window.setInterval(Be,12E4);window.setInterval(function(){for(var c=0,d=0;d<re.length;d++)c+=re[d];c=Math.floor(c/re.length);R.I({cmd:"clientlog",m:"avg lag:"+c+(pe?" WS":"")})},9E5);se.te=function(c){var d=document.getElementById("loginstatus");w&&x("settingscallback","prefs="+c,N);F.reset();F.load(c);Bd.load(F.aliases);for(Cd.load(F.filters);d.firstChild;)d.removeChild(d.firstChild);d.appendChild(document.createTextNode(V));De(!0,d,D.get("Menu_Logout"),function(){Ge(se)})};se.Mc=function(c){if(c){for(c=
document.getElementById("loginstatus");c.firstChild;)c.removeChild(c.firstChild);c.appendChild(document.createTextNode("Please wait..."))}};se.Rd=function(c){C.alert(c?"Your password has been changed successfuly":"Invalid password. Please make sure it is 4-16 characters")};se.Lc=function(c,d){w&&x("loginCallback","s="+c+", msg="+d);c||C.alert("Invalid login: "+d)};Xc("IRCClient",wa);document.getElementById("loading").style.display="none";document.getElementById("mibbitapp").style.display="block";
"undefined"!==typeof loadingtimer&&null!==loadingtimer&&window.clearInterval(loadingtimer)};window.shutdown=function(){Q.stop()};window.loadedGoogle=function(){Fe(te)};var Qe=null;
function Fe(a){var b=document.getElementById("header");t({textAlign:"left",background:"url(https://s3.amazonaws.com/mibbit/gradg.png) repeat-x",overflow:"hidden"},b.style);b.style.height=(a?24:94)+"px";b.style.background=a?"url(https://s3.amazonaws.com/mibbit/gradg.png) repeat-x 0px -50px":"url(https://s3.amazonaws.com/mibbit/gradg.png) repeat-x";var c=document.getElementById("adHolder");c||(c=document.createElement("div"),c.id="adHolder");var d=document.getElementById("usermenu1");d||(d=document.createElement("ul"),
t({display:"inline",listStyleType:"none",fontFamily:"sansSerif",fontSize:"11px",color:"#666"},d.style),d.id="usermenu1");var e=document.getElementById("serverstatus");e||(e=document.createElement("span"),t({fontSize:"11px",padding:"0px"},e.style),e.id="serverstatus");var f=document.getElementById("laginfo");f||(f=document.createElement("span"),f.id="laginfo",f.title="Lag between you and Mibbit.",t({fontSize:"11px",color:"#666",cursor:"pointer",padding:"0px"},f.style));var h=document.getElementById("clientstatus");
h||(h=document.createElement("span"),h.id="clientstatus",t({fontSize:"11px",color:"#cc0",marginLeft:"17px",padding:"0px"},h.style));var k=document.getElementById("loginstatus");k||(k=document.createElement("span"),k.id="loginstatus",t({fontSize:"11px",color:"#aaa",marginLeft:"17px",padding:"0px"},k.style));for(;b.firstChild;)b.removeChild(b.firstChild);Qe&&(window.clearInterval(Qe),Qe=null);if(a){Jb=24;Xb=Jb+26;a=document.createElement("table");a.setAttribute("cellpadding","0");a.setAttribute("cellspacing",
"0");a.setAttribute("border","0");a.style.height="24px";a.style.width="100%";b.appendChild(a);b=a.insertRow(-1);c=b.insertCell(-1);var g=document.createElement("img");g.id="connlogo";g.style.width="24px";g.style.height="24px";g.src="/gfx/icon_24.png";c.appendChild(g);b.insertCell(-1).appendChild(e);b.insertCell(-1).appendChild(f);b.insertCell(-1).appendChild(h);c=b.insertCell(-1);c.style.textAlign="right";c.style.paddingRight="8px";c.appendChild(k);k.style.paddingRight="16px";c.appendChild(d)}else{Jb=
94;Xb=Jb+26;a=document.createElement("table");a.setAttribute("cellpadding","0");a.setAttribute("cellspacing","0");a.setAttribute("border","0");a.style.height="90px";a.style.width="100%";b.appendChild(a);b=a.insertRow(-1);a=a.insertRow(-1);g=b.insertCell(-1);g.rowSpan=2;g.style.width="170px";g.vAlign="top";var l=document.createElement("img");l.style.margin="2px";l.style.marginLeft="8px";l.src=w?"./gfx/minifrogdebug.png":"https://s3.amazonaws.com/mibbit/minifrog.png";l.style.height="86px";l.style.width=
"166px";l.title="Mibbit version 5003";g.appendChild(l);g=b.insertCell(-1);g.rowSpan=2;g.align="center";g.vAlign="middle";g.appendChild(c);g=b.insertCell(-1);g.vAlign="top";g.noWrap=!0;g.style.width="280px";b=document.createElement("div");t({background:"#222423 url(https://s3.amazonaws.com/mibbit/blackpanel.png) no-repeat top left",border:"2px solid #888",borderRadius:"8px",MozBorderRadius:"8px",WebkitBorderRadius:"8px",padding:"4px",marginRight:"4px",marginTop:"4px",height:"60px",overflow:"hidden"},
b.style);b.id="statusbox";g.appendChild(b);g=document.createElement("img");g.id="connlogo";g.style.width="17px";g.style.height="17px";g.src="https://s3.amazonaws.com/mibbit/online-small.png";b.appendChild(g);b.appendChild(e);b.appendChild(document.createTextNode(" "));b.appendChild(f);b.appendChild(document.createElement("br"));b.appendChild(h);b.appendChild(document.createElement("br"));b.appendChild(k);k=a.insertCell(-1);k.vAlign="bottom";k.appendChild(d);d=document.body.clientWidth-450;468>d?(d=
320,k=50):728>d?(d=468,k=60):(d=970>d?728:970,k=90);if(w){var m=document.createElement("img");c.appendChild(m);c.style.width=d+"px";c.style.height=k+"px";c.style.overflow="hidden";t({border:"0",overflow:"hidden",margin:"0",width:d+"px",height:k+"px"},m.style);970==d?m.src="./gfx/banner970x90.png":728==d?m.src="./gfx/banner728x90.png":468==d?m.src="./gfx/banner468x60.png":320==d&&(m.src="./gfx/banner320x50.png")}else{if(970==d){m="NitroChat970x90";var n=[["728","90"],["970","90"]]}else 728==d?(m="NitroChat728x90",
n=[["728","90"]]):468==d?(m="NitroChat468x60",n=[["320","50"],["468","60"]]):320==d&&(m="NitroChat320x50",n=[["320","50"]]);e=document.getElementById(m);e||(e=document.createElement("div"),e.id=m,c.appendChild(e),c.style.width=d+"px",c.style.height=k+"px",c.style.overflow="hidden",t({border:"0",overflow:"hidden",margin:"0",width:d+"px",height:k+"px"},e.style),e.setAttribute("framespacing","0"),e.setAttribute("frameborder","no"),e.setAttribute("scrolling","no"),window.nitroAds.createAd(m,{refreshLimit:20,
refreshTime:60,renderVisibleOnly:!0,refreshVisibleOnly:!0,sizes:n}))}}Mb(M,"list"==M.Xa);M.C()}
function Oe(a){function b(cb,ta){var ua=document.createElement("option");ua.value=cb;ua.appendChild(document.createTextNode(ta));return ua}function c(cb,ta,ua){var Tb="block"!=ta.style.display;ta.style.display=Tb?"block":"none";cb.style.color=Tb?"#b51abf":"#444";try{Tb?ua&&ua.focus():cb.blur()}catch(bf){}return Tb}var d=Y,e=document.createElement("form");document.getElementById("ircconnectform2").appendChild(e);var f=document.createElement("div");t({width:"480px",margin:"auto",textAlign:"center"},
f.style);f.style.marginTop="16px";e.appendChild(f);var h=document.createElement("table");h.setAttribute("cellpadding","0");h.setAttribute("cellspacing","0");h.setAttribute("border","0");t({width:"100%",margin:"auto",fontFamily:"sans-serif",border:"2px solid #51661c",color:"#000",background:"#fff"},h.style);h.style.borderRadius="10px";h.style.MozBorderRadius="10px";h.style.WebkitBorderRadius="10px";h.style.padding="10px";f.appendChild(h);var k=h.insertRow(-1).insertCell(-1);t({textAlign:"center",background:"#ccc",
fontSize:"15px",color:"#51661c",fontWeight:"bold",borderRadius:"4px",MozBorderRadius:"4px",WebkitBorderRadius:"4px"},k.style);k.appendChild(document.createTextNode("IRC: "));if(d&&d.host){f=document.createElement("span");t({color:"#444",fontSize:"13px"},f.style);k.appendChild(f);var g=":"+(d.ssl?"+":"")+d.port;d.ssl||6667!=d.port||(g="");f.appendChild(document.createTextNode(d.host+g))}else{var l=document.createElement("select");k.appendChild(l)}f=document.createElement("span");k.appendChild(document.createTextNode(" "));
k.appendChild(f);f.style.fontSize="11px";f.style.color="#444";k=h.insertRow(-1).insertCell(-1);h=document.createElement("table");h.width="100%";h.setAttribute("cellspacing","2");h.setAttribute("border","0");h.setAttribute("cellpadding","2");k.appendChild(h);k=h.insertRow(-1).insertCell(-1);k.colSpan=6;if(!d||!d.host){f.firstChild&&f.appendChild(document.createTextNode(" | "));var m=document.createElement("span");t({fontSize:"11px",color:"#444",textDecoration:"underline",cursor:"pointer"},m.style);
m.appendChild(document.createTextNode("Server"));f.appendChild(m);var n=document.createElement("input");n.size=14;n.type="text";t({background:"#fff",padding:"2px",fontFamily:"Sans-Serif",fontSize:"13px",color:"#222",border:"1px solid #484",borderRadius:"4px",MozBorderRadius:"4px",WebkitBorderRadius:"4px"},n.style);n.value="";var r=Re(document.createTextNode("Server address:"),n,"Specify SSL with a '+' eg irc.mibbit.net:+6697");k.appendChild(r);m.onclick=function(){n.value="";l.disabled=c(m,r,n);return!1}}var u=
document.createElement("select");t({border:"1px solid #484",background:"white",fontFamily:"sansSerif",fontSize:"13px",color:"#222"},u.style);g=document.createElement("option");g.value="nickserv";g.appendChild(document.createTextNode("NickServ"));u.appendChild(g);g=document.createElement("option");g.value="pass";g.appendChild(document.createTextNode("Pass"));u.appendChild(g);g=document.createElement("option");g.value="auth";g.appendChild(document.createTextNode("Auth"));u.appendChild(g);g=document.createElement("option");
g.value="sasl-plain";g.appendChild(document.createTextNode("SASL PLAIN"));u.appendChild(g);g=document.createElement("option");g.value="sasl-dh-blowfish";g.appendChild(document.createTextNode("SASL BLOWFISH"));u.appendChild(g);var v=document.createElement("input");v.size=14;v.type="password";t({background:"#fff",padding:"2px",fontFamily:"Sans-Serif",fontSize:"13px",color:"#222",border:"1px solid #484",borderRadius:"4px",MozBorderRadius:"4px",WebkitBorderRadius:"4px"},v);v.value="";var z=Re(u,v);k.appendChild(z);
var B=document.createElement("span");t({fontSize:"11px",color:"#444",textDecoration:"underline",cursor:"pointer"},B.style);B.appendChild(document.createTextNode("Auth"));f.firstChild&&f.appendChild(document.createTextNode(" | "));f.appendChild(B);B.onclick=function(){c(B,z,v);return!1};d&&d.pass?(v.value=d.pass,c(B,z)):d&&d.needPass&&c(B,z);var E=document.createElement("select");t({border:"1px solid #484",background:"white",fontFamily:"sansSerif",fontSize:"13px",color:"#222"},E.style);for(var U=0;U<
rd.length;U++)g=rd[U],E.appendChild(b(g,g));var H=Re(document.createTextNode("Charset:"),E);k.appendChild(H);var I=document.createElement("span");t({fontSize:"11px",color:"#444",textDecoration:"underline",cursor:"pointer"},I.style);I.onclick=function(){c(I,H,E);return!1};I.appendChild(document.createTextNode("Charset"));f.firstChild&&f.appendChild(document.createTextNode(" | "));f.appendChild(I);d&&d.charset&&(E.value=d.charset,c(I,H));if(d){var S=document.createElement("input");t({border:"1px solid #484",
background:"white",fontFamily:"sansSerif",fontSize:"13px",color:"#222"},S.style);var Za=Re(document.createTextNode("Channel key:"),S);k.appendChild(Za);var Ja=document.createElement("span");t({fontSize:"11px",color:"#444",textDecoration:"underline",cursor:"pointer"},Ja.style);Ja.onclick=function(){c(Ja,Za,S);return!1};Ja.appendChild(document.createTextNode("Key"));f.firstChild&&f.appendChild(document.createTextNode(" | "));f.appendChild(Ja);d&&d.key?(S.value=d.key,c(Ja,Za,S)):d&&d.needKey&&c(Ja,Za,
S)}f=h.insertRow(-1);h=f.insertCell(-1);h.width="46";k=document.createElement("img");k.src="/gfx/irc_icon.png";k.width=46;k.height=45;h.appendChild(k);h=f.insertCell(-1);h.align="right";h.width="40";h.appendChild(document.createTextNode("Nick:"));h=f.insertCell(-1);var va=document.createElement("input");va.type="text";va.size=8;t({background:"#fff",padding:"2px",fontFamily:"Sans-Serif",fontSize:"13px",color:"#222",border:"1px solid #484",borderRadius:"4px",MozBorderRadius:"4px",WebkitBorderRadius:"4px"},
va.style);va.id="f_nick2";va.value=od();h.appendChild(va);d&&d.nick&&(va.value=d.nick);h=f.insertCell(-1);h.align="right";h.width="70";h.appendChild(document.createTextNode("Channel:"));h=f.insertCell(-1);if(d&&d.target)k=document.createElement("span"),t({color:"#888",fontWeight:"bold"},k.style),k.appendChild(document.createTextNode(d.target)),h.appendChild(k);else{var tb=document.createElement("input");tb.type="text";tb.size=8;t({background:"#fff",padding:"2px",fontFamily:"Sans-Serif",fontSize:"13px",
color:"#222",border:"1px solid #484",borderRadius:"4px",MozBorderRadius:"4px",WebkitBorderRadius:"4px"},tb.style);h.appendChild(tb)}f=f.insertCell(-1);h=document.createElement("input");h.type="submit";h.className="abutton";h.value="Go";f.appendChild(h);e.onsubmit=function(){return function(){try{var cb=d&&d.host?d.host+":"+(d.ssl?"+":"")+d.port:""==n.value?l.value:n.value;var ta=d&&d.target?d.target:tb.value;S&&S.value&&(ta+=" "+S.value);w&&x("irc.connect","Channel="+ta,J);jd(cb,va.value,v.value,
ta,u.value,E.value)}catch(ua){w&&x("irc.connect","exception "+ua,y)}a&&a();return!1}}()}
function Re(a,b,c){var d=document.createElement("div");t({display:"none",borderBottom:"1px solid #aaa"},d.style);var e=document.createElement("table");d.appendChild(e);e.width="100%";e.setAttribute("cellspacing","2");e.setAttribute("border","0");e.setAttribute("cellpadding","0");var f=e.insertRow(-1),h=f.insertCell(-1);h.align="right";h.width="50%";h.appendChild(a);a=f.insertCell(-1);a.align="left";a.appendChild(b);c&&(b=e.insertRow(-1).insertCell(-1),b.colSpan=2,b.align="center",e=document.createElement("span"),
t({fontSize:"11px",color:"#888"},e.style),e.appendChild(document.createTextNode(c)),b.appendChild(e));return d}function He(){var a=document.createElement("div");t({overflow:"hidden",position:"absolute",top:"24px",bottom:"8px",left:"8px",right:"8px"},a.style);var b=document.createElement("iframe");b.style.width="100%";b.style.height="100%";b.src="https://my.chat.mibbit.com/login";a.appendChild(b);ia(C,{element:a,closecb:function(){},initcb:function(){}})}
function Ie(){var a=document.createElement("div");t({overflow:"hidden",position:"absolute",top:"24px",bottom:"8px",left:"8px",right:"8px"},a.style);var b=document.createElement("iframe");b.style.width="100%";b.style.height="100%";b.src="https://my.chat.mibbit.com/signup";a.appendChild(b);ia(C,{element:a,closecb:function(){},initcb:function(){}})}
function Je(a){function b(d,e,f,h){var k=document.createElement("li");k.style.display="inline";d.appendChild(k);if(h){var g=document.createElement("a");g.href=h;g.target="_blank"}else g=document.createElement("span"),g.style.cursor="pointer";t({color:"#eee",textDecoration:"none",fontSize:"11px",fontWeight:"bold",fontFamily:"sans-serif"},g.style);f&&(g.onclick=function(){return function(){try{f(g)}catch(l){}return!1}}(g));g.appendChild(document.createTextNode(e));k.appendChild(g)}for(var c=document.getElementById("usermenu1");c.firstChild;)c.removeChild(c.firstChild);
a&&(b(c,D.get("Menu_Account"),Se),c.appendChild(document.createTextNode(" | ")),b(c,D.get("Menu_Prefs"),Te),c.appendChild(document.createTextNode(" | ")),b(c,D.get("Menu_Profile"),Ue),c.appendChild(document.createTextNode(" | ")),b(c,D.get("Menu_Channels"),Ve),c.appendChild(document.createTextNode(" | ")),b(c,D.get("Menu_Logs"),We))}
function Pe(){this.vf=!0;this.Hf=31536E7;this.kc=Ee;this.he=this.Db=!1;this.username=this.Od=this.uid=null;this.xf=!0;this.te=this.Rd=this.Je=this.Lc=this.Mc=null;window.setInterval(function(a){return function(){if(a.he){var b=new Date;b=new Date(b.getTime()+5E3);document.cookie="mc=1; path=/; domain="+ve+"; expires="+b.toUTCString();b=";"+document.cookie;var c=b.indexOf(";uid=");-1==c&&(c=b.indexOf(" uid="));if(-1!=c){var d=b.indexOf(";",c+5);c=unescape(b.substring(c+5,-1==d?b.length:d));a.oc||""==
c||a.Db||a.Db||(a.oc=!0,a.Mc&&a.Mc(!0),R.I({channel:"LoginManager",cmd:"continue",uid:c}))}else a.Db&&(w&&x("loginManager","Logout",J),Ge(a));c=b.indexOf(";cmd=");-1==c&&(c=b.indexOf(" cmd="));if(-1!=c)for(d=b.indexOf(";",c+5),b=decodeURIComponent(b.substring(c+5,-1==d?b.length:d)),document.cookie="cmd=; path=/; domain="+ve+"; expires="+(new Date).toUTCString(),b=ea(b),c=0;c<b.length;c++)if("connect"==b[c].cmd){d=b[c].addr;var e=b[c].channels,f=b[c].nick?b[c].nick:"",h=b[c].pass?b[c].pass:"",k=b[c].charset?
b[c].charset:"",g=b[c].authmethod?b[c].authmethod:"";if(Ud){var l=Ud.ircserverdetails;if(l)for(var m=0;m<l.length;m++)if(l[m].addr==d){""==f&&(f=l[m].nick);""==h&&(h=l[m].pass);""==g&&(g=l[m].authmethod);""==k&&(k=l[m].charset);break}}""==f&&(f=od(),V&&(f=V));""==k&&(k=F.defaultCharset);jd(d,f,h,e,g,k)}else"reload"==b[c].cmd&&(w&&x("loginManager","Requesting a reload... "+a.uid,J),!a.oc&&a.Od&&(d=a.Od,a.oc=!0,R.I({channel:"LoginManager",cmd:"loadprefs",settings:d})))}}}(this),500)}
Pe.prototype.Qc=function(){w&&x("loginManager","ONLINE",J);this.he=!0;var a={channel:"LoginManager",cmd:"guest",version:5003};a.uagent=navigator.userAgent;R.I(a)};
Pe.prototype.qb=function(a){try{if("loginreply"==a.cmd)if(this.oc=!1,this.Mc&&this.Mc(!1),"failure"==a.data){var b=new Date;document.cookie="uid=; expires="+b.toUTCString();document.cookie="uid=; expires="+b.toUTCString()+"; path=/";this.Lc&&this.Lc(!1,a.reason);this.kc&&this.kc(!1)}else{if("success"==a.data){this.Lc&&this.Lc(!0);b={};a.profile&&(b=ea(a.profile));var c={};a.account&&(c=ea(a.account));var d=a.uid,e=a.aid,f=a.username,h=a.prefs;this.Db=!0;this.uid=d;this.Od=e;this.username=f;this.a=
h;if(this.vf){var k=new Date;document.cookie="uid=; expires="+k.toUTCString();document.cookie="uid=; expires="+k.toUTCString()+"; path=/";document.cookie="uid=; expires="+k.toUTCString()+"; path=/; domain=.chat"+ve;k=new Date(k.getTime()+this.Hf);document.cookie="uid="+this.uid+(this.xf?"; expires="+k.toUTCString():"")+"; path=/; domain=.chat"+ve}this.kc&&this.kc(!0,e,f,h,b,c)}}else"chgusernamereply"==a.cmd?this.Je&&this.Je(a.success):"chgpasswordreply"==a.cmd?this.Rd&&this.Rd(a.success):"loggedout"==
a.cmd?Uc(this,!0):"settings"==a.cmd&&(this.oc=!1,this.te&&this.te(a.prefs))}catch(g){}};function Uc(a,b){a.Db=!1;a.vf&&b&&(b=new Date,document.cookie="uid=; expires="+b.toUTCString(),document.cookie="uid=; expires="+b.toUTCString()+"; path=/",document.cookie="uid=; expires="+b.toUTCString()+"; path=/; domain=.chat"+ve);a.kc&&a.kc(!1)}function Ge(a){a.Db&&R.I({channel:"LoginManager",cmd:"logout"})}function Le(){this.reset()}p=Le.prototype;
p.reset=function(){this.userListColorNormal="#444444";this.userListColorTyping="#ff0000";this.userListColorInactive="#888888";this.userListMenuColor="#444444";this.userListMenuBackground="#cccccc";this.userListMenuBackgroundHover="#ddddff";this.userGroupColor="#eee";this.userGroupBackground="#2c629a";this.userListHover="#bbbbbb";this.ulistPaneBorder="#666666";this.ulistPaneBackground="#dddddd";this.userListSelected="#aaaaaa";this.userListWidth=148;this.userListPadding=0;this.userListGroups=[{def:"chatting",
title:"Chatting",hideOnEmpty:!0,startHidden:!1},{def:"!chatting",title:"Idlers",hideOnEmpty:!0,startHidden:!1}];this.userListSort="chatting,owner,admin,op,halfop,voice,active";this.userListFontSize=13;this.userListFontFamily="Arial,Helvetica,sans-serif";this.userListMenuFontSize=11;this.userListMenuFontFamily="Arial,Helvetica,sans-serif";this.userGroupFontSize=13;this.userGroupFontFamily="Arial,Helvetica,sans-serif";this.userListMenuAutoCloseTime=3E3;this.doubleClickTime=400;this.userListBoldOnChat=
this.doubleClickToPM=!0;this.userListChattingTime=600;this.userListShowIcons=!0;this.userListIconWidth=this.userListIconHeight=16;this.userListShowPrefixChars=!1;this.userListModeIconWidth=this.userListModeIconHeight=16;this.userListShowModesLeft=this.userListShowSingleMode=!1;this.userListModeSpacing=2;this.iconModeOwner="https://s3.amazonaws.com/mibbit/gfx/mode_owner.png";this.iconModeAdmin="https://s3.amazonaws.com/mibbit/gfx/mode_admin.png";this.iconModeOp="https://s3.amazonaws.com/mibbit/gfx/mode_op.png";
this.iconModeHalfop="https://s3.amazonaws.com/mibbit/gfx/mode_halfop.png";this.iconModeVoice="https://s3.amazonaws.com/mibbit/gfx/mode_voice.png";this.ulicon_user="https://s3.amazonaws.com/mibbit/gfx/user.png";this.ulicon_mibbituser="https://s3.amazonaws.com/mibbit/gfx/user_green.png";this.ulicon_ignored="https://s3.amazonaws.com/mibbit/gfx/user_gray.png";this.ulicon_ipod="https://s3.amazonaws.com/mibbit/gfx/user_ipod.png";this.ulicon_iphone="https://s3.amazonaws.com/mibbit/gfx/user_iphone.png";this.ulicon_wii=
"https://s3.amazonaws.com/mibbit/gfx/user_wii.png";this.userListModeIconAlign=this.userListIconAlign="bottom";this.ulistPaneRounding=6;this.chatInputBarBorder="#666666";this.chatInputBarBackground="#dddddd url('https://s3.amazonaws.com/mibbit/gfx/grad1.png') repeat-x";this.chatInputColor="#000000";this.chatInputFontFamily="Arial,Helvetica,sans-serif";this.chatInputFontSize=15;this.chatInputBorder="#888888";this.chatInputBackground="#ffffff";this.chatInputSpacing=4;this.chatInputPadding=2;this.chatInputNickColor=
"#008800";this.needSendButton=this.chatInputShowNick=!1;this.sendButtonBorder="#666666";this.sendButtonBackground="#dddddd url('https://s3.amazonaws.com/mibbit/gfx/grad1.png') repeat-x";this.sendButtonColor="#000";this.showInputOptions=!0;this.colorInMenuSep="#0000aa";this.colorInMenu="#585858";this.colorInMenuActive="#000000";this.colorInLinks="#0000ff";this.colorInText="#000000";this.ioEmojis=this.ioMinify=this.ioPastebin=this.ioTranslation=this.ioColors=this.ioSmilies=!0;this.ioCustomMenus=[];
this.chatInputMenuFontFamily="Arial,Helvetica,sans-serif";this.chatInputMenuFontSize=11;this.chatInputRounding=6;this.chatInputTabSort="idle";this.chatOutputShowTimes=!0;this.timeBorderRight="#888888";this.timeBackground="#eeeeee";this.formatTime="%H:%M";this.timeFontFamily="Arial,Helvetica,sans-serif";this.timeFontSize=11;this.timeColor="#444444";this.chatOutputTimeWidth=30;this.formatDate="%a";this.chatOutputShowNicks=!0;this.nickBorderRight="#888888";this.nickBackground="#cccccc";this.chatOutputNickLeft=
"<";this.nickFontFamily="Arial,Helvetica,sans-serif";this.nickFontSize=11;this.nickColor="#0000ff";this.chatOutputNickWidth=110;this.chatOutputNickRight=">: ";this.nickColorMe="#224422";this.nickColorGuest="#008800";this.nickColorNotice="#a20814";this.nickVerticalAlign="middle";this.chatBackground="#ffffff";this.chatPaneBorder="#666666";this.chatPaneBackground="#ffffff";this.chatBackgroundHighlight="#ffffaa";this.chatFontFamily="Arial,Helvetica,sans-serif";this.chatFontSize=13;this.chatPaddingBottom=
this.chatPaddingTop=1;this.chatBackgroundLines="#eeeeee";this.chatOutputBackground="transparent";this.chatOutputRTL=!1;this.chatPaneRounding=0;this.infobarFontFamily="Arial,Helvetica,sans-serif";this.infobarFontSize=15;this.infobarPadding=3;this.infobarColor="#000";this.infobarBackground="transparent";this.infobarBorder="";this.infobarColorHighlight="#444";this.infobarBackgroundHighlight="#ccc";this.infobarBorderHighlight="#444";this.cgmMargins=6;this.extraContentPosition="middle";this.extraContentWidth=
400;this.hideULonEC=!0;this.chatOutputMaxLines=250;this.showMarkers=this.showChannelUsers=!0;this.noUListInChannels=!1;this.showChannelOptions=!0;this.tabColorServer="#5ecf96";this.tabColorChannel="#5e96cf";this.tabColorPM="#8c8c8c";this.tabBColorPM=this.tabBColorChannel=this.tabBColorServer="#aaaaaa";this.iconSmileysBase="https://s3.amazonaws.com/mibbit/gfx/smilies/";this.iconSmileysWidth=this.iconSmileysHeight=19;this.iconSmileys=[{code:":)",src:"yel02.png"},{code:":-)",src:"yel02.png"},{code:":(",
src:"yel36.png"},{code:":-(",src:"yel36.png"},{code:":D",src:"yel06.png"},{code:":-D",src:"yel06.png"},{code:":s",src:"yel07.png"},{code:":-s",src:"yel07.png"},{code:":/",src:"yel22.png"},{code:":-/",src:"yel22.png"},{code:":P",src:"yel40.png"},{code:":-P",src:"yel40.png"},{code:":p",src:"yel40.png"},{code:":-p",src:"yel40.png"},{code:":O",src:"yel54.png"},{code:":-O",src:"yel54.png"},{code:":o",src:"yel54.png"},{code:":-o",src:"yel54.png"},{code:";)",src:"yel08.png"},{code:";-)",src:"yel08.png"}];
this.colorChatMe=this.colorChat="#000000";this.colorEmoteMe=this.colorEmote="#cc4444";this.nickHighlight="#668866";this.nickHighlightMe="#44aa44";this.colorChatRecent="#888888";this.colorEmoteRecent="#ee8888";this.colorJoin="#008800";this.colorPart="#880000";this.colorBack="#66cc66";this.colorAway="#cc6666";this.colorKick="#880000";this.colorInvite="#6666cc";this.colorTopic="#000088";this.colorTopicWho="#008888";this.colorChangeNick="#888800";this.colorNotice=this.colorSystem="#880000";this.colorBan=
"#2222cc";this.colorUserMode="#666622";this.colorLinks="#0000ff";this.colorIRCLinks="#ff0000";this.colorChannels="#008800";this.parseSmilies=!0;this.sizeSmiliesToText=!1;this.parseTex=this.parseSimple=this.parseColor=this.parseNicks=this.parseLinks=this.parseChannels=!0;this.openLinksInExtra=!1;this.parseReplaceImages=!0;this.parseReplaceImagesHeight=this.parseReplaceImagesWidth=32;this.showAwaysBacks=this.showJoinsParts=this.parseGoogleViewer=this.parseEmbeds=!0;this.showPartInfo=this.showJoinInfo=
!1;this.showRecentChat=this.showCTCP=this.showMOTD=this.showUserModes=this.showBans=!0;this.waitingbackground="#222";this.waitingcolor="#ccc";this.waitingimage="https://s3.amazonaws.com/mibbit/gfx/loading.gif";this.customloading="Connecting to server...";this.promptbackground="#222";this.promptcolor="#ccc";this.promptimage="https://s3.amazonaws.com/mibbit/gfx/button_connect.png";this.customprompt="Chat Now";this.nickprompt="Choose a nickname";this.tabColorGeneral="#aaaaaa";this.tabColorYServer="#c0c0f3";
this.tabColorYChannel="#c0f3c0";this.tabBColorGeneral="#cccccc";this.tabBColorYServer="#c0c0f3";this.tabBColorYChannel="#c0f3c0";this.tabTextColor=this.tabBackgroundColor="#000000";this.tabTextColorInactive="#222222";this.tabTextColorActivityMe="#DEDE43";this.tabTextColorActivity="#f0f0f0";this.tabTextColorArrows="#aaaaaa";this.tabFontFamily="Arial,Helvetica,sans-serif";this.tabSpacing=4;this.tabPadding=3;this.tabFontSize=11;this.colorLinksWait="#aaaacc";this.useTabList=!1;this.tabListWidth=160;this.logChannels=
this.logPMs=this.ircNickClick=!1;this.confirmUnload=this.confirmServerClose=this.allowIncommingPMs=!0;this.autoAway=7200;this.autoAwayMessage="Auto away";this.blurPMs=this.focusNewJoins=this.autoBack=!0;this.windowAlertPeriod=500;this.windowAlertMaxFlashes=3;this.desktopNotifications=!1;this.errorsToActiveTab=this.noticesToActiveTab=!0;this.language="en";this.inputHistorySize=250;this.allowChatRemoval=!0;this.adScheme="mibbit";this.defaultCharset="UTF-8";this.showChannelTabUsers=!0;this.tabIndividualCloses=
!1;this.autoconnects=[];this.aliases=[{match:"/j",command:"/join $1-"},{match:"/cs",command:"/msg ChanServ $1-"},{match:"/ns",command:"/msg NickServ $1-"},{match:"/ms",command:"/msg MemoServ $1-"},{match:"/os",command:"/msg OperServ $1-"},{match:"/bs",command:"/msg BotServ $1-"},{match:"/voice",command:"/mode # +v $1"},{match:"/unvoice",command:"/mode # -v $1"},{match:"/devoice",command:"/mode # -v $1"},{match:"/ban",command:"/mode # +b $1"},{match:"/unban",command:"/mode # -b $1"},{match:"/deban",
command:"/mode # -b $1"},{match:"/op",command:"/mode # +o $1"},{match:"/unop",command:"/mode # -o $1"},{match:"/deop",command:"/mode # -o $1"},{match:"/halfop",command:"/mode # +h $1"},{match:"/unhalfop",command:"/mode # -h $1"},{match:"/dehalfop",command:"/mode # -h $1"},{match:"/admin",command:"/mode # +a $1"},{match:"/unadmin",command:"/mode # -a $1"},{match:"/deadmin",command:"/mode # -a $1"},{match:"/owner",command:"/mode # +q $1"},{match:"/unowner",command:"/mode # -q $1"},{match:"/deowner",
command:"/mode # -q $1"}];this.filters=[{reg:"\\bmibbiturl\\b",replacement:"http://chat.mibbit.com",replacein:!0,replaceout:!0,block:!1,cmd:"/splay http://static.mibbit.com/sounds/beep1 | /echo cool eh"}];this.usermenus=[{title:"PM",command:"/query $nick"},{title:"Whois",command:"/whois $nick"}];this.channelmenus=[];this.sounds={newpm:{sound:"https://s3.amazonaws.com/mibbit/sounds/ribbit",enabled:!1},ircdisconnect:{sound:"https://s3.amazonaws.com/mibbit/sounds/beep1",enabled:!1},mentionednick:{sound:"https://s3.amazonaws.com/mibbit/sounds/beep2",
enabled:!1},newmsg:{sound:"https://s3.amazonaws.com/mibbit/sounds/msg",enabled:!1},userjoin:{sound:"https://s3.amazonaws.com/mibbit/sounds/join",enabled:!1},userpart:{sound:"https://s3.amazonaws.com/mibbit/sounds/part",enabled:!1}};this.ciUserListColorNormal=this.ciUserIcon=!1};p.set=function(a,b){if(this.hasOwnProperty(a)&&"autoconnects"!=a.toLowerCase()){var c=typeof this[a];this[a]="number"==c?parseInt(b):"boolean"==c?!!b:b;this.save();return a+" SET"}return"Unknown preference ("+a+")"};
p.save=function(a){w&&x("UserPrefs","Saving prefs ("+q(this)+")");var b={},c;for(c in Ke)if(Ke.hasOwnProperty(c))if("autoconnects"==c)this.autoconnects&&0<this.autoconnects.length&&(b[c]=this[c]);else if("iconSmileys"==c||"aliases"==c||"usermenus"==c||"channelmenus"==c||"filters"==c||"userListGroups"==c){a:{var d=this[c];var e=Ke[c];if(d.length!=e.length)d=!1;else{for(var f=0;f<d.length;f++)for(var h in d[f])if(d[f].hasOwnProperty(h)&&e[f].hasOwnProperty(h)&&d[f][h]!==e[f][h]){d=!1;break a}d=!0}}d||
(b[c]=this[c])}else if("sounds"==c){d=!1;for(var k in this.sounds)if(this.sounds.hasOwnProperty(k)&&(this.sounds[k].enabled!=Ke.sounds[k].enabled||this.sounds[k].sound!=Ke.sounds[k].sound)){d=!0;break}d&&(b[c]=this[c])}else Ke[c]!=this[c]&&(b[c]=this[c]);w&&x("UserPrefs","Saving diff ("+q(b)+")");b=q(b);se.Db&&R.I({channel:"LoginManager",cmd:"prefs",prefs:b});a||Zd(this)};
p.load=function(a,b){try{w&&x("UserPrefs","Loading prefs ("+a+")",J);var c=ea(a);try{this.autoconnects=[];for(var d in c){var e=c[d];if("autoconnects"==d&&e)this.autoconnects=e,w&&x("UserPrefs","Loading autos ("+this.autoconnects+") "+this.autoconnects.length,J);else if("sounds"==d)t(e,this[d]);else if(this.hasOwnProperty(d)){if("true"==e||"false"==e)e="true"==e?!0:!1;this[d]=e}}}catch(f){w&&x("UserPrefs",f,y)}b||Zd(this)}catch(f){w&&x("UserPrefs",f,y)}};p.Kc=[];
p.addListener=function(a){w&&x("UserPrefs","ADD listener... ("+this.Kc.length+")",J);this.Kc.push(a)};function Zd(a,b){w&&x("UserPrefs","Telling listeners... ("+a.Kc.length+")",J);for(var c=0;c<a.Kc.length;c++)try{a.Kc[c](b)}catch(d){w&&x("UserPrefs",d,y)}}var Ke=new Le;
function Xe(a){this.s=a;this.document=a.ownerDocument;a.style.overflow="auto";a.style.textAlign="center";var b=this.document.createElement("div");b.style.width="100%";b.style.margin="auto";b.style.marginTop="10px";b.style.textAlign="center";b.style.fontSize="17px";b.style.color="#222";b.style.fontWeight="bold";b.appendChild(this.document.createTextNode("My Logs"));a.appendChild(b);b=this.document.createElement("iframe");var c=this.document.createElement("div");t({background:"white",margin:"auto",
textAlign:"center",position:"absolute",top:"90px",left:"16px",bottom:"16px",right:"16px",overflow:"hidden"},c.style);a.appendChild(c);c.appendChild(b);b.width="100%";b.height="100%";b.style.minHeight="100%";b.src="https://my.chat.mibbit.com/pmlogs"}
function Ye(a){this.s=a;this.document=a.ownerDocument;a.style.overflow="auto";a.style.textAlign="center";var b=this.document.createElement("h2");b.style.paddingTop="10px";b.appendChild(this.document.createTextNode("My Profile"));a.appendChild(b);b=this.document.createElement("form");b.style.textAlign="center";b.style.display="inline";b.onsubmit=function(){return!1};a.appendChild(b);var c=Ze(this);$e(this,c.insertRow(-1));af(this,c.insertRow(-1),"Age","age");af(this,c.insertRow(-1),"Sex","sex");af(this,
c.insertRow(-1),"Location","location");af(this,c.insertRow(-1),"Home page","homepage");af(this,c.insertRow(-1),"Pic URL","avatar");b.appendChild(c);c=this.document.createElement("input");c.type="submit";c.value="Save and close";c.style.marginTop="10px";c.className="abutton";c.onclick=function(){return function(){var d=ue;se.Db&&R.I({channel:"LoginManager",cmd:"profile",profile:d});Rb(M,".XProfile")}}(this);b.appendChild(c);b=this.document.createElement("div");b.style.paddingTop="10px";b.appendChild(this.document.createTextNode("This profile data is public and will be shown in a /whois."));
a.appendChild(b)}function Ze(a){a=a.document.createElement("table");a.setAttribute("border","0");a.setAttribute("cell-padding","0");a.setAttribute("cell-spacing","0");t({borderCollapse:"collapse",margin:"auto",fontFamily:"sans-serif",width:"480px",padding:"0px",background:"#888",border:"1px solid #444"},a.style);a.style.marginTop="4px";return a}
function $e(a,b){b=b.insertCell(-1);b.setAttribute("colspan","2");b.colSpan="2";t({width:"480px",padding:"1px",textAlign:"center",background:"#888",color:"#eee",fontWeight:"bold",border:"1px solid #444"},b.style);b.appendChild(a.document.createTextNode("General"))}
function af(a,b,c,d){var e={textAlign:"left",padding:"2px",border:"1px solid #888",background:"#ccc"},f=b.insertCell(-1);t(e,f.style);f.style.textAlign="right";f.appendChild(a.document.createTextNode(c));var h=a.document.createElement("input");t({type:"text",size:"24",value:"undefined"==typeof ue[d]?"":ue[d]},h);h.onkeyup=function(){return function(){ue[d]=h.value}}(a);a=b.insertCell(-1);t(e,a.style);a.appendChild(h)}
function Ne(a){t({background:F.tabColorGeneral,border:"0",fontSize:"13px",position:"absolute",textAlign:"left",overflow:"auto"},a.style);var b=0,c=Xb,d=Yb;!O&&F.useTabList&&(b=F.tabListWidth);a.style.top=c+"px";a.style.bottom=d+"px";a.style.left=b+"px";a.style.right="0px";if(O){var e=function(f){return function(){f.style.width=document.body.clientWidth-parseInt(f.style.left)-parseInt(f.style.right)+"px";f.style.height=document.body.clientHeight-parseInt(f.style.top)-parseInt(f.style.bottom)+"px"}}(a);
window.attachEvent?window.attachEvent("onresize",e):window.addEventListener("resize",e,!1);window.setTimeout(e,100)}return O?function(){window.detachEvent?window.detachEvent("onresize",e):window.removeEventListener("resize",e,!1);return!0}:null}
function Me(a,b,c,d,e){try{var f=M;if(f.l[a]){Ob(f);f.l[a].open();var h=!0}else h=!1;if(!h){var k=document.getElementById("chats"),g=document.createElement("div"),l=Ne(g);k.appendChild(g);e||(e={});e.background=F.tabColorGeneral;e.border=F.tabBColorGeneral;g.style.background=F.tabColorGeneral;Ub(a,g,b,c,null,l,e,!1,d);return g}}catch(m){w&&x("showUserTab","e="+m)}}
function Ve(){var a=Me(".XChannels","Channels","Channels",!0,null);if(a){var b=a.ownerDocument.createElement("div");t({position:"absolute",top:"8px",bottom:"8px",left:"8px",right:"8px",overflow:"hidden"},b.style);a.appendChild(b);a=a.ownerDocument.createElement("iframe");a.style.width="100%";a.style.height="100%";a.style.minHeight="100%";b.appendChild(a);a.src="https://my.chat.mibbit.com/mychannels"}}
function Te(){var a=Me(".XPrefs","Prefs","Preferences",!0,{Ic:16,Ub:16,icon:"https://s3.amazonaws.com/mibbit/gfx/wrench.png"});if(a){var b=a.ownerDocument.createElement("div");t({position:"absolute",top:"8px",bottom:"8px",left:"8px",right:"8px",overflow:"hidden"},b.style);a.appendChild(b);a=a.ownerDocument.createElement("iframe");a.style.width="100%";a.style.height="100%";a.style.minHeight="100%";b.appendChild(a);a.src="https://my.chat.mibbit.com/myprefs"}}
function Ue(){var a=Me(".XProfile","Profile","Profile",!0,{Ic:16,Ub:16,icon:"https://s3.amazonaws.com/mibbit/gfx/user_green.png"});a&&new Ye(a)}
function Se(){var a=Me(".XAccount","Account","Account",!0,null);if(a){var b=a.ownerDocument.createElement("div");t({position:"absolute",top:"8px",bottom:"8px",left:"8px",right:"8px",overflow:"hidden"},b.style);a.appendChild(b);a=a.ownerDocument.createElement("iframe");a.style.width="100%";a.style.height="100%";a.style.minHeight="100%";b.appendChild(a);a.src="https://my.chat.mibbit.com/myaccount"}}function We(){var a=Me(".XLogs","Logs","Logs",!0);a&&new Xe(a)};
