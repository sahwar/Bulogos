webpackJsonp([1],{1e3:function(t,e){t.exports='<% if (data.comment_count === 1) { %>\n  <span class="c-comments__count">There is&nbsp;<span><%= data.comment_count %></span>&nbsp;comment.</span>\n<% } else { %>\n  <span class="c-comments__count">There are&nbsp;<span><%= data.comment_count %></span>&nbsp;comments.</span>\n<% } %>\n<% if (data.fn.settings.isAllowedToPost()) { %>\n  <span class="c-comments__count p-counter-link"><a href="#post-new-comment">Add yours</a></span>\n<% } %>\n<% if (data.fn.settings.isAllowedToPost()) { %>\n  <button type="button" class="c-comments__settings-button" data-ui="settings">Tips + Settings</button>\n  <div class="c-comments__settings">\n    <div class="u-hide-on-touch c-comments__settings-wrap">\n      <div>Shortcuts to mastering the comment thread. Use wisely.</div>\n      <ul class="c-comments__settings-list">\n        <li><em>C</em> - Next Comment</li>\n        <li><em>X</em> - Mark as Read</li>\n        <li><em>Z</em> - Mark Read &amp; Next</li>\n      </ul>\n      <ul class="c-comments__settings-list">\n        <li><em>R</em> - Reply</li>\n        <li><em>F</em> - Fold Comment</li>\n      </ul>\n      <ul class="c-comments__settings-list">\n        <li><em>Shift</em> + <em>C</em> - Previous</li>\n        <li><em>Shift</em> + <em>A</em> - Mark All Read</li>\n      </ul>\n    </div>\n    <label><input type="checkbox" data-ui="updates"> Fetch New comments</label>\n    <label><input type="checkbox" data-ui="alerts"> Enable Live comment alerts</label>\n  </div>\n  <% if (data.comment_prompt) { %>\n    <div class="c-comments__prompt"><%= data.comment_prompt %></div>\n  <% } %>\n<% } %>\n'},1001:function(t,e){t.exports="<style>\n/* Inline icon fonts styles to load them with the comments javascript payload. */\n/**\n To update this payload:\n - Upload the assets/icons/fontello-config.json to Fontello.\n - Make adjustments using Fontello, then download the updated font.\n - Base64 WOFF and TTF files using https://www.giftofspeed.com/base64-encoder/\n - Please don't forget to update the repo with your new Fontello config!\n*/\n@font-face {\n  font-family: 'unison-comments';\n  src: url('data:application/octet-stream;base64,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') format('woff'),\n       url('data:application/octet-stream;base64,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') format('truetype');\n}\n.icon-admin:before { content: '\\2699'; } /* '\u2699' */\n.icon-ban:before { content: '\\26a0'; } /* '\u26a0' */\n.icon-delete:before { content: '\\2421'; } /* '\u2421' */\n.icon-edit:before { content: '\\270e'; } /* '\u270e' */\n.icon-flag:before { content: '\\2691'; } /* '\u2691' */\n.icon-hide:before { content: '\\26d4'; } /* '\u26d4' */\n.icon-rec:before { content: '\\22c6'; } /* '\u22c6' */\n.icon-reply:before { content: '\\21a9'; } /* '\u21a9' */\n.icon-toggle:before { content: '\\25bc'; } /* '\u25bc' */\n.icon-up:before { content: '\\2b06'; } /* '\u2b06' */\n.icon-user:before { content: '\\e80b'; } /* '\ue80b' */\n</style>\n"},1002:function(t,e){t.exports='<a href="#comments">Top of comments</a>\n'},1003:function(t,e){t.exports='<div>Something to say?</div>\n<button type="button" data-ui="login">Log in</button> or <button type="button" data-ui="signup">sign up</button>\n'},1004:function(t,e){t.exports='<button class="refresh"><svg><use xlink:href="#icon-refresh"></use></svg></button>\n<button class="next">Next unread</button>\n<button class="mark">Unmark all</button>\n<button class="close"><svg><use xlink:href="#icon-close"></use></svg></button>\n'},1005:function(t,e){t.exports='<h4 class="c-comments__message">There was an error loading the comments.</h4>\n<pre><code><%= data.response %></code></pre>\n<button class="p-button try_again">Try Again</button>\n'},102:function(t,e,n){"use strict";var s=n(1),i=n.n(s),a=n(3),A=n(0),o=n.n(A),r=n(90);o.a.easing.comments=function(t,e,n,s,i){return(e/=i/2)<1?s/2*e*e+n:-s/2*(--e*(e-2)-1)+n};var l=a.a.debounce(function(){a.a.get(window,"twttr.widgets.load",o.a.noop)()},100),c=i.a.View.extend({className:"c-comments__list",events:{"click .spoiler":"onSpoiler","click [data-ui]":"onCommentUi"},initialize:function(t){this.app=t.app,this.views={},this.listenTo(this.app.comments,"reset",this.render),this.listenTo(this.app.comments,"reorder",this.renderOrder),this.listenTo(this.app.comments,"add",this.renderAdd),this.listenTo(this.app.comments,"remove",this.renderRemove),this.listenTo(this.app,"change:selection_id",this.onSelect),this.listenTo(this.app,"update",this.onUpdate),this.scrollOffset=o()(".c-app-nav, .c-global-header.is-sticky").first().height()+40},hasView:function(t){return this.views.hasOwnProperty(t)},render:function(){var t=this;this.views={};var e=this,n=e.app.comments.models,s=n.length;this.el.children.length&&this.$el.html("");var a=function t(a,A){for(var o=new Array(Math.min(A,s-a)),c=a,d=0;c<s;c++,d++){var m=n[c],u=e.views[m.cid]=new r.a({model:m,app:e.app});o[d]=u.render()}e.$el.append(o),c<s?requestAnimationFrame(function(){return t(c,A)}):requestAnimationFrame(function(){i.a.trigger("CommentsViewReady"),l()})};return requestAnimationFrame(function(){return a(0,t.app.settings.get("render_chunk_length"))}),this.$el},renderOrder:function(){var t=this,e=this.el.style.display;return this.el.style.display="none",this.app.comments.models.forEach(function(e){if(t.hasView(e.cid)){var n=t.views[e.cid];n.$el.detach(),t.$el.append(n.$el)}}),this.el.style.display=e,this.$el},renderAdd:function(t){if(!this.hasView(t.cid)){t.applyFold();for(var e,n=this.views[t.cid]=new r.a({model:t,app:this.app}),s=this.app.comments.models,i=s.indexOf(t)+1;!e&&i<s.length;)e=this.views[s[i++].cid];e?e.$el.before(n.render()):this.$el.append(n.render()),l()}},renderRemove:function(t){this.hasView(t.cid)&&(this.views[t.cid].remove(),delete this.views[t.cid])},onSelect:function(){var t=this.app.selection();if(t&&this.hasView(t.cid)){var e=this.views[t.cid].$el.offset().top-this.scrollOffset-.3*window.innerHeight;o()("html,body").stop().animate({scrollTop:e},{duration:300,easing:"comments"})}},onUpdate:function(){var t=this;this.app.comments.models.forEach(function(e){e.isFold()&&t.hasView(e.cid)&&t.views[e.cid].renderReplyCounts()})},onSpoiler:function(t){o()(t.currentTarget).toggleClass("spoiler-reveal")},onCommentUi:function(t){var e=o()(t.currentTarget),n=e.closest(".c-comments__comment");if(n.length){var s=n.data("view");if(this.hasView(s)){var i=r.a.prototype.actions[e.data("ui")];"function"===typeof this.views[s][i]&&this.views[s][i](t)}}}});e.a=c},103:function(t,e){t.exports='<form>\n\n  <div class="c-comments__form-preview-buttons">\n    <% if (data.comment.isNew()) { %>\n      <input class="p-button" type="submit" value="Post" data-ui="save">\n    <% } %>\n    <input class="p-button" type="button" value="Cancel" data-ui="cancel">\n  </div>\n\n  <label for="comment_text">\n  <% if (data.comment.isReply()) { %>\n    Post a reply\n  <% } else if (!data.comment.isNew()) { %>\n    Edit comment\n  <% } else { %>\n    Post a new comment\n  <% } %>\n  </label>\n  <% if (data.settings.get(\'enable_titles\')) { %>\n    <div><input class="c-comments__form-input p-text-input" type="text" name="title" value="<%= data.fn.formatTitleForInput(data.comment.get(\'editTitle\')) %>" placeholder="Subject"></div>\n  <% } %>\n  <div class="c-comments__form-buttons">\n    <button aria-label="bold" class="c-comments__form-button" type="button" data-ui-markup="bold" tabindex="-1">\n      <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-bold"></use></svg>\n    </button>\n    <button aria-label="italic" class="c-comments__form-button" type="button" data-ui-markup="italic" tabindex="-1">\n      <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-italic"></use></svg>\n    </button>\n    <button aria-label="strike through" class="c-comments__form-button" type="button" data-ui-markup="strike" tabindex="-1">\n      <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-strikeout"></use></svg>\n    </button>\n    <button aria-label="blockquote" class="c-comments__form-button" type="button" data-ui-markup="quote" tabindex="-1">\n      <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-quote"></use></svg>\n    </button>\n    <button aria-label="unordered list" class="c-comments__form-button" type="button" data-ui-markup="ul" tabindex="-1">\n      <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-list"></use></svg>\n    </button>\n    <button aria-label="orderd list" class="c-comments__form-button" type="button" data-ui-markup="ol" tabindex="-1">\n      <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-orderedlist"></use></svg>\n    </button>\n\n    <% if (!data.settings.isProvisional()) { %>\n      <% if (data.settings.get(\'enable_images\')) { %>\n        <button aria-label="image" class="c-comments__form-button" type="button" data-ui-markup="img" tabindex="-1">\n          <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-image"></use></svg>\n        </button>\n      <% } %>\n      <button aria-label="link" class="c-comments__form-button" type="button" data-ui-markup="a" tabindex="-1">\n        <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-link"></use></svg>\n      </button>\n    <% } %>\n    <button aria-label="spoiler" class="c-comments__form-button" type="button" data-ui-markup="spoiler" tabindex="-1">\n      <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-spoiler"></use></svg>\n    </button>\n\n    <% if (data.settings.get(\'enable_emoji\') && !data.settings.isProvisional()) { %>\n      <span class="c-comments__emoji">\n        <button aria-label="smile" class="c-comments__form-button" type="button" data-ui="emoji" data-ui-emoji=":smile:" tabindex="-1">\n          <svg class="p-svg-icon" focusable="false"><use xlink:href="#icon-emoji"></use></svg>\n        </button>\n      </span>\n    <% } %>\n  </div>\n  <% if (data.settings.isProvisional()) { %>\n    <em class="c-comments__provisional">As a new commenter, you may not post links or images.</em>\n  <% } %>\n  <div><textarea class="p-textarea" id="comment_text" name="body"><%= data.comment.get(\'editBody\') %></textarea></div>\n  <div class="form-error" data-ui="error"></div>\n  <div>\n  <% if (data.comment.isNew() && data.settings.isProvisional()) { %>\n    <div class="recaptcha"></div>\n  <% } %>\n  <% if (!data.comment.isNew()) { %>\n    <input class="p-button" type="submit" value="Save" data-ui="save">\n  <% } else { %>\n    <input class="p-button" type="submit" value="Preview" data-ui="preview">\n    <input class="p-button" type="submit" value="Post" data-ui="save">\n  <% } %>\n  <input class="p-button" type="button" value="Cancel" data-ui="cancel">\n  </div>\n</form>\n'},104:function(t,e){t.exports='<div class="c-comments__form-buttons">\n  <label>Source URL: <input type="text" class="c-comments__form-input p-text-input" name="url" placeholder="https://" value=""></label>\n</div>\n<div>\n  <input class="p-button" type="submit" value="Insert">\n</div>\n'},105:function(t,e){t.exports='<span class="c-comments__emoji-grid" style="width:<%= data.pixelWidth %>px;height:<%= data.pixelHeight %>px;">\n<% data.emoji.forEach(function(emoji) { %>\n  <img src="https://fonts.voxmedia.com/emoji/<%= emoji.path %>" data-ui-emoji=":<%= emoji.slug %>:" class="emoji">\n<% }) %>\n</span>\n<% if (data.pagination) { %>\n  <button type="button" data-ui-page="-1">\n    <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-left"></use></svg>\n  </button>\n  <button type="button" data-ui-page="1">\n    <svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-right"></use></svg>\n  </button>\n<% } %>\n'},106:function(t,e){t.exports='<h1>Flag Comment</h1>\n<form>\n  <div>\n    <label for="comments-flag">Type:</label>\n    <select id="comments-flag">\n      <% data.flag_options.forEach(function(option) { %>\n        <option value="<%= option.id %>"><%= option.title %></option>\n      <% }) %>\n    </select>\n  </div>\n  <div>\n    <label for="comments-flag-comment">Notes:</label>\n    <textarea id="comments-flag-comment"></textarea>\n  </div>\n  <p class="c-comments__formnote"><%= data.flag_copy %></p>\n  <button class="p-button" id="comments-flag-submit">Submit</button>\n</form>\n'},107:function(t,e){t.exports='<h1>Flags For...</h1>\n<% if (data.title) { %>\n  <div><i><%= data.title %></i></div>\n<% } %>\n<table>\n  <thead>\n    <tr>\n      <th>Type</th>\n      <th>Timestamp</th>\n      <th>Member</th>\n      <th>Reason</th>\n    </tr>\n  </thead>\n  <tbody>\n    <% data.flags.forEach(function(flag) { %>\n      <tr>\n        <td><%= flag.type %></td>\n        <td><%= data.time.absolute(flag.timestamp) %></td>\n        <td><a href="<%= flag.user_url %>"><%= flag.user_name %></a></td>\n        <td><%= flag.reason %></td>\n      </tr>\n    <% }) %>\n  </tbody>\n</table>\n'},108:function(t,e){t.exports='<% if (data.settings.enable_titles) { %>\n  <div class="c-comments__header-subject">\n    <%= data.fn.view.renderAvatar(data, \'titled\') %>\n    <h4 class="c-comments__header-titled" data-ui="fold">\n      <% if (!data.fn.comment.isNew()) { %>\n        <button class="c-comments__folder icon-toggle titled"><span>\u25bc</span></button>\n      <% } %>\n      <span data-ui="title"><%= data.title || \'\' %></span>\n      <span class="c-comments__replies" data-ui="replies"></span>\n    </h4>\n  </div>\n<% } else { %>\n  <div class="c-comments__header-author">\n    <% if (!data.fn.comment.isNew()) { %>\n      <button class="c-comments__folder icon-toggle author" data-ui="fold"><span>\u25bc</span></button>\n    <% } %>\n    <%= data.fn.view.renderAvatar(data, \'author\') %>\n    <span class="c-comments__author">\n      <%= data.fn.view.renderProfileLink(data) %>\n      <% if (data.settings.enable_badge_title && data.fn.comment.authorTitle() != \'\') { %>\n        <span class="c-comments__author-meta">\n          <% if (data.settings.enable_flair) { %>\n            <svg class="p-svg-icon c-comments__author-flair"><use xlink:href="#icon-comment-flair"></use></svg>\n          <% } %>\n          <span class="c-comments__author-title">\n            <%= data.fn.comment.authorTitle() %>\n          </span>\n        </span>\n      <% } %>\n    </span>\n    <span class="c-comments__replies" data-ui="replies"></span>\n  </div>\n<% } %>\n\n<div class="c-comments__cbody">\n  <%= data.body %>\n</div>\n\n<% if (data.settings.show_signatures && data.signature) { %>\n  <div class="c-comments__signature"><%= data.signature %></div>\n<% } %>\n\n<div class="c-comments__post-actions u-clearfix">\n  <span class="c-comments__date">\n    Posted&nbsp;\n    <% if (data.settings.enable_titles) { %>\n      by&nbsp;<%= data.fn.view.renderProfileLink(data) %>&nbsp;\n    <% } %>\n    <% if (data.created_on_long) { %>\n      on&nbsp;<a href="#<%= data.id %>" data-ui="timestamp"><%= data.created_on_long %></a>\n    <% } %>\n  </span>\n<% if (data.fn.settings.isAllowedToPost() && !data.fn.comment.isNew()) { %>\n  <span class="c-comments__actions">\n  <% if (data.parent_id) { %>\n    <button class="icon-up c-comments__up-link" data-ui="up">up</button>\n  <% } %>\n  <% if (data.fn.settings.isAllowedToPost()) { %>\n    <button class="icon-reply c-comments__reply-link" data-ui="reply"><span>reply</span></button>\n  <% } %>\n  <% if (data.fn.comment.isEditable()) { %>\n    <button class="icon-edit c-comments__edit-link" data-ui="edit">\n      <span>edit</span> <span data-ui="countdown"></span>\n    </button>\n  <% } %>\n\n  <% if (!data.fn.comment.isByUser()) { %>\n    <% if (!data.is_flagged_by_user) { %>\n      <button class="icon-rec c-comments__rec-link <%= data.is_recommended_by_user ? \'c-comments__user-recommended\' : \'\' %>" data-ui="rec">\n        <span><%= data.is_recommended_by_user ? \'unrec\' : \'rec\' %></span>\n        <% if (data.recommended_flags_count > 0) { %>\n          <span class="c-comments__rec-count">\n            (<%= data.recommended_flags_count %>)\n          </span>\n        <% } %>\n      </button>\n    <% } %>\n    <% if (!data.is_recommended_by_user) { %>\n      <button data-ui="flag" class="icon-flag c-comments__flag_link <%= data.is_flagged_by_user ? \'c-comments__user-flagged\' : \'\' %>">\n        <span><%= data.is_flagged_by_user ? \'unflag\' : \'flag\' %></span>\n      </button>\n      <% if (data.settings.able_to_moderate && data.bad_flags_count > 0) { %>\n        <button data-ui="flags" class="c-comments__inspect-flags-link">\n          <span>inspect flags (<%= data.bad_flags_count %>)</span>\n        </button>\n      <% } %>\n    <% } %>\n  <% } else if (data.recommended_flags_count > 0) { %>\n      <button disabled class="icon-rec c-comments__rec-link">\n        <span>recs</span>\n        <span class="c-comments__rec-count">(<%= data.recommended_flags_count %>)</span>\n      </button>\n  <% } %>\n  </span>\n<% } %>\n</div>\n<% if (data.settings.able_to_moderate && !data.fn.comment.isNew()) { %>\n  <div class="c-comments__post-actions">\n    <button data-ui="moderate" class="icon-admin c-comments__moderation-toggle"></button>\n    <span class="c-comments__moderation-actions">\n      <button data-ui="ban" class="icon-ban c-comments__block-user-link">spam ban</button>\n      <button data-ui="delete" class="icon-delete c-comments__delete-link">delete</button>\n      <button data-ui="hide" class="icon-hide c-comments__hide-link"><%= data.hidden ? \'unhide\' : \'hide\' %></button>\n      <a href="<%= data.user.account_url %>" class="icon-user c-comments__inspect-user-link" target="_blank">inspect user</a>\n    </span>\n  </div>\n<% } %>\n<% if (data.fn.comment.isEditable()) { %>\n  <div class="c-comments__edit-timer" data-ui="timer" style="width:<%= data.fn.comment.editTimeRemainingPerc() %>%;"></div>\n<% } %>\n'},114:function(t,e,n){"use strict";function s(t){this.app=t,this.enable()}function i(t){t.settings.on("change:display_format",function(){if(t.settings.isLoggedIn()){var e="fullwidth"===t.settings.get("display_format");m()("#comments-sidebar").toggleClass("c-comments-fullwidth",e).siblings(".l-col__main").toggleClass("c-comments-fullwidth",e)}})}function a(t){var e=this;this.app=t,this.app.on("update",function(n){if(n.length&&e.app.settings.alertsEnabled()){new w({app:t,comments:n}).render().appendTo("body")}})}function A(t,e){var n=this;if(window.unison_comments_app)throw"multiple instances of comments app";window.unison_comments_app=this,this.el=t,this.$el=m()(t),this.model=new c.a(e),this.model.once("load",function(){r.a.once("CommentsViewReady",function(){e.selection&&n.model.selection(e.selection),e.launchKey&&n.keys.exec(e.launchKey)}),n.build()}),this.model.on("loadError",this.handleLoadError,this),this.keys=new u(this.model),this.fullwidth=new h(this.model),this.notice=new v(this.model),l.a.isMobile()||this.load(),this.build()}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n.n(o),l=n(5),c=n(45),d=n(0),m=n.n(d);s.prototype={ns:"keydown.comments",ignore:/textarea|input/i,ACTIONS:{65:{key:"a",shift:!0},67:{key:"c",solo:!0,shift:!0},70:{key:"f",solo:!0},74:{key:"j",solo:!0},75:{key:"k",solo:!0},82:{key:"r",solo:!0},88:{key:"x",solo:!0},90:{key:"z",solo:!0}},enable:function(){var t=this;return this.disable().on(this.ns,function(e){var n=t.ACTIONS[String(e.which)];if(n&&!e.ctrlKey&&!e.metaKey){if(!t.ignore.test(document.activeElement.tagName)){if(n.shift&&e.shiftKey)return t.exec("shift_"+n.key);if(n.solo)return t.exec(n.key)}}})},disable:function(){return m()(document).off(this.ns)},exec:function(t){var e=this.app.selection();switch(t){case"j":case"c":return this.app.selectNext();case"k":case"shift_c":return this.app.selectPrev();case"shift_a":return this.app.comments.markAllAsRead();case"x":return e&&e.markAsRead();case"r":return e&&e.reply();case"f":return e&&e.toggleFold();case"z":return e&&e.markAsRead(),this.app.selectNext({unread:!0})}}};var u=s,h=i,p=n(17),g=n(10),f=n(998),_=n.n(f),b=r.a.View.extend({template:Object(g.a)(_.a),className:"c-comments__new-notification",initialize:function(t){this.app=t.app,this.comments=t.comments.slice(0,this.app.settings.get("auto_update_alert_list_count"))},render:function(){var t=this,e=this.template({comments:this.comments});return requestAnimationFrame(function(){t.$el.css("opacity",1),t._t=setTimeout(function(){return t.hide()},t.app.settings.get("auto_update_alert_duration"))}),this.$el.html(e)},hide:function(){var t=this;clearTimeout(this._t),requestAnimationFrame(function(){t.$el.on(p.a,function(){return t.remove()}).css("opacity",0)})},events:{"click [data-comment]":"onComment"},onComment:function(t){t.preventDefault();var e=m()(t.currentTarget).attr("data-comment"),n=this.app.comments.get(Number(e));n&&this.app.selection(n)}}),w=b,v=a,B=n(59),y=n(999),C=n.n(y),E=r.a.View.extend({template:Object(g.a)(C.a),className:"c-comments__header",initialize:function(t){this.app=t.app,this.listenTo(this.app.stats,"change:comment_count",this.render)},wait:function(){return'<div class="p-loader">Loading...</div>'},render:function(){var t=this.app.stats.get("comment_count");return this.$el.html(this.template({comment_count:"number"===typeof t?t:this.wait(),wait:this.wait(),app:this.app}))},events:{'click [data-ui="load"]':"onLoad"},onLoad:function(t){var e=this;t.preventDefault(),this.$('[data-ui="load"]').replaceWith(this.wait()),this.app.load().fail(function(){e.render()})}}),I=E,L=n(1e3),Q=n.n(L),F=r.a.View.extend({template:Object(g.a)(Q.a),className:"c-comments__header",initialize:function(t){this.app=t.app,this.listenTo(this.app.comments,"add remove",this.render),this.listenTo(this.app.stats,"change:comment_count",this.render)},render:function(){return this.$el.html(this.template({comment_count:this.app.stats.get("comment_count"),comment_prompt:this.app.settings.get("comment_prompt"),fn:{settings:this.app.settings}})),this.$('[data-ui="updates"]').prop("checked",this.app.settings.updatesEnabled()),this.$('[data-ui="alerts"]').prop("checked",this.app.settings.alertsEnabled()),l.a.isTouch()&&this.$(".u-hide-on-touch").hide(),this.$el},events:{'click [data-ui="settings"]':"onSettings",'change [data-ui="updates"]':"onUpdateChange",'change [data-ui="alerts"]':"onAlertsChange"},onSettings:function(t){this.$(t.target).toggleClass("open")},onAlertsChange:function(t){this.app.settings.alertsEnabled(this.$(t.currentTarget).prop("checked"))},onUpdateChange:function(t){var e=this.$(t.currentTarget).prop("checked");e&&l.a.isMobile()&&((e=confirm("Auto-updating comments can require a lot of data, and can deplete your battery. Standard charges may apply. \n\n Continue?"))||this.$('[data-ui="updates"]').prop("checked",!1)),this.app.settings.updatesEnabled(e)}}),k=F,D=n(102),x=r.a.View.extend({el:n(1001)}),Y=x,G=n(1002),U=n.n(G),R=r.a.View.extend({template:Object(g.a)(U.a),rendered:!1,initialize:function(t){this.app=t.app,this.render(),this.canRender()||this.listenTo(this.app.comments,"add",this.render)},render:function(){if(!this.rendered&&this.canRender())return this.$el.attr("class","c-comments__back-to-top"),this.$el.html(this.template()),this.rendered=!0,this.$el},canRender:function(){return this.app.comments.length>=5}}),M=R,N=n(2),W=n(1003),j=n.n(W),T=r.a.View.extend({className:"c-comments__message",render:function(){return this.$el.html(j.a)},events:{"click [data-ui]":"onAuth"},onAuth:function(t){t.preventDefault(),N.b.get("apps/auth").open({action:this.$(t.target).data("ui")})}}),S=T,J=n(99),P=r.a.View.extend({className:"c-comments__message",initialize:function(t){this.app=t.app},render:function(){return this.$el.html(this.app.settings.get("messaging")||"Comments are closed for this post.")}}),Z=P,K=n(1004),V=n.n(K),O=r.a.View.extend({className:"c-comments__touch-tools",id:"comments-touch-tools",initialize:function(t){this.app=t.app,this.$el.html(V.a)},events:{"click .refresh":"refreshClick","click .next":"nextClick","click .mark":"markAllClick","click .close":"closeClick"},hide:function(){this.$el.hide()},show:function(){this.$el.show()},refreshClick:function(){this.app.load()},nextClick:function(){var t=this.app.selection();t&&t.markAsRead(),this.app.selectNext({unread:!0})},markAllClick:function(){this.app.comments.markAllAsRead()},closeClick:function(){this.$el.remove()}}),H=O,z=n(1005),q=n.n(z),X=r.a.View.extend({template:Object(g.a)(q.a),className:"c-comments__load-error",initialize:function(t){this.app=t.app,this.errorResponse=t.errorResponse},render:function(){this.$el.html(this.template({response:this.errorResponse}))},events:{"click .try_again":"reload"},reload:function(){this.app.load({force:!0})}}),$=X;A.prototype={load:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.model.load(t)},build:function(){var t=this.model;if(B.a.loadTwitter(!0),!this.model.isLoaded())return this.render([new I({app:this.model})]);var e=[new Y,new k({app:t}),new D.a({app:t})];if(t.settings.isLoggedIn()?t.settings.isAllowedToPost()?e.push(new J.a({app:t,model:t.comments.build()})):e.push(new Z({app:t})):e.push(new S({app:t})),e.push(new M({app:t})),l.a.isTouch()&&t.settings.isLoggedIn()){var n=new H({app:t});e.push(n)}this.render(e)},handleLoadError:function(t){this.render([new $({app:this,errorResponse:t})])},render:function(t){var e=document.createDocumentFragment();t.forEach(function(t){t.render(),e.appendChild(t.el)}),r.a.$(this.el).html(e),this.views&&this.views.forEach(function(t){t.remove()}),this.views=t}};e.default=A},45:function(t,e,n){"use strict";function s(t){return void 0!==t&&null!==t}var i=n(1),a=n.n(i),A=n(3),o=n(14),r=n(18),l=n(4),c={silent:!0},d=a.a.Model.extend({defaults:{display_name:null,account_url:null,profile_url:null,profile_image_url:null,title:"",username:null},initialize:function(t){t.membership=t.membership||{},t.network_membership=t.network_membership||{},this.set({account_url:t.membership.inspect_user_url||"#",profile_url:t.network_membership.url||"#",profile_image_url:t.network_membership.image_url||null,title:t.membership.short_bio||""},c)}}),m=a.a.Collection.extend({model:d}),u=m,h=a.a.Model.extend(o.a.extend({defaults:{bad_flags_count:0,body:"",created_on:null,created_on_long:null,created_on_short:null,created_on_timestamp:null,entry_id:null,hidden:!1,id:null,inappropriate_flags_count:0,is_flagged_by_user:!1,is_recommended_by_user:!1,parent_id:null,permalink:null,recommended_flags_count:0,signature:null,spam_flags_count:0,title:null,troll_flags_count:0,user_id:null,username:null,version:1,lastSeen:null,editTitle:"",editBody:"",foldId:null},ajaxOptions:{method:"post"},urls:{preview:"/comments/preview_comment",create:"/comments/post_comment",update:"/comments/edit_comment/:id",destroy:"/comments/destroy_comment/:id",hide:"/comments/hide_comment/:id",flag:"/comments/flag_comment/:id",unflag:"/comments/unflag_comment/:id",recommend:"/comments/recommend_comment/:id",loadFlaggings:"/comments/ajax_comment_flags/:id",blockUser:"/comments/block_user/:id"},flags:[],SILENT:{silent:!0},initialize:function(t,e){if(this.app=e&&e.app||this.collection&&this.collection.app,this.isEditable()){var n={};""===this.get("editTitle")&&(n.editTitle=this.get("title")),""===this.get("editBody")&&(n.editBody=this.get("body")),this.set(n)}},buildChild:function(){var t=this.app.comments.build();return t.set("parent_id",this.get("id")),t},secondsSinceCreate:function(){var t=this.app.settings.get("local_clock_offset")||0,e=(new Date).getTime()/1e3;return Math.round(e-t)-this.get("created_on_timestamp")},editTimeRemaining:function(){return Math.max(0,this.app.settings.get("editable_seconds")-this.secondsSinceCreate())},editTimeRemainingPerc:function(){return this.editTimeRemaining()/this.app.settings.get("editable_seconds")*100},isEditable:function(){return this.isByUser()&&this.editTimeRemaining()>0},isByUser:function(){return this.get("user_id")===this.app.settings.get("user_id")},isSelected:function(){return this.id&&this.id===this.app.get("selection_id")},isReply:function(){return this.isNew()&&!!this.get("parent_id")},reply:function(){this.isNew()||this.trigger("reply",this)},user:function(){return this.app.users.get(this.get("user_id"))||null},authorName:function(){var t,e=this.user();return e&&(t=e.get("display_name")||e.get("username")),t||this.get("username")||"anonymous"},authorTitle:function(){var t,e=this.user();return e&&(t=e.get("title")||e.get("membership")&&e.get("membership").short_bio),t||""},parent:function(){return this.app.comments.get(this.get("parent_id"))||null},permalink:function(){return window.location.origin+this.get("permalink")},ancestry:function(){return this._ancestry||(this._ancestry=this.ancestors().concat(this).map(function(t){var e=t.id.toString();return e.length>=10?e:new Array(10-e.length+1).join("0")+e}).join("/")),this._ancestry},ancestors:function(){for(var t=[],e=this.app.comments.get(+this.get("parent_id"));e;)t.push(e),e=this.app.comments.get(+e.get("parent_id"));return t.reverse()},descendants:function(){if(!this._descendants){var t=this.app.comments.descendantsGraph();if(t[this.id]){for(var e=t[this.id],n=0;n<e.length;n+=1){var s=t[e[n].id];s&&(e=e.concat(s))}this._descendants=e}else this._descendants=[]}return this._descendants},branch:function(){return[this].concat(this.descendants())},pick:function(){for(var t={},e=arguments.length,n=Array(e),s=0;s<e;s++)n[s]=arguments[s];for(var i=0;i<n.length;i+=1)t[n[i]]=this.get(n[i])||null;return t},preview:function(){var t=this;return this.set({title:this.get("editTitle"),body:this.get("editBody")},this.SILENT),this.ajax("preview",{data:{entry_id:this.app.get("entry_id"),comment:this.pick("parent_id","title","body")},success:function(e){t.app.users.set(e.users,{remove:!1}),t.set(e.comments[0])}})},save:function(){var t=this;return this.set({title:this.get("editTitle"),body:this.get("editBody")},this.SILENT),this.ajax(this.isNew()?"create":"update",{data:{entry_id:this.app.get("entry_id"),comment:this.pick("parent_id","title","body"),captcha:this.get("captcha")},success:function(e){var n=e.comments[0];n.editTitle=t.get("editTitle"),n.editBody=t.get("editBody"),n.lastSeen=(new Date).getTime(),t.app.users.set(e.users,{remove:!1}),t.app.comments.add(n,{merge:!0})}})},destroy:function(){var t=this,e=this.branch();return this.app.comments.remove(e),this.ajax("destroy",{error:function(){t.app.comments.add(e)}})},blockUser:function(){var t=this,e=this.user();if(!e)return this.ajaxStub({success:!1,message:"Invalid user."});var n=this.app.comments.filter(function(t){return t.get("user_id")===e.id});return this.app.users.remove(e),this.app.comments.remove(n),this.ajax("blockUser",{data:{id:e.id},error:function(){t.app.users.add(e),t.app.comments.add(n)}})},isHidden:function(){return!!this.get("hidden")},hide:function(){var t={},e=this.branch();return e.forEach(function(e){t[e.id]=e.get("hidden"),e.set("hidden",!0)}),this.ajax("hide",{data:{hide:!0},error:function(){e.forEach(function(e){e.set("hidden",t[e.id])})}})},unhide:function(){var t=this,e=this.parent();if(e&&e.isHidden())return this.ajaxStub({message:"Cannot show children of a hidden comment.",success:!1});var n=this.get("hidden");return this.set("hidden",!1),this.ajax("hide",{data:{hide:!1},error:function(){t.set("hidden",n)}})},_flag:function(t){var e=this;if(!!this.get(t.stateField)!==t.state){var n={},s=t.state?1:-1;return n[t.stateField]=t.state,n[t.countField]=(this.get(t.countField)||0)+s,this.set(n),this.ajax(t.service,{data:t.data,error:function(){n[t.stateField]=!t.state,n[t.countField]=e.get(t.countField)-s,e.set(n)}})}},isFlagged:function(){return this.get("bad_flags_count")>=Math.max(this.app.settings.get("flagged_threshold"),1)},warn:function(t,e){return this._flag({service:"flag",state:!0,stateField:"is_flagged_by_user",countField:"bad_flags_count",data:{id:this.get("id"),flagging:{flag_id:String(t||1),comment:e||""}}})},unwarn:function(){return this._flag({service:"unflag",state:!1,stateField:"is_flagged_by_user",countField:"bad_flags_count"})},isRecommended:function(){return this.get("recommended_flags_count")>=Math.max(this.app.settings.get("recommended_threshold"),1)},recommend:function(){return this.isByUser()?this.ajaxStub({message:"You cannot recommend your own comment.",success:!1}):this._flag({service:"recommend",state:!0,stateField:"is_recommended_by_user",countField:"recommended_flags_count"})},unrecommend:function(){return this._flag({service:"unflag",state:!1,stateField:"is_recommended_by_user",countField:"recommended_flags_count"})},loadFlags:function(){var t=this;return this.ajax("loadFlaggings",{type:"GET",success:function(e){t.flags=e.flaggings.map(function(t){var n=e.users.filter(function(e){return e.id===t.user_id})[0]||{};return{type:t.flag_name,timestamp:Date.parse(t.created_on),reason:t.comment,user_name:n.username,user_url:n.membership.inspect_user_url}})}})},isFold:function(){return!this.isNew()&&this.get("foldId")===this.id},isFolded:function(){return!!this.get("foldId")},isVisible:function(){return!this.isFolded()||this.isFold()},toggleFold:function(){this.isFold()?this.unfold():this.isFolded()||this.fold()},fold:function(){var t=this;this.isNew()||this.isFolded()||(this.app.settings.setLocal("fold-"+this.id,1),this.branch().forEach(function(e){e.set("foldId",t.id)}))},unfold:function(){this.isFold()?(this.app.settings.setLocal("fold-"+this.id,null),this.branch().forEach(function(t){t.set("foldId",null)})):this.ancestors().forEach(function(t){t.isFold()&&t.unfold()})},refold:function(){if(this.app.settings.getLocal("fold-"+this.id)){this.branch().reduce(function(t,e){return t||e.get("is_new")},!1)?this.app.settings.setLocal("fold-"+this.id,null):this.fold()}},applyFold:function(){for(var t=this.ancestors(),e=0;e<t.length;e+=1)t[e].isFold()&&this.set("foldId",t[e].id)},isUnread:function(){return this.attributes.is_new||this.isFold()&&this.descendants().filter(function(t){return t.attributes.is_new}).length},markAsRead:function(){this.isFold()?(this.set("is_new",!1,this.SILENT),this.descendants().forEach(function(t){return t.markAsRead()}),this.trigger("change")):this.set("is_new",!1),this.app.updateStats()}})),p=h,g=a.a.Collection.extend({model:p,build:function(){var t=this.app.settings.get("user_id");if(!t)throw"Cannot build comment without a user Id";return this.app.users.get(t)||this.app.users.add({id:l.d.id,username:l.d.get("username"),display_name:l.d.get("username"),network_membership:{image_url:l.d.get("profile_image_url"),url:l.d.get("profile_url")}}),new p({user_id:t},{app:this.app})},comparator:function(t,e){switch(this.app.settings.get("sort_method")){case"ancestry":var n=t.ancestry(),s=e.ancestry();return n<s?-1:n>s?1:0;case"forward-chron":return t.get("created_on_timestamp")===e.get("created_on_timestamp")?t.get("id")-e.get("id"):t.get("created_on_timestamp")-e.get("created_on_timestamp");case"reverse-chron":return t.get("created_on_timestamp")===e.get("created_on_timestamp")?e.get("id")-t.get("id"):e.get("created_on_timestamp")-t.get("created_on_timestamp")}},markAllAsRead:function(){this.models.forEach(function(t){return t.set("is_new",!1)})},descendantsGraph:function(t){return t&&t.expire&&(this._graph=null,this.models.forEach(function(t){t._descendants=null})),this._graph=this._graph||this.models.reduce(function(t,e){var n=e.get("parent_id");return n&&(t[n]=t[n]||[],t[n].push(e)),t},{}),this._graph}}),f=g,_=n(9),b=n(5),w=a.a.Model.extend({defaults:{able_to_comment:!1,able_to_moderate:!1,author_id:null,auto_update_empty_tollerance:5,auto_update_interval_fast:3e4,auto_update_interval_slow:6e4,auto_update_alert_list_count:5,auto_update_alert_duration:6500,emoji:[],enable_updates:!1,enable_emoji:!0,enable_images:!0,enable_titles:!1,enable_flair:!0,enable_badge_title:!0,entry_id:null,comment_prompt:null,comments_closed:!1,contributor_ids:[],display_format:"standard",flagged_threshold:0,messaging:null,recommended_threshold:0,render_chunk_length:10,show_avatars:!0,show_images:!0,show_signatures:!0,user_id:null,editable_seconds:90,local_clock_offset:null,sort_method:"ancestry",replay_enabled:!1,replay_scale:1,replay_initial_comment_id:null},getLocal:function(t){return this._readLocal(),s(this.local[t])?this.local[t]:null},setLocal:function(t,e){this._readLocal(),s(e)?this.local[t]=e:delete this.local[t],this._writeLocal()},setEnvironmental:function(){-1!=window.location.search.indexOf("replay=~true~")&&this.set("replay_enable",!0);var t=window.location.search.match(/replay_initial_comment_id=([0-9]+)/);t&&this.set("replay_initial_comment_id",parseInt(t[1],10)),(t=window.location.search.match(/replay_scale=([0-9\.]+)/))&&this.set("replay_scale",parseFloat(t[1]))},_readLocal:function(){this.local||(this.local=_.b.get("vm-comments-"+this.get("entry_id"))||{})},_writeLocal:A.a.debounce(function(){this.local&&_.b.set("vm-comments-"+this.get("entry_id"),this.local)},100),isLoggedIn:function(){return!!this.get("user_id")},isAllowedToPost:function(){return this.get("able_to_comment")&&!this.get("comments_closed")&&!this.get("messaging")},isProvisional:function(){return!!this.get("provisional_posting")},shouldReplay:function(){return this.get("able_to_comment")&&this.get("able_to_moderate")&&this.get("replay_enable")},setClockOffset:function(t){var e=Date.parse(t.getResponseHeader("Date")),n=((new Date).valueOf()-e.valueOf())/1e3,s=this.get("local_clock_offset"),i="number"===typeof s?(s+n)/2:n;this.set("local_clock_offset",i)},alertsEnabled:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(s(t))return this.setLocal("enable_alerts",t),t;var e=this.getLocal("enable_alerts");return s(e)?e:this.updatesEnabled()},updatesEnabled:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.isLoggedIn())return!1;if(s(t))return _.b.set("vm-comments-enable_updates",t),this.set("enable_updates",t),t;var e=_.b.get("vm-comments-enable_updates");return s(e)?e:!b.a.isMobile()&&this.get("enable_updates")}}),v=w,B=a.a.Model.extend(o.a.extend({_s:0,urls:{load:"/comments/load_comments/:entry_id",update:"/comments/ajax_comments_update/:entry_id"},defaults:{entry_id:null,selection_id:null},lastRequestId:0,emptyUpdateCount:0,initialize:function(){var t=this,e=this.get("entry_id");this.stats=r.a.add({id:e}),this.settings=new v({entry_id:e}),this.users=new u([]),this.comments=new f([]),this.app=this.users.app=this.comments.app=this.settings.app=this,this.commentsToReplay=[],this.initialReplayTimestamp=0,this.lastReplayTimestamp=0,this.timeDilationDelta=0,this.settings.on("change:enable_updates",function(){t.scheduleUpdate()})},selection:function(t){var e=this.get("selection_id"),n=this.comments.get(e),s=n;return t&&(e=t.id||t||null,this.set("selection_id",e),n=this.comments.get(e),n!==s&&(s&&s.trigger("selection change"),n&&n.trigger("selection change")),this.app.trigger("change:selection_id")),n||null},_advance:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.selection(),n=this.comments.models;if(e){var s=n.indexOf(e),i=n.slice(s+1),a=n.slice(0,s);n=i.concat(a),t.reverse&&n.reverse()}for(var A=0;A<n.length;A+=1){var o=n[A];if(o.isVisible()&&o.isUnread())return this.selection(o)}if(!t.unread)for(A=0;A<n.length;A+=1)if(o=n[A],o.isVisible())return this.selection(o)},selectPrev:function(t){this._advance(A.a.extend(t||{},{reverse:!0}))},selectNext:function(t){this._advance(t)},isLoading:function(){return 1===this._s},isLoaded:function(){return 2===this._s},load:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).force&&(this._s=null),this._s?this.isLoaded()&&(this._xhr=this._update()):(this._s=1,this._xhr=this._load(),this.settings.getLocal(),this.settings.setEnvironmental()),this._xhr},_replayInit:function(t){this.commentsToReplay=t;for(var e=this.settings.get("replay_initial_comment_id")||t[0].id,n=0;n<t.length;n++)if(t[n].id===e){this.initialReplayTimestamp=t[n].created_on_timestamp;break}return this.timeDilationDelta=Math.floor(Date.now()/1e3)*this.settings.get("replay_scale")-this.initialReplayTimestamp,this._replayFetch(this.initialReplayTimestamp)},_replayFetch:function(t){var e=this,n=this.commentsToReplay.filter(function(n){return n.created_on_timestamp<=t&&n.created_on_timestamp>e.lastReplayTimestamp});return this.lastReplayTimestamp=t,n},_load:function(){var t=this;return this.ajax("load",{data:{t:Date.now()},success:function(e,n){t.lastId=e.last_id,t.lastVersion=e.last_version,t.lastRequestId=0,t.emptyUpdateCount=0,t.settings.setClockOffset(n),t.settings.set(e.context||{}),t.users.reset(e.users),t.comments.reset(t.settings.shouldReplay()?t._replayInit(e.comments):e.comments),t.comments.models.forEach(function(t){return t.refold()}),t._s=2,t.trigger("load"),t.scheduleUpdate(),t.updateStats(),t.settings.shouldReplay()&&t.autoPlayback()},error:function(e){t.trigger("loadError",e)}})},_update:function(){var t=this;return this.lastRequestId+=1,this.ajax("update",{data:{request_id:this.lastRequestId,last_id:this.lastId,last_version:this.lastVersion},success:function(e,n){if(t.lastRequestId!==e.last_request_id)return void console.warn("Failed to update comments: updates arrived out of order.");t.settings.setClockOffset(n),t.lastId=e.last_id,t.lastVersion=e.last_version,e.comments.length?t.emptyUpdateCount=0:t.emptyUpdateCount++;var s=[];e.comments.forEach(function(e){var n=t.comments.get(e.id);n?e.is_new=n.get("is_new"):e.user_id!==t.settings.get("user_id")&&(e.is_new=!0,s.push(e.id))}),e.deleted_comment_ids.forEach(function(e){var n=t.comments.get(e);n&&t.comments.remove(n.branch())}),t.users.set(e.users,{remove:!1}),t.comments.set(e.comments,{remove:!1}),t.comments.descendantsGraph({expire:!0}),t.trigger("update",s.map(function(e){return t.comments.get(e)})),t.scheduleUpdate(),t.updateStats()},error:function(e,n){/4\d\d/.test(String(n.status))&&l.d.fetch({refresh:!0}),t.emptyUpdateCount++}})},scheduleUpdate:function(t){var e=this;if(this.isLoaded()&&(this._timer&&(clearTimeout(this._timer),this._timer=null),this.settings.updatesEnabled()&&!this.settings.shouldReplay())){if(!t){var n=this.emptyUpdateCount<this.settings.get("auto_update_empty_tollerance");t=this.settings.get(n?"auto_update_interval_fast":"auto_update_interval_slow")}this._timer&&clearTimeout(this._timer),requestAnimationFrame(function(){e._timer=setTimeout(function(){return e.load()},t)})}},autoPlayback:function(){var t=this;this._timer=setTimeout(function(){var e=t._replayFetch(Math.floor(Date.now()/1e3)*t.settings.get("replay_scale")-t.timeDilationDelta);e.forEach(function(e){var n=t.comments.get(e.id);e.is_new=n?n.get("is_new"):e.user_id!==t.settings.get("user_id")}),t.comments.set(e,{remove:!1}),t.trigger("update",e.filter(function(t){return t.is_new})),t.autoPlayback()},1e3)},updateStats:A.a.debounce(function(){this.stats.set({comment_count:this.comments.length,comment_unreads:this.comments.models.filter(function(t){return t.get("is_new")}).length})},100)}));e.a=B},90:function(t,e,n){"use strict";var s,i=n(1),a=n.n(i),A=n(12),o=n(10),r=n(99),l=n(106),c=n.n(l),d=a.a.View.extend({className:"c-comments__flag-form",template:Object(o.a)(c.a),initialize:function(t){this.app=t.app},render:function(){return this.$el.html(this.template(this.app.settings.attributes))},events:{submit:"onSubmit"},onSubmit:function(t){t.preventDefault();var e=this.$("#comments-flag").val(),n=this.$("#comments-flag-comment").val(),s=this.$("#comments-flag-submit").prop("disabled",!0);this.model.warn(e,n).done(function(){A.a.close()}).fail(function(){s.prop("disabled",!1),alert("A problem occurred while submitting this flag. Please try again.")})}}),m=d,u=n(13),h=n(107),p=n.n(h),g=a.a.View.extend({className:"c-comments__flag-list",template:Object(o.a)(p.a),render:function(){var t=this;return this.model.loadFlags().done(function(){t.$el.html(t.template({time:u.a,title:t.model.get("title"),flags:t.model.flags}))}),this.$el.html('<div class="p-loader"></div>')}}),f=g,_=n(91),b=n(108),w=n.n(b),v=["body","title","hidden","bad_flags_count","is_flagged_by_user","is_recommended_by_user","recommended_flags_count","lastSeen"],B=a.a.View.extend({template:Object(o.a)(w.a),initialize:function(t){this.app=t.app,this.listenTo(this.model,"change",this.render),this.listenTo(this.model,"reply",this.reply),this.model.isEditable()&&this.tick()},delegateEvents:function(){},attributes:function(){return{id:this.model.id||"","data-view":this.model.cid}},className:function(){var t=["c-comments__comment"],e=this.model.ancestors().length;return this.model.isFold()?t.push("c-comments__fold"):this.model.isFolded()&&t.push("c-comments__folded"),e>0&&!this.model.isNew()&&t.push(_.a.depth(e)),this.model.get("is_new")&&t.push("c-comments__new"),this.model.isHidden()&&t.push("c-comments__hidden"),this.app&&this.app.settings.get("able_to_moderate")&&this.model.isFlagged()&&t.push("c-comments__flagged"),this.model.isRecommended()&&t.push("c-comments__recommended"),this.model.isSelected()&&t.push("c-comments__selected"),t.join(" ")},isDirty:function(){for(var t=0;t<v.length;t+=1)if(hasOwnProperty.call(this.model.changed,v[t]))return!0;return!1},render:function(){var t=this;if(this.$el.attr("class",this.className()),!this._drawn||this.isDirty()){var e=this.model.toJSON(),n=this.model.user()||{};e.settings=this.app.settings.attributes,e.user=n.attributes||{},e.fn={comment:this.model,settings:this.app.settings,user:n,view:this},this.$el.html(this.template(e));var s=this.$el.find("img");this.app.settings.get("enable_emoji")||s.filter(".emoji").each(function(t,e){return e.parentNode.replaceChild(document.createTextNode(e.alt),e)}),this.app.settings.get("enable_images")?s.filter(":not(.emoji, .c-comments__avatar)").wrap('<span class="c-comments__image"></span>').after('<button type="button" class="p-button c-comments__image-toggle" data-ui="imgtoggle"></button>').each(function(e,n){var s=n.getAttribute("data-src")||n.getAttribute("src");t.app.settings.getLocal(t._imageKey(s))||!t.app.settings.get("show_images")?(n.setAttribute("data-src",s),n.removeAttribute("src"),n.parentNode.className+=" hidden"):n.setAttribute("src",s)}):s.filter(":not(.emoji, .c-comments__avatar)").remove(),this.$el.find(".twitter-follow-button").removeClass("twitter-follow-button"),this._drawn=!0}return this.renderReplyCounts(),this.$el},renderProfileLink:function(t){return t.user.profile_url?'<a href="'+t.user.profile_url+'">'+t.fn.comment.authorName()+"</a>":t.fn.comment.authorName()},renderAvatar:function(t,e){var n;return t.settings.show_avatars&&t.user.profile_image_url&&(t.user.profile_image_url&&(n='<img src="'+t.user.profile_image_url+'" alt="'+t.fn.comment.authorName()+'" class="c-comments__avatar '+(e||"")+'">'),n&&t.user.profile_url&&(n='<a href="'+t.user.profile_url+'">'+n+"</a>")),n||""},renderReplyCounts:function(){if(this.model.isFold()){var t=this.model.descendants(),e=t.filter(function(t){return t.get("is_new")}),n="";t.length&&(n+=t.length+(t.length>1?" replies":" reply"),e.length&&(n+=", <b>"+e.length+" new</b>")),this.$('[data-ui="replies"]').html(n)}this.model.get("title")||this.$('[data-ui="title"]').html(this.model.isFold()?"comment collapsed":"")},_imageKey:function(t){return"img-"+this.model.id+"-"+t},reply:function(){s&&s.remove(),s=new r.a({app:this.app,model:this.model.buildChild()}),this.$el.after(s.render())},tick:function(){var t=this,e=this.model.editTimeRemaining(),n=this.$('[data-ui="timer"]');e>0?(this.$('[data-ui="countdown"]').text("("+Math.round(e)+")"),n.width(this.model.editTimeRemainingPerc()+"%"),setTimeout(function(){return t.tick()},1e3)):(this.$('[data-ui="edit"]').remove(),n.remove())},actions:{ban:"onBan",delete:"onDelete",edit:"onEdit",flag:"onFlag",flags:"onFlags",fold:"onFold",hide:"onHide",imgtoggle:"onImgToggle",moderate:"onModerate",rec:"onRec",reply:"reply",timestamp:"onTimestamp",up:"onUp"},onEdit:function(){var t=new r.a({app:this.app,model:this.model});this.$el.before(t.render())},onFold:function(t){t.preventDefault(),this.model[this.model.isFolded()?"unfold":"fold"]()},onFlag:function(){this.model.get("is_flagged_by_user")?this.model.unwarn():A.a.dialog(new m({app:this.app,model:this.model}).render())},onFlags:function(){A.a.overlay(new f({model:this.model}).render())},onRec:function(){this.model[this.model.get("is_recommended_by_user")?"unrecommend":"recommend"]().fail(function(t){alert(t)})},onModerate:function(t){this.$(t.currentTarget).toggleClass("open")},onBan:function(){var t=["Spam ban is to be used exclusively for obvious spam, and not for normal moderation of community members.","This action will ban the user from all Chorus communities (not just this one) and delete their comments. It is not reversible."];confirm(t.join("\n\n"))&&"BAN"===prompt('Enter the word "BAN" (all caps) to confirm:')&&this.model.blockUser().fail(function(t){alert(t)})},onHide:function(){this.model[this.model.isHidden()?"unhide":"hide"]().fail(function(t){alert(t)})},onDelete:function(){confirm("Delete this comment?")&&this.model.destroy()},onUp:function(){this.app.selection(this.model.get("parent_id"))},onImgToggle:function(t){t.preventDefault();var e=this.$(t.target).closest(".c-comments__image"),n=e.find("img");n.attr("src",n.attr("data-src")||n.attr("src"));var s=e.toggleClass("hidden").hasClass("hidden"),i=this._imageKey(n.attr("src"));this.app.settings.setLocal(i,s?1:null)},onTimestamp:function(t){var e=this;t.preventDefault(),this.app.selection(this.model.id),setTimeout(function(){e.el.id=null,location.hash=e.model.id,e.el.id=e.model.id},0)}});e.a=B},91:function(t,e,n){"use strict";e.a={depth:function(t){return"c-comments__depth-"+Math.min(t,22)}}},92:function(t,e,n){"use strict";function s(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function i(t){if(!t||"textarea"!==t.tagName.toLowerCase())throw"textarea node is required.";this.el=t}var a=n(5),A=a.a.browser();i.prototype={scrollTop:null,tag:function(t){t.start=t.start||"",t.end=t.end||"";var e=this._get(),n=this.el.value,i=!e.text.length,a=!!t.start&&!!t.end,A=new RegExp("^(\\s*)?"+s(t.start)+"(.*?)"+s(t.end)+"(\\s*)?$");n=[n.substr(0,e.index),e.text,n.substr(e.index+e.text.length)],n[1]=n[1].split("\n").map(function(e){return A.test(e)?e.replace(A,"$1$2$3"):e.replace(/^(\s*)?(.*?)(\s*)?$/,"$1"+t.start+"$2"+t.end+"$3")}).join("\n"),this.el.value=n.join(""),i&&a||!a&&t.start?this._set(e.index+t.start.length,0):!a&&t.end?this._set(e.index+n[1].length,0):this._set(e.index,n[1].length)},_get:function(){var t,e=0;if(this.el.focus(),this.scrollTop=this.el.scrollTop,document.selection)if(t=document.selection.createRange().text,A.msie){var n=document.selection.createRange(),s=n.duplicate();for(s.moveToElementText(this.el),e=-1;s.inRange(n);)s.moveStart("character"),e++}else e=this.el.selectionStart;else e=this.el.selectionStart,t=this.el.value.substring(e,this.el.selectionEnd);return{index:e,text:t}},_set:function(t,e){if(this.el.createTextRange){if(A.opera&&A.version>=9.5&&0==e)return!1;var n=this.el.createTextRange();n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",e),n.select()}else this.el.setSelectionRange&&this.el.setSelectionRange(t,t+e);this.el.scrollTop=this.scrollTop,this.el.focus()}},e.a=i},99:function(t,e,n){"use strict";var s,i=n(1),a=n.n(i),A=n(0),o=n.n(A),r=n(4),l=n(92),c=n(12),d=n(10),m=n(5),u=n(3),h=n(91),p=function(){return s||(s=o.a.Deferred(),window.grecaptcha?s.resolve(grecaptcha):(window._grecaptchaCallback=function(){return s.resolve(grecaptcha)},o.a.getScript("https://www.google.com/recaptcha/api.js?onload=_grecaptchaCallback&render=explicit"))),s.promise()},g=n(103),f=n.n(g),_=n(90),b=n(104),w=n.n(b),v=a.a.View.extend({tagName:"form",className:"c-comments__url-prompt",events:{submit:"onSubmit"},initialize:function(t){this.$el.html(w.a);var e=this.$el.find('input[name="url"]');setTimeout(function(){e.focus()},750),this.cb=t},onSubmit:function(t){t.preventDefault();var e=this.$el.find('input[name="url"]').val();c.a.close(),e.length>0&&(/https?:\/\//.test(e)||(e="https://"+e),this.cb(e))}}),B=v,y=n(105),C=n.n(y),E=a.a.View.extend({className:"c-comments__emoji-picker",tmpl:Object(d.a)(C.a),initialize:function(t){this.emoji=t.emoji,this.currentPage=0,this.lastPage=Math.ceil(this.emoji.length/18)-1,this.render()},render:function(){var t=Math.max(0,18*this.currentPage),e=Math.min(this.emoji.length-1,t+18),n=Math.min(Math.ceil(this.emoji.length/6),3),s=this.hasPrev()||this.hasNext();this.$el.html(this.tmpl({emoji:this.emoji.slice(t,e),pixelWidth:Math.min(240,40*this.emoji.length),pixelHeight:40*n,pagination:s})),s&&(this.$('[data-ui-page="-1"]').prop("disabled",!this.hasPrev()),this.$('[data-ui-page="1"]').prop("disabled",!this.hasNext()))},hasPrev:function(){return this.currentPage>0},hasNext:function(){return this.currentPage<this.lastPage},events:{"click [data-ui-page]":"onPage"},onPage:function(t){t.preventDefault();var e=this.$(t.currentTarget).data("ui-page");(e<0&&this.hasPrev()||e>0&&this.hasNext())&&(this.currentPage+=e,this.render())}}),I=E,L=a.a.View.extend({template:Object(d.a)(f.a),_posting:!1,initialize:function(t){this.app=t.app},attributes:function(){var t="post-new-comment";return this.model.isReply()&&(t="reply-to-comment"),this.model.isNew()||(t="edit-comment"),{id:t}},className:function(){var t,e=["c-comments__post-form"];if(this.model.isReply()){var n=this.model.parent();t=n&&n.ancestors().length||0,e.push("c-comments__reply-form",h.a.depth(t))}else this.model.isNew()||(t=this.model.ancestors().length,e.push("c-comments__edit-form",h.a.depth(t)));return e.join(" ")},setFieldFocus:function(){var t=this.app.settings.get("enable_titles");this.$('[name="'+(t?"title":"body")+'"]').focus()},render:function(){var t=this;return this.$el.attr("class",this.className()),this.$el.html(this.template({comment:this.model,settings:this.app.settings,fn:{formatTitleForInput:function(t){return(t||"").replace(/"/g,"&quot;")}}})),this.editor=new l.a(this.el.querySelector("textarea")),!this.model.isReply()&&this.model.isNew()||setTimeout(function(){t.setFieldFocus()},0),this.model.isNew()&&this.app.settings.isProvisional()&&p().then(function(e){t.captchaId=e.render(t.el.querySelector(".recaptcha"),{sitekey:t.app.settings.get("recaptcha_public_key")})}),this.$el},error:function(t){var e=this.$('[data-ui="error"]');t?e.text(t).show():e.text("").hide()},captureForm:function(){this._posting=!0,this.error(null),this.$("input.p-button").prop("disabled",!0),this.model.set({editTitle:this.$('[name="title"]').val(),editBody:this.$('[name="body"]').val(),captcha:this.$('[name="g-recaptcha-response"]').val()},this.model.SILENT)},releaseForm:function(){this._posting=!1,this.$("input.p-button").prop("disabled",!1)},reset:function(){var t=this;this.model.isReply()||!this.model.isNew()?this.remove():(this.model.set({title:"",body:""}),this.$("[name]").val(""),this.error(null),this.$(".c-comments__form-preview-buttons").removeClass("is-active"),"number"===typeof this.captchaId&&p().then(function(e){return e.reset(t.captchaId)})),this.preview&&this.preview.remove()},events:{'click [data-ui="preview"]':"onPreview",'click [data-ui="save"]':"onSave",'click [data-ui="cancel"]':"onCancel","click [data-ui-markup]":"onMarkup","click [data-ui-emoji]":"onEmoji",'mouseover [data-ui="emoji"]':"onOpenEmoji","keydown input,textarea":"onKey","keyup textarea":"onKeyUp","focus input,textarea":"onFocus","blur input,textarea":"onBlur"},onPreview:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._posting&&!n.repeatAttempt||(t.preventDefault(),this.captureForm(),this.model.preview().done(function(){e.releaseForm(),e.preview=new _.a({app:e.app,model:e.model}),e.$(".c-comments__comment").remove(),e.$el.prepend(e.preview.render()),e.$(".c-comments__form-preview-buttons").addClass("is-active").find('[data-ui="save"]').focus()}).fail(function(s){if(/authenticate/.test(s)){if(!n.repeatAttempt)return r.d.fetch({refresh:!0}).then(function(){return e.onPreview(t,{repeatAttempt:!0})});var i=" Try refreshing the page."}e.releaseForm(),e.error(s+(i||""))}),this.$('[data-ui="save"]').focus())},onSave:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._posting&&!n.repeatAttempt||(t.preventDefault(),this.captureForm(),this.model.save().done(function(){e.releaseForm(),e.reset()}).fail(function(s){if(/authenticate/.test(s)){if(!n.repeatAttempt)return r.d.fetch({refresh:!0}).then(function(){return e.onSave(t,{repeatAttempt:!0})});var i=" Try refreshing the page."}e.releaseForm(),e.error(s+(i||""))}))},onCancel:function(t){t.preventDefault(),this.reset()},markup:{bold:{start:"<b>",end:"</b>"},italic:{start:"<i>",end:"</i>"},strike:{start:"<strike>",end:"</strike>"},quote:{start:"<blockquote>",end:"</blockquote>"},spoiler:{start:'<span class="spoiler">',end:"</span>"},a:{start:'<a href="%url">',end:"</a>"},img:{end:'<img src="%url" alt="">'},ol:{start:"# "},ul:{start:"* "}},applyMarkup:function(t){var e=this;if(this.editor){var n=u.a.extend({},this.markup[t]),s=n.start?"start":"end";if(n[s]&&/%url/.test(n[s])){var i=function(t){t&&(n[s]=n[s].replace("%url",t),e.editor.tag(n));var i=e.$('[name="body"]').val();e.validateBodyForSecureImages(i)};if(m.a.isTouch()&&!m.a.browser().msie)i(prompt("Source URL","http://"));else{var a=new B(i);c.a.dialog(a.el)}}else this.editor.tag(n)}},onMarkup:function(t){t.preventDefault(),this.applyMarkup(this.$(t.target).data("ui-markup"))},onKey:function(t){if(this.app.scheduleUpdate(),t.ctrlKey&&/textarea/i.test(t.target.tagName)){var e;switch(t.which){case 66:e="bold";break;case 73:e="italic";break;case 83:e="strike"}e&&(t.preventDefault(),this.applyMarkup(e))}},onKeyUp:function(t){var e=t.target.value;this.validateBodyForSecureImages(e)},validateBodyForSecureImages:function(t){/<(?:iframe|script|img)[^>]*\ssrc=["']http:\/\/[^"']*["']/i.test(t)?this.error('Please use a secure image URL with "https://". Otherwise, the image will not display.'):this.error(null)},onFocus:function(){m.a.isTouch()&&(this.app.scheduleUpdate(),o()("#comments-touch-tools").hide())},onBlur:function(){m.a.isTouch()&&(this.app.scheduleUpdate(500),o()("#comments-touch-tools").show())},onEmoji:function(t){t.preventDefault();var e=this.$(t.target).data("ui-emoji");this.editor&&e&&this.editor.tag({end:e})},onOpenEmoji:function(){var t=this,e=this.app.settings.get("emoji");e&&e.length&&!this.picker&&setTimeout(function(){t.picker=new I({emoji:e}),t.$('[data-ui="emoji"]').parent().append(t.picker.el)},150)}});e.a=L},998:function(t,e){t.exports='<div class="c-comments__new-notification-grid">\n  <div class="c-comments__new-notification-count">\n    <strong><%= data.comments.length %></strong> comment<%= data.comments.length > 1 ? \'s\' : \'\' %>\n  </div>\n  <ul class="c-comments__new-notification-list">\n  <% data.comments.forEach(function(comment, index) { %>\n    <% var user = comment.user() %>\n    <% var parent = comment.parent() %>\n    <li>\n      <a href="#<%= comment.id %>" data-comment="<%= comment.id %>"><%= user && user.get(\'display_name\') %></a>\n      <% if (parent) { %>\n        replied to&nbsp;<%= parent.user() && parent.user().get(\'display_name\') %>\n      <% } else { %>\n        posted a new comment\n      <% } %>\n    </li>\n  <% }) %>\n  </ul>\n</div>\nPress <strong>Z</strong> to read next comment. <strong>R</strong> to reply.\n'},999:function(t,e){t.exports='<% if (data.app.isLoading()) { %>\n  <h4 class="c-comments__message">Loading comments...</h4>\n<% } else { %>\n  <% if (data.comment_count === 1) { %>\n    <span class="c-comments__count">There is&nbsp;<span><%= data.comment_count %></span>&nbsp;comment.</span>\n  <% } else { %>\n    <span class="c-comments__count">There are&nbsp;<span><%= data.comment_count %></span>&nbsp;comments.</span>\n  <% } %>\n  <button class="p-button c-comments__load" type="button" data-ui="load">\n    Load all comments <svg class="c-comments__icon p-svg-icon"><use xlink:href="#icon-down"></use></svg>\n  </button>\n<% } %>\n'}});
//# sourceMappingURL=app-comments-1a6e1624368cf6a4bdc4.chunk.js.map