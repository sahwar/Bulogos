<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html >
<head>
<title>Save all of your Terminal activity to a file - Mac OS X Hints</title>
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="SHORTCUT ICON" href="http://hints.macworld.com/favicon.ico">
<!-- <meta http-equiv="Pragma" content="no-cache"> -->
<link rel="stylesheet" type="text/css" href="http://hints.macworld.com/layout/hints1/style.css" title="hints1">
<!--note: removed feed_url variable-->
<link rel="alternate" type="application/rss+xml" title="RSS Feed: MacOSXHints.com" href="http://hints.macworld.com/backend/osxhints.rss">
<link rel="alternate" type="application/rss+xml" title="RSS Feed: The macosxhints.com New Comments Feed" href="http://hints.macworld.com/backend/commentfeed.rss">
<link rel="home" href="http://hints.macworld.com/" title="Home">
<link rel="search" href="http://hints.macworld.com/search.php" title="Advanced Search">
<link rel="contents" href="http://hints.macworld.com/directory.php" title="Directory">
<link rel="service" type="application/atomsvc+xml" href="http://hints.macworld.com/webservices/atom/?introspection" title="Webservices">
<link rel="canonical" href="http://hints.macworld.com/article.php?story=20120507163311559">
<link rel="stylesheet" type="text/css" href="http://hints.macworld.com/polls/style.css"><link rel="stylesheet" type="text/css" href="http://hints.macworld.com/rating/rating.css">
<script type="text/javascript" src="http://hints.macworld.com/rating/js/mootools-release-1.11.packed.js?ver=111"></script>
<script type="text/javascript" src="http://hints.macworld.com/rating/js/rating.js?ver=4"></script>


<!-- Load Common Javascript Libraries -->
<script type="text/javascript" src="http://hints.macworld.com/javascript/common.js"></script>




<script type='text/javascript'>
   var googletag = googletag || {};
 googletag.cmd = googletag.cmd || [];
 (function() {
   var gads = document.createElement('script');
   gads.async = true;
   gads.type = 'text/javascript';
   var useSSL = 'https:' == document.location.protocol;
   gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
   var node = document.getElementsByTagName('script')[0];
   node.parentNode.insertBefore(gads, node);
 })();
</script>
 
<script type='text/javascript'>
    googletag.cmd.push(function() {
      googletag.defineSlot('/8456/IDG.OSXHints_CSMB', [336, 280], 'div-gpt-ad-bb-0').addService(googletag.pubads());
      googletag.defineSlot('/8456/IDG.OSXHints_CSMB', [728, 90], 'div-gpt-ad-leader-0').addService(googletag.pubads());
      googletag.pubads().enableSingleRequest();
      googletag.enableServices();
    });
</script>





</head>
<body dir="ltr">
<!-- SCRIPT /article.php URI /article.php?story=20120507163311559 -->

<script language="JavaScript" type="text/javascript"> <!-- 
var oPageTitle = document.title; 
var oChannel = "Hints";
var oPageName =  "osx hints:" +  oPageTitle;
var oReportSuite = "pcwmw-macworld"
 --></script>
<!-- START Nielsen Online SiteCensus V6.0 -->
<!-- COPYRIGHT 2010 Nielsen Online -->
<script type="text/javascript">
(function () {
  var d = new Image(1, 1);
  d.onerror = d.onload = function () {
    d.onerror = d.onload = null;
  };
  d.src = ["//secure-us.imrworldwide.com/cgi-bin/m?ci=us-203426h&cg=0&cc=1&si=", escape(window.location.href), "&rp=", escape(document.referrer), "&ts=compact&rnd=", (new Date()).getTime()].join('');
})();
</script>
<noscript>
  <div>
    <img src="//secure-us.imrworldwide.com/cgi-bin/m?ci=us-203426h&amp;cg=0&amp;cc=1&amp;ts=noscript"
    width="1" height="1" alt="" />
  </div>
</noscript>
<!-- END Nielsen Online SiteCensus V6.0 -->

<!-- SiteCatalyst code version: H.20.3.
Copyright 1997-2009 Omniture, Inc. More info available at
 http://www.omniture.com -->
<script language="JavaScript" type="text/javascript"><!-- 
var g_sOmnitureReportSuite = oReportSuite;
// --></script>
<script language="JavaScript" type="text/javascript" src="/s_code.js"></script>
<script language="JavaScript" type="text/javascript"><!--
s.pageName= oPageName;
s.server="";
s.channel= oChannel;
s.pageType="";
s.prop1="";
s.prop2="";
s.prop3="display type:osx hints article";
s.prop4="";
s.prop5="";
s.prop6="";
s.prop7="";
s.prop8="";
s.prop9="";
s.prop10="";
s.prop11="";
s.prop12="";
s.prop13="";
s.prop14="";
s.prop15="";
s.prop16=s.getTimeParting('d','-8');
s.prop17=s.getTimeParting('w','-8');
s.prop18="";
s.prop19="";
s.prop20=s.getTimeParting('h','-8');
s.prop21="";
s.prop22="";
s.prop23="";
s.prop24="";
s.prop25="";
s.prop26="";
s.prop27="";
s.prop28="";
s.prop29="";
s.prop30="";
s.prop37= oPageName;
/* Conversion Variables */
s.campaign=s.getQueryParam('tk');
s.state="";
s.zip="";
s.events="";
s.products="";
s.purchaseID="";
s.eVar1="";
s.eVar2="";
s.eVar3="";
s.eVar4="";
s.eVar5="";
s.eVar6="";
s.eVar7="";
s.eVar8="";
s.eVar9="";
s.eVar10="";
s.eVar11="";
s.eVar12="";
s.eVar13="";
s.eVar14="";
s.eVar15="";
/* Hierarchy Variables */
s.hier1="";
/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)//--></script>
<script language="JavaScript" type="text/javascript"><!--
if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
     //--></script><noscript><a href="http://www.omniture.com" title="Web Analytics"><img 
src="http://pcworldcommunication.122.2o7.net/b/ss/pcwmwdev/1/H.20.3--NS/0"
height="1" width="1" border="0" alt="" /></a></noscript><!--/DO NOT REMOVE/-->
<!-- End SiteCatalyst code version: H.20.3. -->


<!-- START Parse.ly Include: Standard --> 
<div id="parsely-root" style="display: none">
<a id="parsely-cfg" data-parsely-site="macworld.com" href=" http://parsely.com">Powered by the Parse.ly Publisher Platform (P3).</a> 
</div> 
<script>
(function(s, p, d) {
  var h=d.location.protocol, i=p+"-"+s, e=d.getElementById(i), r=d.getElementById(p+"-root");
  if (e) return; e = d.createElement(s); e.id = i; e.async = true; e.src = h+"//static.parsely.com/p.js"; r.appendChild(e);
})("script", "parsely", document);
</script>
<!-- END Parse.ly Include -->

    <div id="topNavBkgnd">
        <div id="topNav">
            <ul>
			    <li id="macBack"><a href="http://www.macworld.com">&nbsp;</a></li>
            </ul>
        </div>
        <div id="topNavOther">
	        <ul>
		        <li id="otherHdr">More Mac Sites:</li>
		        <li id="otherFirst"><a href="http://www.macworld.com/">Macworld</a></li>
		        <li><a href="http://www.macuser.com/">MacUser</a></li>
		        <li><a href="http://iphone.macworld.com">iPhone Central</a></li>
		    </ul>
	    </div>
	    <a href="http://hints.macworld.com"><img id="macLogo" src="http://hints.macworld.com/layout/hints1/theme-images/newLogo6.png" border="none"></a>
<!--
	    <div class="potw-text">
	        <b style="color:#000033">Pick of the Week - Nov 10
</b><small>[<a href="http://hints.macworld.com/picktable.php">Show all picks</a>]</small><br><a href="http://hints.macworld.com/article.php?story=20081110100818716
"><b>Path Finder 5
</b></a> - A feature-laden Finder replacement	    </div>
-->
	</div>
    <div style="border-bottom:1px solid #000000; border-top:1px solid #000000; padding-bottom:4px; padding-top:1px; padding-left:5px; padding-right:5px">
        <div class="header-navigation" style="float:left">
	        <span class="header-special">
	            <a href="http://hints.macworld.com/submit.php?type=story">Submit Hint</a>
	        </span>
            &#8226; 
            <span class="header-special">
                <a href="http://hints.macworld.com/search.php">Search</a></span>
            &#8226;
            <span class="header-special">
                <a href="http://forums.macosxhints.com">The Forums</a>
            </span>
             &#8226;
             <a href="http://hints.macworld.com/links/index.php" >Links</a>
             &#8226; 
             <a href="http://hints.macworld.com/stats.php" >Stats</a>
             &#8226; 
             <a href="http://hints.macworld.com/polls/index.php" >Polls</a>
             &#8226;        
             <a href="http://hints.macworld.com/headlines.php">Headlines</a>
             &#8226;
             <a href="http://hints.macworld.com/staticpages/index.php?page=rssinfo.html">RSS</a>
        </div>
        <div style="float:right; text-align:right">
            14,000 hints and counting!
        </div>
        <div style="clear:both">
        </div>
    </div>
      
	  <div align="center" style="border-bottom: 2px solid #7B7B7B; padding-bottom:8px; margin-bottom:5px;"><br /><table border=0 cellpadding=0 cellspacing=0 align=center style="margin-top: 10px; margin-bottom: 15px">
        <tr>
          <td>
<!--            <img src="http://hints.macworld.com/layout/hints1/theme-images/adtag.gif" border=0> -->
          </td>
          <td align="center">
            <center>
<div id='div-gpt-ad-leader-0'>
   <script type='text/javascript'>
   googletag.cmd.push(function() { googletag.display('div-gpt-ad-leader-0'); });
</script>
</div>
 













            </center>
          </td>
          <td>
<!--            <img src="http://hints.macworld.com/layout/hints1/theme-images/adtag.gif" border=0>-->
          </td>
        </tr>
      </table></div>
	  
    <table cellspacing="0" cellpadding="0" style="width:100%;">
        <tr>
            
            <td class="story-container">
                <!-- START OF CONTENT AREA -->
<!-- ccount   -->
        <div class="story"><!-- ccount  http://hints.macworld.com/article.php?story=20120507163311559  -->
    <div class="story-title">Save all of your Terminal activity to a file
    <span style="padding-top:5px;float:right"><a href="http://hints.macworld.com/index.php?topic=unix" rel="category"><img src="http://hints.macworld.com/layout/hints1/images/topics/t_unix.png" class="floatright" alt="UNIX" title="UNIX"></a></span>
      <br />
      <span class="story-information">May 11, '12 07:30:00AM &#8226; Contributed by: <a class="storybyline" href="http://hints.macworld.com/users.php?mode=profile&amp;uid=1162768">chrisgerke</a></span>
    </div> 
<div class="p402_premium">
    <div class="story-body">
        I use Terminal everyday, and I find it a good idea to log everything I you. It makes it much easier to undo your mistakes when you know what those mistakes were. Here's how I do this:<br><br> Open Terminal's preferences.<br><br> Go to Settings, then Shell. You can choose here to run a command at startup. You could create a simple log of your session using the following:<pre><code>/usr/bin/script ~/Desktop/Terminal.log</code></pre>This will log everything you do and append it to the log file.<br><br> I like to keep my history so instead I wrote this small script that archives previous sessions by renaming the file with a date/time string. I then set Terminal.app to run at startup the following command:<pre><code>~/Desktop/logger.sh</code></pre>Here's the script:<pre><code>#!/bin/bash# logger.sh# Log everything you do in Terminal.#* Formatted date &amp; time string.FORMATTED_DATE=`/bin/date "+%Y-%m-%d%H%M%S"`#* Archive the previous file/bin/cp -f ~/Desktop/Terminal.log&#123;,.&amp;#36;FORMATTED_DATE.txt&#125;#* Begin a new one/usr/bin/script ~/Desktop/Terminal.log</code></pre>[<b>kirkmc adds</b>: This is a good idea. I don't use Terminal a lot, but I find that I sometimes need to remember a command I ran in the past which is no longer in my history.<br><br>Also, this is similar to something I do with texts I write. I do most of my writing in BBEdit, and I have a number of "scratch" files which I change every year. For example, I have one file for most of what I write, another just for Mac OS X Hints, and another for a specific client I write for. I archive these files at the end of the year, and create new ones. If I ever need to go back to these files to look for something I can do so. I don't bother to enter dates - which I could do easily enough with a TypeIt4Me shortcut - but if I'm looking for something I'll generally know what text to search for.] 
    </div>
</div>

    <div class="story-control">
        <div style="float:left">
          &nbsp;&nbsp;&nbsp;&nbsp;&#8226;&nbsp;
          &nbsp;&nbsp;
          <br />
          <div class="rating">
 <span id="unit_long20141113162740899">
<ul id="unit_ul20141113162740899" class="unit-rating" style="width:75px;">
<li class="current-rating" style="width:51.6px;">Currently 3.44 / 5</li>
</ul>
<span style="margin-left:77.5px;" class="static">
&nbsp;&nbsp;You rated:  1 / 5
 (9 votes cast)</span>
</span>  &nbsp;    
</div>
        </div>
        <div style="float:right; text-align:right">
          [24,667 views] &nbsp;
        </div>
        <div style="clear:both"></div>
    </div>
</div>
<!--<div class="block-divider"> </div>-->



        <div class="floatleft" style="width:50%;"><div class="block-box-left">
    <span class="block-helpicon">
        
    </span>
    <h2>Hint Options</h2><ul class="list-story-options">
  <li><a href="http://hints.macworld.com/article.php?story=20120507163311559&amp;mode=print" rel="nofollow">Printable Hint Format</a></li>
  <li><a href="http://hints.macworld.com/backend/hintsunix.rss" type="application/rss+xml" class="feed-link">Subscribe to 'macosxhints.com Unix tips and tricks'</a></li>

</ul>
</div>

</div>
        <div class="clearboth"></div>
        <div id="commentarea">
<div class="comment-divider"> </div>
<br />
<a id="comments" name="comments"></a>
<div class="commentbar-line1">
    <b>Save all of your Terminal activity to a file</b> | 9 comments |  <a href="http://hints.macworld.com/users.php?mode=new" rel="nofollow" class="commentbar1">Create New Account</a>
</div>
<table cellpadding="0" style="width:100%;padding-bottom:2px" class="commentbar-line2">
<tr>
  <td>
    <form action="http://hints.macworld.com/comment.php" method="post" class="floatleft" style="display:inline;">
        <div>
            <input type="hidden" name="sid" value="20120507163311559">
            <input type="hidden" name="pid" value="0">
            <input type="hidden" name="type" value="article">
            <input type="hidden" name="title" value="Save all of your Terminal activity to a file">
            <input type="submit" name="reply" value="Post a comment">
        </div>
    </form>
    <form action="http://hints.macworld.com/article.php" method="post" class="floatright" style="display:inline;">
        <div>
            <input type="hidden" name="story" value="20120507163311559">
            <select name="order">
<option value="DESC">Newest First</option>
<option value="ASC" selected="selected">Oldest First</option>

</select>
            <select name="mode">
<option value="flat">Flat</option>
<option value="nested" selected="selected">Nested</option>
<option value="nocomment">No Comments</option>
<option value="threaded">Threaded</option>

</select>
            <input type="submit" value="Refresh">
            <input type="hidden" name="type" value="article">
        </div>
    </form>
  </td>
</tr>
  <tr>
    <td align="center" style="padding:3px 0px 3px 0px; background-color:#FFEABE"><a href="http://hints.macworld.com/article.php?story=20120507163311559"><b>Click here</a> to return to the 'Save all of your Terminal activity to a file' hint</a></td>
  </tr>
  </table>
<div class="commentbar-line3">
    The following comments are owned by whoever posted them. This site is not responsible for what they say.
</div>

<div class="p402_premium">
<div class="comment" style="padding-left: 0px">
  <div class="commenttitle">
    This is unnecessary.<br>
    <span class="comment-author">
      Authored by: <a href="http://hints.macworld.com/users.php?mode=profile&amp;uid=1623">Chas</a> on May 11, '12 08:03:23AM
    </span>
  </div>
  <div class="comment-box" style="vertical-align"><p>Apparently you don't know that bash already has a history file &quot;.bash_history&quot; in your home directory. Just hit the up arrow to scroll through your previous commands. I don't know how big the default history is, but it can be expanded easily. RTFM.<br />
<br />
Even if you wanted to do this log file (which you shouldn't) you're setting it up wrong. You should be doing this with environment variables and .bashrc</p>
     <span style="display:none"><br /><br />
    <span class="comment-footer">[ <a href="http://hints.macworld.com/comment.php?sid=20120507163311559&amp;pid=129134&amp;title=This+is+unnecessary.&amp;type=article" rel="nofollow">Reply to This</a> |    <a href="http://hints.macworld.com/comment.php?mode=view&amp;cid=129134" rel="self bookmark" title="Permanent link to this comment">#</a> ]</span>
   </span>
  </div>
</div>
<div class="comment" style="padding-left: 0px">
  <div class="commenttitle">
    Save all of your Terminal activity to a file<br>
    <span class="comment-author">
      Authored by: <a href="http://hints.macworld.com/users.php?mode=profile&amp;uid=1051287">mchagers</a> on May 11, '12 08:54:38AM
    </span>
  </div>
  <div class="comment-box" style="vertical-align"><p>Are you aware that everything you type into the terminal is already logged to the file .bash_history in your home directory? That is if you're using bash as your shell of course, but since it's the default, this will be the shell for most users.<br />
I'm not sure how long the contents of this file are kept, apparently the oldest lines are purged from it after some time, but you could make backups every month or so to make sure nothing is lost.</p>
     <span style="display:none"><br /><br />
    <span class="comment-footer">[ <a href="http://hints.macworld.com/comment.php?sid=20120507163311559&amp;pid=129126&amp;title=Save+all+of+your+Terminal+activity+to+a+file&amp;type=article" rel="nofollow">Reply to This</a> |    <a href="http://hints.macworld.com/comment.php?mode=view&amp;cid=129126" rel="self bookmark" title="Permanent link to this comment">#</a> ]</span>
   </span>
  </div>
</div>
<div class="comment" style="padding-left: 25px">
  <div class="commenttitle">
    Save all of your Terminal activity to a file<br>
    <span class="comment-author">
      Authored by: <a href="http://hints.macworld.com/users.php?mode=profile&amp;uid=59848">lurch99</a> on May 11, '12 09:33:48AM
    </span>
  </div>
  <div class="comment-box" style="vertical-align">Actually, .bash_history just records the commands you've entered, not everything you've typed in Terminal, which is what 'script' does.However, it's also good to use the following in your .bash_profile (or .bashrc) to record a longer amount of bash history:<pre><code>export HISTFILESIZE=1000</code></pre>
     <span style="display:none"><br /><br />
    <span class="comment-footer">[ <a href="http://hints.macworld.com/comment.php?sid=20120507163311559&amp;pid=129127&amp;title=Save+all+of+your+Terminal+activity+to+a+file&amp;type=article" rel="nofollow">Reply to This</a> |    <a href="http://hints.macworld.com/comment.php?mode=view&amp;cid=129127" rel="self bookmark" title="Permanent link to this comment">#</a> ]</span>
   </span>
  </div>
</div>
<div class="comment" style="padding-left: 25px">
  <div class="commenttitle">
    Save all of your Terminal activity to a file<br>
    <span class="comment-author">
      Authored by: <a href="http://hints.macworld.com/users.php?mode=profile&amp;uid=53888">aubreyapple</a> on May 11, '12 10:01:32AM
    </span>
  </div>
  <div class="comment-box" style="vertical-align"><p>The problem with the history files is that the only thing saved there is what was the last terminal window. If you use multiple terminal windows, the history there can be somewhat mixed up.<br />
<br />
More: When you start a window, the contents of the history file are available to you. When you type commands, they will be saved to the history file, sometimes immediately and sometimes when you close the window. Each window maintains it's own history, so unless you never use more than one terminal window at a time, it is a crap shoot as to what gets saved there. (I am sure there is an algorithm, but I never use history myself, I set the save history to 0 for security reasons).<br />
<br />
So, the history file is useful. So is this hint. Combined, yet more useful... :-)</p>
     <span style="display:none"><br /><br />
    <span class="comment-footer">[ <a href="http://hints.macworld.com/comment.php?sid=20120507163311559&amp;pid=129128&amp;title=Save+all+of+your+Terminal+activity+to+a+file&amp;type=article" rel="nofollow">Reply to This</a> |    <a href="http://hints.macworld.com/comment.php?mode=view&amp;cid=129128" rel="self bookmark" title="Permanent link to this comment">#</a> ]</span>
   </span>
  </div>
</div>
<div class="comment" style="padding-left: 50px">
  <div class="commenttitle">
    Save all of your Terminal activity to a file<br>
    <span class="comment-author">
      Authored by: <a href="http://hints.macworld.com/users.php?mode=profile&amp;uid=1051186">excarnate</a> on May 11, '12 10:44:39AM
    </span>
  </div>
  <div class="comment-box" style="vertical-align"><p>Actually you can save your history from multiple windows to a single .bash_history file.  Here are some things related to history in my .bash_profile:<br />
<br />
HISTSIZE=2222<br />
HISTFILESIZE=999999<br />
HISTTIMEFORMAT=&quot;%Y%m%d-%T &quot;<br />
HISTIGNORE=&quot;&amp;:pwd:ls:[bf]g:exit:[ \t]*&quot;<br />
shopt -s cmdhist<br />
shopt -s histappend<br />
export PROMPT_COMMAND=&quot;history -a; history -c; history -r; &#36;PROMPT_COMMAND&quot;<br />
function hs &#123;<br />
	grep &#36;1 &#36;HISTFILE<br />
&#125;<br />
<br />
In order, this:<br />
Sets the history kept for a current iteration of the shell to larger than the default of 500.  If you have a lot of terminal sessions or keep them open for weeks/months you may want to up this value.<br />
Keeps a large history file (which I like, this may be a bit much, though).<br />
Records and displays the date and time of a command.<br />
Ignores repeated and uninteresting commands, also allows you to keep a command out of history by starting it with a space or a tab.<br />
Displays multiple commands entered on a single line on a single line (think: for loop).  This is just my preference.<br />
Appends history from all windows.<br />
Everytime there is a new prompt, the history is appended, cleared, read (back) in so history from all windows is available and displays correctly in all windows.<br />
Finally, a command to search the history (e.g. an easier way than history|grep foo).<br />
<br />
This doesn't record, as 'script' does, the output of commands, but it does much of what is useful (I use the script command in more limited circumstances).  If you don't use (the default) bash shell, you'll have to look up how to do things in your chosen shell.<br />
<br />
Note that the script command records control characters like backspaces, and capturing a vi session is a bit messy.  If just want a history of what you typed, use the built in history functionality of bash.<div class="comment-edit">Edited on May 11, '12 12:13:37PM by excarnate</div><!-- /COMMENTEDIT --></p>
     <span style="display:none"><br /><br />
    <span class="comment-footer">[ <a href="http://hints.macworld.com/comment.php?sid=20120507163311559&amp;pid=129129&amp;title=Save+all+of+your+Terminal+activity+to+a+file&amp;type=article" rel="nofollow">Reply to This</a> |    <a href="http://hints.macworld.com/comment.php?mode=view&amp;cid=129129" rel="self bookmark" title="Permanent link to this comment">#</a> ]</span>
   </span>
  </div>
</div>
<div class="comment" style="padding-left: 75px">
  <div class="commenttitle">
    Save all of your Terminal activity to a file<br>
    <span class="comment-author">
      Authored by: <a href="http://hints.macworld.com/users.php?mode=profile&amp;uid=1051186">excarnate</a> on May 11, '12 11:58:58AM
    </span>
  </div>
  <div class="comment-box" style="vertical-align"><p>&lt;deleted, redundant&gt;<div class="comment-edit">Edited on May 11, '12 12:14:04PM by excarnate</div><!-- /COMMENTEDIT --></p>
     <span style="display:none"><br /><br />
    <span class="comment-footer">[ <a href="http://hints.macworld.com/comment.php?sid=20120507163311559&amp;pid=129131&amp;title=Save+all+of+your+Terminal+activity+to+a+file&amp;type=article" rel="nofollow">Reply to This</a> |    <a href="http://hints.macworld.com/comment.php?mode=view&amp;cid=129131" rel="self bookmark" title="Permanent link to this comment">#</a> ]</span>
   </span>
  </div>
</div>
<div class="comment" style="padding-left: 25px">
  <div class="commenttitle">
    Save all of your Terminal activity to a file<br>
    <span class="comment-author">
      Authored by: <a href="http://hints.macworld.com/users.php?mode=profile&amp;uid=1012306">amusingfool</a> on May 15, '12 07:12:56AM
    </span>
  </div>
  <div class="comment-box" style="vertical-align"><p>Two other important points, when using this feature.  Close your shells using 'exit', not just allowing them to end.  This forces a flush to the .bash_history.  And you can also do<br />
export HISTCONTROL=erasedups<br />
<br />
This will keep duplicates from being written to the file.  It does some odd things to the history substitutions (when at history entry 1024, !-2 and !1022 might not do the same thing), but does prevent 500 instances of 'cd' from taking over the history.</p>
     <span style="display:none"><br /><br />
    <span class="comment-footer">[ <a href="http://hints.macworld.com/comment.php?sid=20120507163311559&amp;pid=129161&amp;title=Save+all+of+your+Terminal+activity+to+a+file&amp;type=article" rel="nofollow">Reply to This</a> |    <a href="http://hints.macworld.com/comment.php?mode=view&amp;cid=129161" rel="self bookmark" title="Permanent link to this comment">#</a> ]</span>
   </span>
  </div>
</div>
<div class="comment" style="padding-left: 0px">
  <div class="commenttitle">
    Save all of your Terminal activity to a file<br>
    <span class="comment-author">
      Authored by: <a href="http://hints.macworld.com/users.php?mode=profile&amp;uid=1051186">excarnate</a> on May 11, '12 11:51:23AM
    </span>
  </div>
  <div class="comment-box" style="vertical-align">Note that the script has a <a href="http://stackoverflow.com/questions/34510/what-is-a-race-condition">race condition</a>.  If you open several terminals at once, the script will clobber the same file and have multiple terminals writing to it at once; which is fun, but not what is intended.
     <span style="display:none"><br /><br />
    <span class="comment-footer">[ <a href="http://hints.macworld.com/comment.php?sid=20120507163311559&amp;pid=129130&amp;title=Save+all+of+your+Terminal+activity+to+a+file&amp;type=article" rel="nofollow">Reply to This</a> |    <a href="http://hints.macworld.com/comment.php?mode=view&amp;cid=129130" rel="self bookmark" title="Permanent link to this comment">#</a> ]</span>
   </span>
  </div>
</div>
<div class="comment" style="padding-left: 0px">
  <div class="commenttitle">
    Save all of your Terminal activity to a file<br>
    <span class="comment-author">
      Authored by: <a href="http://hints.macworld.com/users.php?mode=profile&amp;uid=1005200">mark hunte</a> on May 11, '12 11:43:59PM
    </span>
  </div>
  <div class="comment-box" style="vertical-align">Thank you for this, I wish I had known about it before.<br><b>One think to note that I found: The output does not seem to be instant, it may take about 10-20 seconds to log the text.</b><br><br>Also a thought occurred to me,  you do not need to have a separate script file to archive the logs.<br>Just put this in the Run command.<br><pre><code>FORMATTED_DATE=`/bin/date "+%Y-%m-%d%H%M%S"`;/usr/bin/script  ~/Library/Logs/Terminal/terminal_&#36;FORMATTED_DATE.log</code></pre>If you want to use just one file but append to the contents then use the  <b>-a </b>option<pre><code>/usr/bin/script -a ~/Library/Logs/Terminal/Terminal.log</code></pre>I have also pointed it to a folder called "Terminal" in the users logs. This way I can go into Console and find them quickly.<!-- COMMENTSIG --><div class="comment-sig">---<br>mh</div><!-- /COMMENTSIG --><div class="comment-edit">Edited on May 12, '12 12:05:30AM by mark hunte</div><!-- /COMMENTEDIT -->
     <span style="display:none"><br /><br />
    <span class="comment-footer">[ <a href="http://hints.macworld.com/comment.php?sid=20120507163311559&amp;pid=129133&amp;title=Save+all+of+your+Terminal+activity+to+a+file&amp;type=article" rel="nofollow">Reply to This</a> |    <a href="http://hints.macworld.com/comment.php?mode=view&amp;cid=129133" rel="self bookmark" title="Permanent link to this comment">#</a> ]</span>
   </span>
  </div>
</div>

</div><!-- bct -->
<p class="aligncenter"></p>
</div>
<script type="text/javascript">
  try { _402_Show(); } catch(e) {}
</script>


<link href="http://static.macworld.com/css/adops.css" rel="stylesheet" type="text/css" media="screen" />

<br />
<script type="text/javascript"><!--
google_ad_client = "ca-pub-4268075595326305";
/* MacOSXHints Text Box Bottom 728x90 */
google_ad_slot = "4993543592";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br /><br />            <!-- End Content Area -->
            </td>
            <!-- Start of Right Blocks -->
<td class="block-outerborder-right">
    <div style="background:transparent; width:7px; height:1px;"></div>
</td>
<td class="block-featured-right" style="vertical-align:top;">
    <div class="block-bg-right">
            <div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>Search</h2><form method="get" action="http://www.macosxhints.com/search.php" style="margin-bottom: 0pt;">					
						<input type="text" class="xpinputfield" maxlength="255" size="17" name="query"/>						
						<input type="submit" value="Go!"/> <small><a href="http://www.macosxhints.com/search.php">Advanced</a></small>  						
						<input type="hidden" value="search" name="mode"/>						
						<input type="hidden" value="all" name="type"/>						
						<input type="hidden" value="all" name="keyType"/>
					</form>
</div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>
<div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>From our Sponsor...</h2>
<div id='div-gpt-ad-bb-0'>
   <script type='text/javascript'>
   googletag.cmd.push(function() { googletag.display('div-gpt-ad-bb-0'); });
</script>
</div>
 

</div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>
<div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>Latest Mountain Lion Hints</h2><ul class="list-feed">  <li><a href="http://hints.macworld.com/article.php?story=20140129221522629">10.8: AppleScript to close iCal Alerts</a></li>  <li><a href="http://hints.macworld.com/article.php?story=20130913034629226">Displaying film-related metadata columns in non-&quot;Movies&quot; folders in the Finder</a></li>  <li><a href="http://hints.macworld.com/article.php?story=20130823121503958">Send iMessages from the Finder</a></li>  <li><a href="http://hints.macworld.com/article.php?story=2013082312083126">Quick Look with a three-finger tap</a></li>  <li><a href="http://hints.macworld.com/article.php?story=20130823113108190">Create Smart Collections in Font Book</a></li>  <li><a href="http://hints.macworld.com/article.php?story=20130823112707994">Share contacts from your Mac via iMessage or AirDrop</a></li></ul>
</div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>
<div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>    </h2><a href="http://www.macworld.com/lion">Click here for complete coverage of Lion on Macworld.</a>
</div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>
<div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>User Functions</h2><form action="http://hints.macworld.com/users.php" method="post" style="margin-top:5px;margin-bottom:5px;">
    <div>
        <label for="loginname">Username:</label><br>
        <input type="text" size="10" name="loginname" value="" id="loginname"><br>
        
        <label for="passwd">Password:</label><br>
        <input type="password" size="10" name="passwd" autocomplete="off" id="passwd"><br>
        <input type="submit" value="Login">
    </div>
</form>
<p><br>
Lost your <a href="http://hints.macworld.com/users.php?mode=getpassword" rel="nofollow">password</a>?</p>

</div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>
<div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>What's New:</h2><h3>Hints</h3><a href="http://hints.macworld.com/index.php?display=new">1 new Hints in the last 24 hours</a><br><br><h3>Comments <small>last 2 days</small></h3>No new comments<br>
<br><h3>Links <small>last 2 weeks</small></h3>No recent new links<br>
</div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>
<div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>What's New in the Forums?</h2><ul class="list-feed">  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170920&goto=newpost">Nano 7 - backgrounds... REALLY?</a></li>  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170919&goto=newpost">Anti-malware/virus software...</a></li>  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170918&goto=newpost">Using Automator to move files one folder up</a></li>  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170917&goto=newpost">Weird PDF behaviour in Yosemite</a></li>  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170916&goto=newpost">Copying files to multiple folders using Applescript</a></li>  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170915&goto=newpost">Looking for simple iTunes track info visualizer</a></li>  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170914&goto=newpost">Adding SSD iMac Mid 2011 - 21.5"</a></li>  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170913&goto=newpost">Mounting NFS drive without showing on Desktop</a></li>  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170912&goto=newpost">How to Get Rid of Spotlight's Help Screen?</a></li>  <li><a href="http://hintsforums.macworld.com/showthread.php?t=170911&goto=newpost">TM backup via Ethernet</a></li></ul>
</div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>
<div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>Hints by Topic</h2><div align="center"><form action="index.php" method="get"><select name="topic" onchange="window.location=('/index.php?topic='+this.options[this.selectedIndex].value)"><option value="">-- All Topics --</option><option value="apps">Apps</option>
<option value="bestof">Best Of</option>
<option value="classic">Classic</option>
<option value="desktop">Desktop</option>
<option value="hwdesktop">Desktop Macs</option>
<option value="iCloud">iCloud</option>
<option value="install">Install</option>
<option value="internet">Internet</option>
<option value="hwiphone">iOS devices</option>
<option value="hwipod">iPod</option>
<option value="hwlaptop">Laptop Macs</option>
<option value="network">Network</option>
<option value="server">OS X Server</option>
<option value="hwother">Other Hardware</option>
<option value="hwpda">PDAs etc.</option>
<option value="hwphone">Phones</option>
<option value="pick">Pick of the Week</option>
<option value="pressrel">Press Rel</option>
<option value="hwprinter">Printers</option>
<option value="reviews">Reviews</option>
<option value="hwscanner">Scanners</option>
<option value="1sitenews">Site News</option>
<option value="hwstorage">Storage Devices</option>
<option value="system">System</option>
<option value="system104">System 10.4</option>
<option value="system105">System 10.5</option>
<option value="system106">System 10.6</option>
<option value="system107">System 10.7</option>
<option value="system108">System 10.8</option>
<option value="System109">System 10.9</option>
<option value="unix" selected="selected">UNIX</option>
<option value="browsers">Web Browsers</option>
</select>&nbsp;<input type="submit" value="Go!"></form></div></div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>
<div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>News from Macworld</h2><ul class="list-feed">  <li><a href="http://www.macworld.com/article/2847855/lyft-for-work-challenges-uber-for-business-in-the-battle-for-corporate-dollars.html#tk.rss_all">Lyft for Work challenges Uber for Business in the battle for corporate dollars</a></li>  <li><a href="http://www.macworld.com/article/2847465/let-the-right-one-in-apple-uses-two-doors-to-manage-malware.html#tk.rss_all">Let the right one in: Apple uses two doors to manage malware</a></li>  <li><a href="http://www.macworld.com/article/2847721/hachette-book-pre-orders-return-to-amazon-as-companies-come-to-terms.html#tk.rss_all">Hachette book preorders return to Amazon as companies come to terms</a></li>  <li><a href="http://www.macworld.com/article/2847243/the-week-in-ios-apps-taylor-swift-fans-are-gonna-play-play-play.html#tk.rss_all">The Week in iOS Apps: Taylor Swift fans are gonna play, play, play</a></li>  <li><a href="http://www.macworld.com/article/2847238/facebook-lays-ground-for-ad-push-and-payments-with-updated-privacy-policy.html#tk.rss_all">Facebook lays ground for ad push and payments with updated privacy policy</a></li>  <li><a href="http://www.macworld.com/article/2847021/free-advice.html#tk.rss_all">Free advice: Apple gets what it pays for</a></li>  <li><a href="http://www.macworld.com/article/2847336/review-ixpand-flash-drive-adds-easy-to-use-extra-storage-to-your-ipad-and-iphone.html#tk.rss_all">Review: iXpand Flash Drive adds easy-to-use extra storage to your iPad and iPhone</a></li>  <li><a href="http://www.macworld.com/article/2847392/alpine-headphones-review-these-are-thumpin-good-cans.html#tk.rss_all">Alpine Headphones review: These are thumpin' good cans</a></li>  <li><a href="http://www.macworld.com/article/2846839/creaticity-the-ultimate-guide-to-better-selfies.html#tk.rss_all">Creaticity: The ultimate guide to better selfies</a></li>  <li><a href="http://www.macworld.com/article/2846044/changes-coming-to-twitter-videos-timeline-highlights-and-new-ways-to-chat.html#tk.rss_all">Changes coming to Twitter: Videos, timeline highlights, and new ways to chat</a></li>  <li><a href="http://www.macworld.com/article/2846975/google-youtube-music-key-one-ups-streaming-music-services-by-adding-videos.html#tk.rss_all">Google YouTube Music Key one-ups streaming music services by adding videos</a></li>  <li><a href="http://www.macworld.com/article/2846183/the-week-in-ios-accessories-make-your-gloves-touchscreen-friendly.html#tk.rss_all">The Week in iOS Accessories: Make your gloves touchscreen friendly</a></li>  <li><a href="http://www.macworld.com/article/2847014/apples-imessage-workaround-arrives-too-late-to-avoid-a-lawsuit.html#tk.rss_all">Apple?s iMessage workaround arrives too late to avoid a lawsuit</a></li>  <li><a href="http://www.macworld.com/article/2846755/beats-first-new-headphones-under-apple-combine-wired-and-wireless-connectivity.html#tk.rss_all">Beats' first new headphones under Apple combine wired and wireless connectivity</a></li>  <li><a href="http://www.macworld.com/article/2846002/verizon-offers-free-wi-fi-mobile-data-and-more-to-weary-thanksgiving-travelers.html#tk.rss_all">Verizon offers free Wi-Fi, mobile data, and more to weary Thanksgiving travelers</a></li></ul>
</div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>
<div class="block-box-right">
    <span class="block-helpicon">
        
    </span>
    <h2>From Our Sponsors</h2><link href="http://static.macworld.com/css/adops.css" rel="stylesheet" type="text/css" media="screen" />
<script type="text/javascript"><!--
google_ad_client = "ca-pub-4268075595326305";
/* MacOSXHints Text Box Right 300x250 */
google_ad_slot = "5641372690";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div>
<div class="aligncenter">
    <div class="block-divider-right"></div>
</div>

            <div class="block-bg-spreader"></div>
    </div>
</td>
<!--</td></tr></table>-->
<!--If you want the splash, uncomment the last line. If you want no splash, make sure it is commented out.-->

        </tr>
    </table>
    
    <table cellpadding="0" cellspacing="0" width="100%" class="footer-divider-top">
        <tr style="background-image:url(http://hints.macworld.com/layout/hints1/theme-images/botbkgnd1.jpg); background-repeat: repeat-x" height="44">
            <td class="footerblock alignleft" style="width:70%;">
                Copyright &copy; 2014 <a href="http://www.macworld.com/contact.html">IDG Consumer & SMB</a>&nbsp;(<a href="http://www.macworld.com/info/privacy/">Privacy Policy</a>)&nbsp;<a href="http://www.macworld.com/contact.html?t=e&e=Craig+Arko&ssid=1&sid=134700">Contact Us</a><br>All trademarks and copyrights on this page are owned by their respective owners.
            </td>
            <td class="footerblock alignright" style="width:30%;">
                <div id="IDG">
		<script type="text/javascript">
<!--
function MM_jumpMenu(targ,selObj,restore){ //v3.0
  eval(targ+".location='"+selObj.options[selObj.selectedIndex].value+"'");
  if (restore) selObj.selectedIndex=0;
}
//-->
</script>
<p>Visit other IDG sites: </p>
		<form id="form" name="form">
  	<select onChange="MM_jumpMenu('parent',this,0)" id="jumpMenu" name="jumpMenu">
  	 <option target="_blank" value="">Select One</option>
    <option value="http://www.cio.com">CIO</option>
<option value="http://www.computerworld.com">Computerworld</option>
<option value="www.idgconnect.com">IDG Connect</option>
<option value="http://www.csoonline.com">CSO</option>
<option value="http://www.demo.com/">DEMO</option> 
<option value="http://www.gamepro.com">GamePro</option>
<option value="http://www.games.net">Games.net</option>
<option value="http://www.infoworld.com">InfoWorld</option>
<option value="http://www.itworld.com">ITworld</option>
<option value="http://www.javaworld.com">JavaWorld</option>
<option value="http://www.linuxworld.com">LinuxWorld</option>
<option value="http://www.macworld.com">Macworld</option>
<option value="http://www.macuser.com">MacUser</option>
<option value="http://www.networkworld.com">Network World</option>
<option value="http://www.pcworld.com/">PC World</option>
<option value="http://www.thestandard.com">The Industry Standard</option>
<option value="http://www.idgknowledgehub.com">IDG Knowledge Hub</option>
<option value="http://www.idgtechnetwork.com">IDG TechNetwork</option>
  </select>
</form>
	</div>
            </td>
        </tr>
        		<tr>
			<td id="ntwrk">
				<a href="http://pcworld.com"><img width="90" height="15" border="0" src="http://images.pcworld.com/images/footer/PCWNetwork.gif"/></a>
<ul>
    <li><a href="http://www.macworld.com/" target="_blank">Macworld</a></li>
    <li><a href="http://www.macuser.com/" target="_blank">MacUser</a></li>
    <li><a href="http://www.osxhints.com/" target="_blank">Mac OS X Hints</a></li>
    <li><a href="http://iphone.macworld.com/" target="_blank">iPhone Central</a></li>
    <li><a href="http://www.pcworld.com/" target="_blank">PC World</a></li>
    <li class="last"><a href="http://www.pcworld.com/businesscenter" target="_blank">PCW Business Center</a></li>
  </ul>
			</td>
		</tr>
        <tr>
        	<td colspan="2" width="100%" class="footerblock" valign="middle" align="center"><br>Created this page in 0.22 seconds&nbsp;</td>
        </tr>

    </table>



<script type="text/javascript"> var vglnk_api_key = "2b0adaafa9ad8a29fede7758fada1730"; var vglnk_domain = (("https:" == document.location.protocol) ? " https://" : " http://") + "api.viglink.com"; document.write(unescape("%3Cscript src='" + vglnk_domain + "/api/vglnk.js?key=" + vglnk_api_key + "' type='text/javascript'%3E%3C/script%3E")); </script> <script type="text/javascript"> try { vglnk(vglnk_domain, vglnk_api_key); } catch(err) {} </script>




</body>
</html>
